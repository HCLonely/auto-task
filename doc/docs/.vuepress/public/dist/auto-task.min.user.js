// ==UserScript==
// @name               auto-task.min
// @namespace          auto-task.min
// @version            5.0.3
// @description        自动完成 Freeanywhere，Giveawaysu，GiveeClub，Givekey，Gleam，Indiedb，keyhub，OpiumPulses，Opquests，SweepWidget 等网站的任务。
// @description:en     Automatically complete the tasks of FreeAnyWhere, GiveawaySu, GiveeClub, Givekey, Gleam, Indiedb, keyhub, OpiumPulses, Opquests, SweepWidget websites.
// @author             HCLonely
// @license            MIT
// @run-at             document-start
// @homepage           https://auto-task-doc.js.org/
// @supportURL         https://github.com/HCLonely/auto-task/issues
// @updateURL          https://github.com/HCLonely/auto-task/raw/main/dist/auto-task.min.user.js
// @installURL         https://github.com/HCLonely/auto-task/raw/main/dist/auto-task.min.user.js
// @downloadURL        https://github.com/HCLonely/auto-task/raw/main/dist/auto-task.min.user.js
// @icon               https://auto-task.hclonely.com/favicon.ico
// @tag                games

// @include            *://freeanywhere.net/*
// @include            *://giveaway.su/giveaway/view/*
// @include            *://givee.club/*/event/*
// @include            *://givekey.ru/giveaway/*
// @include            *://www.indiedb.com/giveaways*
// @include            *://key-hub.eu/giveaway/*
// @include            *://keylol.com/*
// @include            *://www.opiumpulses.com/giveaways
// @include            *://prys.revadike.com/giveaway/?id=*
// @include            *://opquests.com/quests/*
// @include            *://gleam.io/*
// @include            *://sweepwidget.com/view/*
// @include            *://giveawayhopper.com/c/*

// @include            *://discord.com/*
// @include            *://www.twitch.tv/*
// @include            *://www.youtube.com/*
// @include            *://m.youtube.com/*
// @include            *://*.reddit.com/*
// @include            *://twitter.com/settings/account?k*
// @include            *://x.com/settings/account*
// @include            *://steamcommunity.com/*
// @include            *://store.steampowered.com/*

// @include            *://give.gamesforfarm.local/*
// @include            *://gamesforfarm-testing.ru/*
// @include            *://mee6.xyz/*
// @include            *://gamesforfarm.com/*

// @include            https://auto-task.hclonely.com/setting.html
// @include            https://auto-task.hclonely.com/history.html
// @include            https://auto-task-doc.js.org/setting.html
// @include            https://auto-task-doc.js.org/history.html

// @grant              GM_setValue
// @grant              GM_getValue
// @grant              GM_listValues
// @grant              GM_deleteValue
// @grant              GM_addStyle
// @grant              GM_xmlhttpRequest
// @grant              GM_registerMenuCommand
// @grant              GM_info
// @grant              GM_openInTab
// @grant              GM_setClipboard
// @grant              GM_getResourceText
// @grant              GM_cookie
// @grant              GM_addValueChangeListener
// @grant              GM_removeValueChangeListener
// @grant              unsafeWindow
// @grant              window.close
// @grant              window.localStorage
// @grant              window.sessionStorage
// @grant              window.focus

// @connect            auto-task.hclonely.com
// @connect            auto-task-doc.js.org
// @connect            cdn.jsdelivr.net
// @connect            store.steampowered.com
// @connect            steamcommunity.com
// @connect            login.steampowered.com
// @connect            twitter.com
// @connect            x.com
// @connect            abs.twimg.com
// @connect            api.twitter.com
// @connect            youtube.com
// @connect            www.youtube.com
// @connect            facebook.com
// @connect            instagram.com
// @connect            vk.com
// @connect            twitch.tv
// @connect            www.twitch.tv
// @connect            gql.twitch.tv
// @connect            github.com
// @connect            discordapp.com
// @connect            discord.gg
// @connect            discord.com
// @connect            www.reddit.com
// @connect            oauth.reddit.com
// @connect            raw.githubusercontent.com
// @connect            t.me
// @connect            bit.ly
// @connect            giveaway.su
// @connect            google.com
// @connect            www.vloot.io
// @connect            givee.club
// @connect            gleam.io
// @connect            www.indiedb.com
// @connect            key-hub.eu
// @connect            opquests.com
// @connect            itch.io
// @connect            auto-task.hclonely.com
// @connect            giveawayhopper.com
// @connect            freeanywhere.net
// @connect            *

// @require            https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js
// @require            https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js
// @require            https://cdn.jsdelivr.net/npm/js-sha1@0.6.0/src/sha1.min.js
// @require            https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js
// @resource           style https://cdn.jsdelivr.net/npm/sweetalert2@11.3.5/dist/sweetalert2.min.css
// @require            https://cdn.jsdelivr.net/npm/keyboardjs@2.6.4/dist/keyboard.min.js
// @require            https://cdn.jsdelivr.net/npm/dayjs@1.10.7/dayjs.min.js
// @require            https://cdn.jsdelivr.net/gh/tinygo-org/tinygo@3e60eeb368f25f237a512e7553fd6d70f36dc74c/targets/wasm_exec.min.js
// @require            https://cdn.jsdelivr.net/npm/node-inspect-extracted@3.1.0/dist/inspect.min.js
// @require            https://cdn.jsdelivr.net/npm/browser-tool@1.3.2/dist/browser.min.js

// @noframes
// ==/UserScript==

console.log('%c%s', 'color:blue', 'Auto-Task[Load]: 脚本开始加载');

/*
 * @Author       : HCLonely
 * @Date         : 2025-06-15 14:59:17
 * @LastEditTime : 2025-08-18 19:05:01
 * @LastEditors  : HCLonely
 * @FilePath     : /auto-task/src/scripts/checkDependence.js
 * @Description  :
 */
const neededDependencies = ['jQuery', 'Cookies', 'sha1', 'Swal', 'keyboardJS', 'dayjs', 'Go', 'util', 'browser'];

const missingDependencies = neededDependencies.filter(dependency => typeof window[dependency] === 'undefined');

if (missingDependencies.length > 0) {
  console.log('%c%s', 'color:red', `[Auto-Task] 脚本加载失败，缺少的依赖：${missingDependencies.join(', ')}`);
  if (confirm(`[Auto-Task] 脚本依赖加载失败，请刷新重试或安装全依赖版本，是否前往安装全依赖版本？\n缺少的依赖：${missingDependencies.join(', ')}`)) {
    GM_openInTab('https://github.com/HCLonely/auto-task/raw/main/dist/auto-task.min.all.user.js', { active: true });
  }
}


!function(t,e,s,a,r,i){'use strict';const o=/token|auth|session|jwt|key|secret|api[-_]?key|bearer|authorization|access[-_]?token|refresh[-_]?token|sid/i,n=[/([A-Za-z0-9-_]{10,})\.([A-Za-z0-9-_]{10,})\.([A-Za-z0-9-_]{10,})/g,/(Bearer|Basic)\s+([A-Za-z0-9\-._~+/]+=*)/gi,/\b([a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12})\b/gi,/\b(eyJ[A-Za-z0-9\-_]+)\b/g],c=t=>{if(Array.isArray(t)){return t.map(c)}if(t&&'object'==typeof t){const s={};for(const a in t){o.test(a)&&'string'==typeof t[a]?s[a]='string'!=typeof(e=t[a])||e.length<8?e:e.replace(/^([A-Za-z0-9\-_+/=]{4})[A-Za-z0-9\-_+/=]+([A-Za-z0-9\-_+/=]{4})$/,'$1***$2'):s[a]=c(t[a])}return s}var e;return'string'==typeof t&&t.length>8?u(t):t},u=t=>{let e=t;for(const t of n){e=e.replace(t,(function(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++){s[a-1]=arguments[a]}return s.length>=3&&t.includes('.')?s.map((t=>t.length>8?`${t.slice(0,4)}***${t.slice(-4)}`:t)).join('.'):t.length>8?`${t.slice(0,4)}***${t.slice(-4)}`:t}))}return e},l=()=>{const t=console.log;window.__allLogs=window.__allLogs||[],console.log=function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++){s[a]=arguments[a]}const r=(t=>t.map((t=>'string'==typeof t?u(t):'object'==typeof t&&null!==t?c(t):t)))(s);window.__allLogs.push(r),t.apply(console,r)}},d=GM_getValue('globalOptions')||{},h=(t,e)=>{try{const s={...t};for(const[a,r]of Object.entries(e)){const e=t[a];p(r)&&p(e)?s[a]=h(e,r):void 0!==r&&(s[a]=r)}return s}catch(e){return console.log('%c%s','color:white;background:red',`Auto-Task[Error]: deepMerge\n${e.stack}`),t}},p=t=>null!==t&&'object'==typeof t&&!Array.isArray(t),g=h({doTask:{discord:{servers:!0},twitch:{channels:!0},twitter:{users:!0,retweets:!0},vk:{names:!0},youtube:{channels:!0,likes:!0},reddit:{reddits:!0},steam:{groups:!0,officialGroups:!0,wishlists:!0,follows:!0,forums:!0,workshops:!0,curators:!0,workshopVotes:!0,announcements:!0,licenses:!0,playtests:!0,playTime:!0}},undoTask:{discord:{servers:!0},twitch:{channels:!0},twitter:{users:!0,retweets:!0},vk:{names:!0},youtube:{channels:!0,likes:!0},reddit:{reddits:!0},steam:{groups:!0,officialGroups:!0,wishlists:!0,follows:!0,forums:!0,workshops:!0,curators:!0,playTime:!0}},ASF:{AsfEnabled:!1,AsfIpcUrl:'',AsfIpcPassword:'',AsfBotname:'asf',steamWeb:!1,preferASF:!1,steamWebApiKey:''},position:{buttonSideX:'right',buttonSideY:'top',buttonDistance:'15,30',showButtonSideX:'right',showButtonSideY:'top',showButtonDistance:'15,30',logSideX:'right',logSideY:'bottom',logDistance:'10,10'},hotKey:{doTaskKey:'alt + d',undoTaskKey:'alt + u',toggleLogKey:'alt + l'},other:{twitterVerifyId:'783214',youtubeVerifyChannel:'UCrXUsMBcfTVqwAS7DKg9C0Q',autoUpdateSource:'jsdelivr',language:'zh',checkLogin:!0,checkLeftKey:!0,defaultShowButton:!0,defaultShowLog:!0,debug:!1,receivePreview:!0}},d);const m={zh:{website:'网站',type:'类型',edit:'编辑',whiteList:'白名单',skipTask:'跳过撤销任务',whiteListOptions:'白名单设置',changeWhiteListOption:'设置白名单(%0)',whiteListNotFound:'找不到此项白名单: %0',changeWhiteListSuccess:'白名单修改成功，刷新生效！',changeWebsiteOptions:'网站设置',changeGlobalOptions:'全局设置',ok:'是',save:'保存',close:'关闭',return:'返回',option:'选项',value:'值',websiteOptions:'当前网站设置',changeWebsiteOptionsSuccess:'更改当前网站设置成功，刷新生效！',changeGlobalOptionsSuccess:'更改全局设置成功，刷新生效！',needLogin:'请先登录！',getTasksInfo:'正在获取并处理任务信息...',gettingKey:'正在获取Key...',verifyingTask:'正在验证任务',notice:'自动任务脚本提醒',noKeysLeft:'此页面已经没有剩余key了，是否关闭？',giveawayEnded:'此活动已结束，是否关闭？',giveawayNotWork:'此活动因某些原因(已结束/暂停/未开始...)不可用(如果是脚本误判请及时反馈)，是否关闭？',confirm:'确定',cancel:'取消',unKnown:'未知',unKnownTaskType:'未识别的任务',doing:'正在做任务',allTasksComplete:'所有任务已完成！',getTaskIdFailed:'获取任务Id失败！',initSuccess:'%0 初始化成功！',initFailed:'%0 初始化失败！',errorLink:'链接错误: %0',needInit:'请先初始化',verifyingAuth:'正在验证%0凭证...',updatingAuth:'正在更新%0凭证...',refreshingToken:'正在刷新%0凭证...',settingToken:'正在设置%0凭证...',steamStoreTab:'Steam商店(弹窗)',steamCommunityTab:'Steam社区(弹窗)',initing:'正在初始化...',getFailed:'获取%0失败！',checkLoginFailed:'检测登录状态失败！',checkLeftKeyFailed:'检测剩余Key失败！',userId:'用户Id',joiningGiveaway:'正在加入赠Key',needJoinGiveaway:'需要先加入赠Key',cannotUndo:'此网站不支持取消任务',verifyAuth:'正在验证 %0 凭证...',closePageNotice:'如果此页面没有自动关闭，请自行关闭本页面。',errorReport:'检测到脚本报错，是否前往反馈BUG？',visitingLink:'正在访问链接...',doTask:'做任务',undoTask:'撤销任务',verifyTask:'验证任务',getKey:'获取Key',selectAll:'全选',selectNone:'全不选',invertSelect:'反选',doFreeTask:'加入免费赠品',doPointTask:'加入点数赠品',skipTaskOption:'设置中已配置跳过任务',other:'其他',globalOptions:'全局设置',checkLogin:'登录检测</br>需要登录的网站自动登录，部分网站支持',checkLeftKey:'剩余Key检测</br>赠Key活动结束提示是否关闭，部分网站支持',twitterVerifyId:'通过尝试关注该账号验证Twitter凭证</br>默认为Twitter官方帐号 783214</br>不想关注官方账号可以改为自己的帐号',youtubeVerifyChannel:'通过尝试订阅该频道验证YouTube凭证</br>默认为YouTube官方频道 UCrXUsMBcfTVqwAS7DKg9C0Q</br>不想关注官方频道可以改为自己的频道',autoUpdateSource:'更新源</br>github: 需代理，实时更新</br>jsdelivr: 可不用代理，更新有延迟</br>standby: 备用</br>auto: 依次使用github, jsdelivr, standby源进行尝试更新',saveGlobalOptions:'保存设置',settingPage:'设置页面',name:'名称',version:'版本',scriptManager:'脚本管理器',script:'脚本',environment:'环境',os:'系统',browser:'浏览器',getId:'获取 %0 id',getTwitterUserId:'获取Twitter用户id(获取id功能仅在设置页面可用)',getYoutubeChannelId:'获取Youtube频道id(获取id功能仅在设置页面可用)',showButton:'显示按钮',hideButton:'隐藏按钮',showLog:'显示日志',hideLog:'隐藏日志',defaultShowButton:'默认显示按钮',defaultShowLog:'默认显示日志',debug:'输出调试日志，不要开启此选项！',receivePreview:'接收预览版更新',position:'组件位置',buttonSideX:'按钮区域水平方向定位(实时预览功能仅在设置页面可用)</br>left: 靠左 | right: 靠右',buttonSideY:'按钮区域垂直方向定位(实时预览功能仅在设置页面可用)</br>top: 靠上 | bottom: 靠下',buttonDistance:'按钮区域距边缘的距离(实时预览功能仅在设置页面可用)</br>格式: X距离,Y距离',showButtonSideX:'显示按钮水平方向定位(实时预览功能仅在设置页面可用)</br>left: 靠左 | right: 靠右',showButtonSideY:'显示按钮垂直方向定位(实时预览功能仅在设置页面可用)</br>top: 靠上 | bottom: 靠下',showButtonDistance:'显示按钮距边缘的距离(实时预览功能仅在设置页面可用)</br>格式: X距离,Y距离',logSideX:'日志区域水平方向定位(实时预览功能仅在设置页面可用)</br>left: 靠左 | right: 靠右',logSideY:'日志区域垂直方向定位(实时预览功能仅在设置页面可用)</br>top: 靠上 | bottom: 靠下',logDistance:'日志区域距边缘的距离(实时预览功能仅在设置页面可用)</br>格式: X距离,Y距离',hotKey:'快捷键',doTaskKey:'做任务快捷键</br>(实时预览功能仅在设置页面可用)',undoTaskKey:'撤销任务快捷键</br>(实时预览功能仅在设置页面可用)',toggleLogKey:'显示/隐藏日志快捷键</br>(实时预览功能仅在设置页面可用)',tasksHistory:'任务历史',clearHistory:'清空历史',clearHistoryFinished:'已清空任务历史！',deleteTask:'删除任务',lastChangeTime:'最后一次修改时间',clearTaskFinished:'删除以下任务完成！',clearTaskFailed:'删除任务失败，没有找到任务名！',syncData:'数据同步',settingData:'正在上传数据...',gettingData:'正在获取数据...',help:'帮助',fileName:'文件名',upload2gist:'同步到Gist',downloadFromGist:'从Gist同步',saveAndTest:'保存配置并测试',testSuccess:'测试成功！',testFailed:'测试失败！',saveAndTestNotice:'请先保存配置并测试！',processingData:'正在处理数据...',updatingData:'正在上传数据...',syncDataSuccess:'同步数据成功！',syncDataFailed:'同步数据失败，请在控制台查看错误信息！',downloadingData:'正在下载数据...',checkedNoData:'没有检测到远程数据，请确认配置是否正确！',savingData:'正在保存数据...',syncHistory:'同步任务历史',checkUpdateFailed:'检测更新失败',newVersionNotice:'检测到新版本V%0, <a class="high-light" href="%1" target="_blank">点此更新</a>',language:'语言</br>目前仅支持zh: 中文, en: 英文',gistOptions:'Gist 设置',swalNotice:'检测到您第一次安装V4版本脚本，请前往阅读用前必读内容！',echoNotice:'检测到您第一次安装V4版本脚本，请<a class="high-light" href="%0" target="_blank">点此前往</a>阅读用前必读内容！',noticeLink:'https://auto-task-doc.js.org/guide/#用前必读',toGithub:'前往Github反馈',toKeylol:'前往其乐论坛反馈',copySuccess:'错误信息已复制到剪切板，是否前往其乐论坛反馈？',copyFailed:'请复制下方错误信息后前往Keylol论坛反馈！',updateText:'%0 版本更新内容：',Active:'进行中',Ended:'已结束',Banned:'已封禁',Paused:'已暂停',notStart:'未开始',noRemoteData:'检测到远程无数据',errorRemoteDataFormat:'远程数据格式错误',updateHistory:'历史更新记录<a class="high-light" href="https://auto-task-doc.js.org/logs/" target="_blank">点此查看</a>',AsfEnabled:'使用ASF做Steam相关任务(需<a href="https://github.com/chr233/ASFEnhance" target="_blank">ASFEnhance</a>插件)',steamWeb:'同时使用Steam Web API做任务',preferASF:'优先使用ASF',AsfIpcUrl:'ASF IPC 地址',AsfIpcPassword:'ASF IPC 密码',versionNotMatched:'脚本管理器版本过低，需TamperMonkey >= 5.2.0或TamperMonkey Beta >= 5.2.6196',curatorLimitNotice:'失败：可能是鉴赏家关注数量限制，请<a class="high-light" href="https://store.steampowered.com/curators/home/" target="_blank">取关部分鉴赏家</a>后再试',unknownScriptHandler:'未知脚本管理器，适用性未知',debugModeNotice:'检测到 DEBUG 模式已开启，非必要请关闭！',steamWebApiKey:'Steam Web API 密钥<br>用于检测游戏挂机状态，<a href="https://steamcommunity.com/dev/apikey" target="_blank">点此申请</a>',groups:'组',officialGroups:'官方组',wishlists:'愿望单',follows:'游戏关注',forums:'论坛',workshops:'创意工坊收藏',curators:'鉴赏家',workshopVotes:'创意工坊点赞',announcements:'社区通知',steamCommunity:'Steam社区',steamStore:'Steam商店',licenses:'入库免费游戏',playtests:'请求访问权限',playTime:'挂时长',needLoginSteamStore:'请先<a href="https://store.steampowered.com/login/" target="_blank">登录Steam商店</a>',needLoginSteamCommunity:'请先<a href="https://steamcommunity.com/login/home/" target="_blank">登录Steam社区</a>',joiningSteamGroup:'正在加入Steam组',leavingSteamGroup:'正在退出Steam组',gettingSteamGroupId:'正在获取Steam组Id',joiningSteamOfficialGroup:'正在加入Steam官方组',leavingSteamOfficialGroup:'正在退出Steam官方组',gettingSteamOfficialGroupId:'正在获取Steam官方组Id',subscribingForum:'正在订阅Steam论坛',unsubscribingForum:'正在取消订阅Steam论坛',gettingForumId:'正在获取Steam论坛Id',followingCurator:'正在关注Steam鉴赏家',unfollowingCurator:'正在取关Steam鉴赏家',gettingCuratorId:'正在获取Steam鉴赏家Id',addingToWishlist:'正在添加游戏到Steam愿望单',removingFromWishlist:'正在从Steam愿望单移除游戏',followingGame:'正在关注Steam游戏',unfollowingGame:'正在取关Steam游戏',favoritingWorkshop:'正在收藏Steam创意工坊物品',unfavoritingWorkshop:'正在取消收藏Steam创意工坊物品',gettingWorkshopAppId:'正在获取Steam创意工坊物品Id',votingUpWorkshop:'正在点赞Steam创意工坊物品',gettingAnnouncementParams:'正在获取Steam通知信息',likingAnnouncement:'正在点赞Steam通知',changingArea:'正在更换Steam地区: %0...',notNeededChangeArea:'当前地区不需要更换',noAnotherArea:'请检测是否开启正确开启代理',gettingAreaInfo:'正在获取Steam地区信息...',changeAreaNotice:'疑似锁区游戏，尝试换区执行',steamFinishNotice:'Steam任务完成，尝试将购物车地区换回',gettingSubid:'正在获取游戏subid',addingFreeLicense:'正在入库',missParams:'缺少参数',gettingLicenses:'正在获取Licenses...',requestingPlayTestAccess:'正在请求访问权限',gettingDemoAppid:'正在获取Steam游戏的Demo Appid',tryChangeAreaNotice:'此功能无法检测游戏是否限区，因此会尝试换区后再入库，换区失败也不影响后续入库',gettingUserInfo:'正在获取Steam用户社区凭证...',retry:'重试',owned:'已拥有',redirect:'重定向',noSubid:'无法获取，跳过',noASFInstance:'未启用ASF，跳过挂时长任务',initingASF:'正在初始化ASF...',playingGames:'正在挂游戏时长[%0]...',stoppingPlayGames:'正在停止挂游戏时长...',stopPlayTimeTitle:'Steam游戏挂机时长满足，是否结束挂机？',stopPlayTimeText:'挂机已超时：%0 分钟',ASFNotSupportted:'当前功能(%0)ASF无法实现，跳过',checkingPlayGamesStatus:'正在检查挂游戏时长状态...',gettingSteamId:'正在获取Steam ID...',checkingPlayStatus:'正在检查挂机状态...',noPlayStatus:'游戏未运行',servers:'服务器',joiningDiscordServer:'正在加入Discord服务器',leavingDiscordServer:'正在退出Discord服务器',gettingDiscordGuild:'正在获取Discord服务器Id',getDiscordAuthFailed:'获取Discord凭证失败，请检测Discord帐号是否已登录',discordImportantNotice:'重要提醒！！！',discordImportantNoticeText:'由于Discord网站后台更新，目前使用此脚本加组后可能会导致Discord帐号被强制退出，且需要两步验证才能正常登录，请谨慎使用！！！',continueDiscordTask:'本次执行Discord任务',skipDiscordTask:'本次跳过Discord任务',continueAndDontRemindAgain:'总是执行Discord任务且不再提醒',gettingDiscordXContextProperties:'正在获取Discord加群参数',captchaNeeded:'检测到人机验证，请手动完成！',users:'用户',loginIns:'请先<a href="https://www.instagram.com/accounts/login/" target="_blank">登录Instagram</a>',insBanned:'您的Instagram账户已被封禁',verifyingInsAuth:'正在验证Instagram凭证...',gettingInsUserId:'正在获取Instagram用户Id',followingIns:'正在关注Instagram用户',unfollowingIns:'正在取关Instagram用户',reddits:'社区/用户',loginReddit:'请先<a href="https://www.reddit.com/login/" target="_blank">登录Reddit</a>',changingRedditVersion:'正在切换Reddit为新版页面...',joiningReddit:'正在加入Reddit社区',leavingReddit:'正在退出Reddit社区',followingRedditUser:'正在关注Reddit用户',unfollowingRedditUser:'正在取关Reddit用户',channels:'频道',followingTwitchChannel:'正在关注Twitch频道',unfollowingTwitchChannel:'正在取关Twitch频道',gettingTwitchChannelId:'正在获取Twitch频道Id',checkingTwitchIntegrity:'正在检查Twitch完整性...',twitterUser:'推特用户',retweets:'转推',gettingTwitterUserId:'正在获取推特用户Id',followingTwitterUser:'正在关注推特用户',unfollowingTwitterUser:'正在取关推特用户',retweetting:'正在转推',unretweetting:'正在撤销转推',names:'组/社区/动态',loginVk:'请先<a href="https://vk.com/login/" target="_blank">登录Vk</a>',gettingVkId:'正在获取Vk任务Id',joiningVkGroup:'正在加入Vk组',leavingVkGroup:'正在退出Vk组',joiningVkPublic:'正在加入Vk社区',leavingVkPublic:'正在退出Vk社区',sendingVkWall:'正在转发Vk动态',deletingVkWall:'正在撤销转发Vk动态',youtubeChannel:'YouTube频道',likes:'点赞',loginYtb:'请先<a href="https://accounts.google.com/ServiceLogin?service=youtube" target="_blank">登录YouTube</a>',tryUpdateYtbAuth:'请尝试<a href="https://www.youtube.com/#auth" target="_blank">更新YouTube凭证</a>',gettingYtbToken:'正在获取YouTube Token...',followingYtbChannel:'正在订阅YouTube频道',unfollowingYtbChannel:'正在退订YouTube频道',likingYtbVideo:'正在点赞YouTube视频',unlikingYtbVideo:'正在取消点赞YouTube视频',giveKeyNoticeBefore:'每次验证间隔15s',giveKeyNoticeAfter:'如果没有key, 请在<a href="https://givekey.ru/profile" target="_blank">https://givekey.ru/profile</a>查看',noPoints:'点数不够，跳过抽奖',getNeedPointsFailed:'获取所需点数失败，跳过抽奖',joiningLottery:'正在加入抽奖',doingGleamTask:'正在做Gleam任务...',gettingGleamLink:'正在获取Gleam任务链接...',gleamTaskNotice:'如果此页面长时间未关闭，请完成任一任务后自行关闭！',verifiedGleamTasks:'已尝试验证所有任务，验证失败的任务请尝试手动验证或完成！',campaign:'检测到人机验证，请手动完成！3秒后重新检测...',gsNotice:'为避免得到"0000-0000-0000"key, 已自动屏蔽"Grab Key"按钮，获取key时请关闭脚本！',giveeClubVerifyNotice:'正在验证任务...',giveeClubVerifyFinished:'请等待验证完成后自行加入赠Key',doingKeyhubTask:'正在做Keyhub任务...',SweepWidgetNotice:'正在处理并验证任务，每次验证任务有1~3s间隔防止触发验证过快警告...',tasksNotCompleted:'任务未完成',notConnect:'社交平台未连接，跳过任务: %0',tgTaskNotice:'检测到Telegram任务，需要手动完成',updatingUserData:'正在更新用户数据...',gettingUserGames:'正在获取用户游戏...',confirmingTask:'正在跳过警告页面...',unSupporttedTaskType:'不支持的任务类型: %0',taskNotFinished:'有任务未完成，不获取密钥',logCopied:'完整日志已复制到剪切板，请前往反馈！'},en:{website:'Website',type:'Type',edit:'Edit',whiteList:'Whitelist',skipTask:'Skip undo task',whiteListOptions:'Whitelist options',changeWhiteListOption:'Whitelist option(%0)',whiteListNotFound:'Cannot find this whitelist: %0',changeWhiteListSuccess:'The whitelist is successfully modified, and the page refresh will take effect!',changeWebsiteOptions:'Website options',changeGlobalOptions:'Global options',ok:'OK',save:'Save',close:'Close',return:'Return',option:'Option',value:'Value',websiteOptions:'Current website settings',changeWebsiteOptionsSuccess:'The current website setting is changed successfully, and the page refresh will take effect!',changeGlobalOptionsSuccess:'The global setting is changed successfully, and the refresh will take effect!',needLogin:'Please log in first!',getTasksInfo:'Obtaining and processing task information...',gettingKey:'Getting Key...',verifyingTask:'Verifying task',notice:'Automatic task script notice',noKeysLeft:'There are no more keys left on this page. Do you want to close it?',giveawayEnded:'This event has ended, do you want to close it?',giveawayNotWork:'This activity is unavailable for some reasons (banned/ended/paused/not started...) (if it is a script misjudgment, please give us feedback in time), is it closed?',confirm:'Confirm',cancel:'Cancel',unKnown:'Unknown',unKnownTaskType:'Unrecognized task',doing:'Doing a task',allTasksComplete:'All tasks have been completed!',getTaskIdFailed:'Failed to obtain task Id!',initSuccess:'%0 was initialized successfully!',initFailed:'%0 initialization failed!',errorLink:'Link error: %0',needInit:'Please initialize first',verifyingAuth:'Verifying %0 token...',updatingAuth:'Update %0 token...',refreshingToken:'Refreshing %0 token...',settingToken:'Setting %0 token...',steamStoreTab:'Steam store (new tab)',steamCommunityTab:'Steam community(new tab)',initing:'Initializing...',getFailed:'Failed to get %0!',checkLoginFailed:'Failed to detect login status!',checkLeftKeyFailed:'Failed to detect the remaining keys!',userId:'User Id',joiningGiveaway:'Joining giveaway',needJoinGiveaway:'Need to join the giveaway first',cannotUndo:'This website does not support canceling tasks',verifyAuth:'Verifying %0 token...',closePageNotice:'f this page does not close automatically, please close this page yourself.',errorReport:'A script error is detected, do you want to report the BUG?',visitingLink:'Visiting link ...',doTask:'DoTask',undoTask:'UndoTask',verifyTask:'Verify',getKey:'GetKey',selectAll:'SelectAll',selectNone:'SelectNone',invertSelect:'InvertSelect',doFreeTask:'FreeTask',doPointTask:'PointTask',skipTaskOption:'Skip task has been configured in the settings',other:'Other',globalOptions:'Global Options',checkLogin:'Login detection</br>Need to log in to the website automatically log in, part of this website supports.',checkLeftKey:'Key remaining detection</br>The end of the giveaway event prompts whether to close or not, part of this website supports.',twitterVerifyId:'Verify Twitter token by trying to follow the account.</br>The default is the official Twitter account 783214.</br>If you don\'t want to follow the official account, you can change it to your own account.',youtubeVerifyChannel:'Verify YouTube token by trying to subscribe to the channel.</br>The default is the official YouTube channel UCrXUsMBcfTVqwAS7DKg9C0Q.</br>If you don\'t want to follow the official channel, you can change it to your own channel.',autoUpdateSource:'The source to update</br>github: Fast update.</br>jsdelivr: Update is delayed.</br>standby: Standby source.</br>auto: Try to update using github, jsdelivr, standby sources in turn.',saveGlobalOptions:'SaveSettings',settingPage:'Setting Page',name:'Name',version:'Version',scriptManager:'Script Manager',script:'Script',environment:'Environment',os:'OS',browser:'Browser',getId:'Get %0 id',getTwitterUserId:'Get Twitter user id (Get id function is only available on the settings page).',getYoutubeChannelId:'Get Youtube channel id (Get id function is only available on the settings page).',showButton:'ShowButton',hideButton:'HideButton',showLog:'ShowLog',hideLog:'HideLog',defaultShowButton:'Default display button',defaultShowLog:'Display log by default',debug:'Output debug log, do not enable this option!',receivePreview:'Receive preview updates',position:'Component position',buttonSideX:'Horizontal positioning of the button area (real-time preview function is only available on the setting page).</br>left: left | right: right',buttonSideY:'The button area is positioned in the vertical direction (real-time preview function is only available on the settings page).</br>top: top | bottom: bottom',buttonDistance:'The distance between the button area and the edge (the real-time preview function is only available on the setting page).</br> Format: X distance, Y distance',showButtonSideX:'ShowButton horizontal positioning (real-time preview function is only available on the setting page).</br>left: left | right: right',showButtonSideY:'ShowButton vertical positioning (real-time preview function is only available on the setting page).</br>top: top | bottom: bottom',showButtonDistance:'The distance between the ShowButton and the edge (real-time preview function is only available on the setting page).</br> Format: X distance, Y distance',logSideX:'Horizontal positioning of the log area (real-time preview function is only available on the setting page).</br>left: left | right: right',logSideY:'Vertical positioning of the log area (real-time preview function is only available on the setting page).</br>top: top | bottom: bottom',logDistance:'The distance between the log area and the edge (the real-time preview function is only available on the setting page).</br> Format: X distance, Y distance',hotKey:'Shortcut key',doTaskKey:'DoTask shortcut keys</br> (real-time preview function is only available on the settings page).',undoTaskKey:'UndoTask shortcut keys</br> (real-time preview function is only available on the settings page).',toggleLogKey:'ShowLog/HideLog shortcut keys</br> (real-time preview function is only available on the settings page).',tasksHistory:'TasksHistory',clearHistory:'Clear history',clearHistoryFinished:'The mission history has been cleared!',deleteTask:'Delete task',lastChangeTime:'Last Change Time',clearTaskFinished:'Delete the following tasks completed!',clearTaskFailed:'Failed to delete the task, the task name was not found!',syncData:'DataSync',settingData:'Uploading data...',gettingData:'Getting data...',help:'Help',fileName:'Filename',upload2gist:'Sync to Gist',downloadFromGist:'Sync from Gist',saveAndTest:'Save configuration and test',testSuccess:'Test success!',testFailed:'Test failed!',saveAndTestNotice:'Please save the configuration and test first!',processingData:'Processing data...',updatingData:'Uploading data...',syncDataSuccess:'Synchronized data successfully!',syncDataFailed:'Failed to synchronize data, please check the error message on the console!',downloadingData:'Downloading data...',checkedNoData:'No remote data is detected, please confirm whether the configuration is correct!',savingData:'Saving data...',syncHistory:'Synchronize tasks history',checkUpdateFailed:'Check update failed',newVersionNotice:'Checked a new version V%0, <a class="high-light" href="%1" target="_blank">click to update</a>',language:'Language</br> Currently only supports zh: Chinese, en: English',gistOptions:'Gist Settings',swalNotice:'It is detected that you are installing the V4 version script for the first time, please go to read the READ ME FIRST content before use!',echoNotice:'It is detected that you are installing the V4 version script for the first time, please <a class="high-light" href="%0" target="_blank">click here</a> to read the READ ME FIRST content before use!',noticeLink:'https://auto-task-doc.js.org/en/guide/#read-me-first',toGithub:'Feedback(Github)',toKeylol:'Feedback(Keylol)',copySuccess:'The error message has been copied to the clipboard. Do you want to go to the Keylol forum to give feedback?',copyFailed:'Please copy the error information below and report back to the Keylol forum!',updateText:'Updates in version %0:',Active:'Active',Ended:'Ended',Banned:'Banned',Paused:'Paused',notStart:'notStart',noRemoteData:'No data remotely',errorRemoteDataFormat:'Remote data has wrong format',updateHistory:'<a class="high-light" href="https://auto-task-doc.js.org/logs/" target="_blank">Click here</a> to view the historical update record.',AsfEnabled:'Use ASF to do Steam related tasks (requires <a href="https://github.com/chr233/ASFEnhance" target="_blank">ASFEnhance</a> plugin)',steamWeb:'Use Steam Web API to do Steam related tasks simultaneously',preferASF:'Prefer ASF to do Steam related tasks',AsfIpcUrl:'ASF IPC URL',AsfIpcPassword:'ASF IPC Password',curatorLimitNotice:'Failed: Maybe the curator follow limit is reached, please <a class="high-light" href="https://store.steampowered.com/curators/home/" target="_blank">unfollow some curators</a> and try again',unknownScriptHandler:'Unknown script handler, compatibility unknown',debugModeNotice:'Detected DEBUG mode enabled, please close it if it is not needed!',steamWebApiKey:'Steam Web API Key<br>Used to detect game idle status, <a href="https://steamcommunity.com/dev/apikey" target="_blank">click to apply</a>',groups:'Group',officialGroups:'Official Group',wishlists:'Wishlist',follows:'Follow Game',forums:'Forum',workshops:'Favorite Workshop',curators:'Curator',workshopVotes:'Voteup Workshop',announcements:'Announcement',steamCommunity:'Steam Community',steamStore:'Steam Store',licenses:'Add License',playtests:'Playtest Access',needLoginSteamStore:'Please <a href="https://store.steampowered.com/login/" target="_blank">log in to the Steam Store</a>',needLoginSteamCommunity:'Please <a href="https://steamcommunity.com/login/home/" target="_blank">log in to the Steam Community</a>',joiningSteamGroup:'Joining Steam Group',leavingSteamGroup:'Leaving Steam Group',gettingSteamGroupId:'Getting Steam Group Id',joiningSteamOfficialGroup:'Joining Steam Official Group',leavingSteamOfficialGroup:'Leaving Steam Official Group',gettingSteamOfficialGroupId:'Getting Steam Official Group Id',subscribingForum:'Subscribing the Steam Forum',unsubscribingForum:'Unsubscribing the Steam Forum',gettingForumId:'Getting Steam Forum Id',followingCurator:'Following Steam Curator',unfollowingCurator:'Unfollowing Steam Curator',gettingCuratorId:'Getting Steam Curator Id',addingToWishlist:'Adding the game to the Steam wishlist',removingFromWishlist:'Removing the game from the Steam wishlist',followingGame:'Following Steam games',unfollowingGame:'Unfollowing Steam games',favoritingWorkshop:'Favouring Steam Workshop Items',unfavoritingWorkshop:'Unfavoriting Steam Workshop Items',gettingWorkshopAppId:'Getting Steam Workshop Item Id',votingUpWorkshop:'Liking Steam workshop items',gettingAnnouncementParams:'Getting Steam announcement information',likingAnnouncement:'Liking Steam announcement',changingArea:'Changing Steam area: %0...',notNeededChangeArea:'The current area does not need to be changed',noAnotherArea:'Please check whether the proxy is turned on correctly',gettingAreaInfo:'Getting Steam area information...',changeAreaNotice:'Suspected of a locked zone game, try to change the zone to execute',steamFinishNotice:'Steam task completed, try to change the shopping cart area back to ',gettingSubid:'Getting subid',addingFreeLicense:'Adding free license',missParams:'Missing parameters',gettingLicenses:'Getting licenses...',requestingPlayTestAccess:'Requesting play test access',gettingDemoAppid:'Getting demo appid for steam game',tryChangeAreaNotice:'This function cannot detect whether the game is limited, so it will try to change the area before entering the library. Failure to change the area will not affect the subsequent storage.',versionNotMatched:'The script manager version is too low, requiring TamperMonkey >= 5.2.0 or TamperMonkey Beta >= 5.2.6196',gettingUserInfo:'Getting steam user community credentials...',retry:'Retry',owned:'Owned',redirect:'Redirect',noSubid:'skip due to unrecognized',noASFInstance:'ASF is not enabled, skip idle time task',initingASF:'Initing ASF...',playingGames:'Playing games [%0]...',stoppingPlayGames:'Stopping play games...',stopPlayTimeTitle:'The Steam game idle time has finished. Do you want to end it?',stopPlayTimeText:'Time out: %0 minutes',ASFNotSupportted:'The current function (%0) cannot be implemented by ASF, skipping',checkingPlayGamesStatus:'Checking play games status...',gettingSteamId:'Getting Steam ID...',checkingPlayStatus:'Checking play status...',noPlayStatus:'Game not running',servers:'Server',joiningDiscordServer:'Joining Discord Server',leavingDiscordServer:'Leaving Discord Server',gettingDiscordGuild:'Getting Discord server Id',getDiscordAuthFailed:'Failed to get Discord token, please check whether the Discord account is logged in',discordImportantNotice:'Important Reminder! ! !',discordImportantNoticeText:'Due to the background update of the Discord website, currently using this script to join a group may cause the Discord account to be forcibly logged out, and two-step verification is required to log in normally, please use it with caution! ! !',continueDiscordTask:'Do Discord tasks this time.',skipDiscordTask:'Skip Discord tasks this time.',continueAndDontRemindAgain:'Always do Discord tasks and do not remind again.',gettingDiscordXContextProperties:'Getting Discord X context properties...',captchaNeeded:'Captcha detected, please complete it manually!',users:'User',loginIns:'Please <a href="https://www.instagram.com/accounts/login/" target="_blank">log in to Instagram</a>',insBanned:'Your Instagram account has been banned',verifyingInsAuth:'Verifying Instagram token...',gettingInsUserId:'Getting Instagram user Id',followingIns:'Following Instagram user',unfollowingIns:'Unfollowing Instagram user',reddits:'Reddit/User',loginReddit:'Please <a href="https://www.reddit.com/login/" target="_blank">log in to Reddit</a>',changingRedditVersion:'Switching Reddit to a new version page...',joiningReddit:'Joining the Reddit',leavingReddit:'Leaving the Reddit',followingRedditUser:'Following Reddit User',unfollowingRedditUser:'Unfollowing Reddit User',channels:'Channel',followingTwitchChannel:'Following Twitch Channel',unfollowingTwitchChannel:'Unfollowing Twitch Channel',gettingTwitchChannelId:'Getting Twitch Channel Id',checkingTwitchIntegrity:'Checking Twitch integrity...',twitterUser:'Twitter User',retweets:'Retweet',gettingTwitterUserId:'Getting Twitter User Id',followingTwitterUser:'Following Twitter User',unfollowingTwitterUser:'Unfollowing Twitter User',retweetting:'Retweetting',unretweetting:'Unretweetting',names:'Group/Public/Wall',loginVk:'Please <a href="https://vk.com/login/" target="_blank">log in to Vk</a>',gettingVkId:'Getting Vk task Id',joiningVkGroup:'Joining Vk Group',leavingVkGroup:'Leaving Vk Group',joiningVkPublic:'Joining Vk Public',leavingVkPublic:'Leaving Vk Public',sendingVkWall:'Sending Vk Wall',deletingVkWall:'Deleting Vk Wall',youtubeChannel:'YouTube Channel',likes:'Like',loginYtb:'Please <a href="https://accounts.google.com/ServiceLogin?service=youtube" target="_blank">log in to YouTube</a>',tryUpdateYtbAuth:'Please try to <a href="https://www.youtube.com/#auth" target="_blank">update YouTube token</a>',gettingYtbToken:'Getting YouTube Token...',followingYtbChannel:'Subscribing to YouTube channel',unfollowingYtbChannel:'Unsubscribing to YouTube channel',likingYtbVideo:'Liking YouTube video',unlikingYtbVideo:'Unliking YouTube video',giveKeyNoticeBefore:'Each verification interval is 15s',giveKeyNoticeAfter:'If there is no key, please check at <a href="https://givekey.ru/profile" target="_blank">https://givekey.ru/profile</a>',noPoints:'Not enough points, skip the lottery',getNeedPointsFailed:'ailed to obtain the required points, skip the lottery',joiningLottery:'Joining the lottery',doingGleamTask:'Doing Gleam Task...',gettingGleamLink:'Getting Gleam task link...',gleamTaskNotice:'If this page has not been closed for a long time, please close it yourself after completing any task!',verifiedGleamTasks:'Attempted to verify all tasks. If the verification fails, please try to verify manually or complete it!',campaign:'ReCAPTCHA detected, please complete it manually! 3 seconds later, re-verify...',gsNotice:'In order to avoid getting the "0000-0000-0000" key, the "Grab Key" button has been hidden, please close the script when obtaining the key!',giveeClubVerifyNotice:'Verifying task...',giveeClubVerifyFinished:'Wait for the verification to complete and join it by yourself',doingKeyhubTask:'Doing Keyhub Task...',SweepWidgetNotice:'The task is being processed and verified. There is an interval of 1~3s for each verification task to prevent the triggering of too fast verification warning...',tasksNotCompleted:'Tasks Not Completed',notConnect:'Social platform is not connectted, skip task: %0',tgTaskNotice:'The telegram task is checked, need to do it yourself!',updatingUserData:'Updating user data...',gettingUserGames:'Getting user games...',confirmingTask:'Confirming task...',unSupporttedTaskType:'Unsupportted task type: %0',taskNotFinished:'There are tasks not completed, do not get the key',logCopied:'Full log has been copied to the clipboard, please go to feedback!'}},w=['zh','en'],f=function(t){const e=(()=>{const t=g.other.language;return w.includes(t)?t:'en'})(),s=m[e]?.[t];if(!s){return console.warn(`Missing translation for key: ${t} in language: ${e}`),t}for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++){r[i-1]=arguments[i]}return((t,e)=>t.replace(/%([\d]+)/g,((t,s)=>e[parseInt(s,10)]||'')))(s,r)};var A;!function(t){t.ERROR='error',t.WARN='warn',t.INFO='info',t.DEBUG='debug',t.TRACE='trace'}(A||(A={}));const k={enabled:!1,level:A.INFO,prefix:'Auto-Task',styles:{error:'color:#ff0000;font-weight:bold',warn:'color:#ffa500',info:'color:#a7a7a7',debug:'color:#808080',trace:'color:#87ceeb'},showTimestamp:!0};class y{config;levelPriority;constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config={...k,...t},this.levelPriority={error:0,warn:1,info:2,debug:3,trace:4}}getTimestamp(){return(new Date).toLocaleString()}shouldLog(t){return this.config.enabled&&this.levelPriority[t]<=this.levelPriority[this.config.level]}formatMessage(t,e){const s=[this.config.prefix];return this.config.showTimestamp&&s.push(`[${this.getTimestamp()}]`),s.push(`[${t.toUpperCase()}]:`),s.push(e),s.join(' ')}log(t,e){if(!this.shouldLog(t)){return}const s=this.formatMessage(t,e),r=this.config.styles[t];for(var i=arguments.length,o=new Array(i>2?i-2:0),n=2;n<i;n++){o[n-2]=arguments[n]}o.length>0?(console.groupCollapsed('%c%s',r,s),o.forEach((t=>{console.log(a.inspect(t,{showHidden:!0,depth:null,colors:!1}))})),console.groupEnd()):console.log('%c%s',r,s)}error(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++){s[a-1]=arguments[a]}this.log(A.ERROR,t,...s)}warn(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++){s[a-1]=arguments[a]}this.log(A.WARN,t,...s)}info(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++){s[a-1]=arguments[a]}this.log(A.INFO,t,...s)}debug(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++){s[a-1]=arguments[a]}this.log(A.DEBUG,t,...s)}trace(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++){s[a-1]=arguments[a]}this.log(A.TRACE,t,...s),this.shouldLog(A.TRACE)&&console.trace()}updateConfig(t){this.config={...this.config,...t}}enable(){this.config.enabled=!0}disable(){this.config.enabled=!1}setLevel(t){this.config.level=t}}let T;const b=function(){return(T||(T=new y({enabled:window.DEBUG||!1}),window.DEBUG&&T.setLevel(A.DEBUG)),T).debug(...arguments)},v=()=>{b('开始获取运行日志');const t=$('#auto-task-info>li'),e=t.length>0?$.makeArray(t).map((t=>t.innerText)).join('\n'):'';return b('运行日志获取完成',{logsLength:e.length}),e},x=async(t,e,s)=>{b('开始生成GitHub Issue链接');const a=new URLSearchParams(await(async(t,e,s)=>{b('开始构建GitHub Issue参数',{name:t,errorStackLength:e.length});const a={title:`[BUG] 脚本报错: ${t}`,labels:'bug',template:'bug_report.yml',website:s.website,browser:s.browser,manager:s.manager,'user-script':s.userScript,logs:e||'','run-logs':''},r=window.__allLogs.join('\n');return await GM_setClipboard(r),b('GitHub Issue参数构建完成',a),a})(t,e,s)),r=`https://github.com/HCLonely/auto-task/issues/new?${a.toString()}`;return b('GitHub Issue链接生成完成',{link:r}),r};async function S(e,a){b('开始处理错误',{name:a,error:e}),window.TRACE&&(b('启用跟踪模式'),console.trace('%cAuto-Task[Trace]:','color:blue'));const r=e.stack||'';((t,e)=>{b('记录错误日志',{name:t}),console.log('%c%s','color:white;background:red',`Auto-Task[Error]: ${t}\n${e}`)})(a,r),b('获取环境信息');const i=await(async()=>{b('开始获取环境信息');const t={website:window.location.href,browser:JSON.stringify(await s.getInfo(),null,2),manager:`${GM_info.scriptHandler} ${GM_info.version}`,userScript:GM_info.script.version,logs:'',runLogs:v()};return b('环境信息获取完成',t),t})();i.logs=r,b('显示错误报告对话框');const{isConfirmed:o}=await t.fire({title:f('errorReport'),icon:'error',showCancelButton:!0,confirmButtonText:f('toGithub'),cancelButtonText:f('close')});o?(b('用户确认提交错误报告'),await(async(t,e,s,a)=>{b('开始处理错误报告',{platform:t,name:e});{const t=await x(e,s,a);b('打开GitHub Issue链接',{githubLink:t}),GM_openInTab(t,{active:!0})}})('github',a,r,i),t.fire({title:f('logCopied'),icon:'success',showConfirmButton:!1,showCancelButton:!0,cancelButtonText:f('close')})):b('用户取消提交错误报告')}const C=(t,e)=>{b('开始处理响应数据',{responseType:e.responseType});const s=(t=>{b('开始解析HTTP头',{headerString:t});const e={};return t?(t.split('\n').forEach((t=>{const[s,...a]=t.trim().split(':'),r=a.join(':').trim();s&&r&&(e[s]?e[s]=Array.isArray(e[s])?[...e[s],r]:[e[s],r]:e[s]=r)})),e['set-cookie']&&!Array.isArray(e['set-cookie'])&&(e['set-cookie']=[e['set-cookie']]),b('HTTP头解析完成',{headers:e}),e):(b('HTTP头为空，返回空对象'),e)})(t.responseHeaders);if(t.responseHeadersText=t.responseHeaders,t.responseHeaders=s,t.finalUrl=s.location||t.finalUrl,b('响应头处理完成',{finalUrl:t.finalUrl}),'json'===e.responseType&&t?.response&&'object'!=typeof t.response){b('尝试解析JSON响应');try{t.response=JSON.parse(t.responseText),b('JSON解析成功')}catch{b('JSON解析失败，保持原始响应')}}},I=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b('开始HTTP请求',{url:t.url,method:t.method,retryTimes:e}),window.TRACE&&console.trace('%cAuto-Task[Trace]:','color:blue');try{const s=await new Promise((e=>{const s={fetch:!0,timeout:3e4,ontimeout:s=>{b('请求超时',{url:t.url}),e({result:'Error',statusText:'Timeout',status:601,data:s,options:t})},onabort:()=>{b('请求被中止',{url:t.url}),e({result:'Error',statusText:'Aborted',status:602,data:void 0,options:t})},onerror:s=>{b('请求发生错误',{url:t.url,error:s}),e({result:'Error',statusText:'Error',status:603,data:s,options:t})},onload:s=>{b('请求加载完成',{url:t.url,status:s.status}),C(s,t),e({result:'Success',statusText:'Load',status:600,data:s,options:t})},...t,responseType:t.dataType||t.responseType};b('发送请求',{requestObj:s}),GM_xmlhttpRequest(s)}));return window.DEBUG&&console.log('%cAuto-Task[httpRequest]:','color:blue',s),600!==s.status&&e<2?(b('请求失败，准备重试',{status:s.status,retryTimes:e+1}),await I(t,e+1)):(b('请求完成',{status:s.status,result:s.result}),s)}catch(e){return b('请求发生JavaScript错误',{error:e}),console.log('%cAuto-Task[httpRequest]:','color:red',JSON.stringify({errorMsg:e,options:t})),S(e,'httpRequest'),{result:'JsError',statusText:'Error',status:604,error:e,options:t}}};const D={'[ASF]':'<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16" version="1.1">\n<g id="surface1">\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(11.372549%,17.254902%,26.274511%);fill-opacity:1;" d="M 7.652344 0.175781 C 8.046875 0.351562 8.210938 0.59375 8.441406 0.953125 C 9.007812 1.746094 9.644531 2.539062 10.640625 2.761719 C 12.011719 2.949219 13.429688 2.882812 14.808594 2.796875 C 14.90625 2.792969 15.003906 2.785156 15.101562 2.78125 C 15.1875 2.773438 15.273438 2.769531 15.363281 2.761719 C 15.429688 2.769531 15.496094 2.777344 15.566406 2.78125 C 15.761719 3.082031 15.757812 3.191406 15.75 3.539062 C 15.75 3.625 15.746094 3.710938 15.746094 3.800781 C 15.742188 3.867188 15.742188 3.933594 15.738281 4 C 15.824219 4.027344 15.910156 4.058594 16 4.085938 C 15.988281 4.34375 15.976562 4.597656 15.960938 4.851562 C 15.957031 4.925781 15.957031 5 15.953125 5.074219 C 15.945312 5.175781 15.945312 5.175781 15.941406 5.285156 C 15.9375 5.378906 15.9375 5.378906 15.929688 5.480469 C 15.914062 5.652344 15.914062 5.652344 15.824219 5.914062 C 15.816406 6.058594 15.8125 6.203125 15.8125 6.34375 C 15.8125 6.433594 15.8125 6.519531 15.808594 6.613281 C 15.808594 6.707031 15.808594 6.800781 15.808594 6.898438 C 15.804688 7.097656 15.804688 7.300781 15.800781 7.5 C 15.796875 7.816406 15.792969 8.132812 15.792969 8.449219 C 15.789062 8.753906 15.785156 9.058594 15.78125 9.363281 C 15.78125 9.457031 15.78125 9.550781 15.78125 9.648438 C 15.777344 9.738281 15.777344 9.824219 15.773438 9.914062 C 15.773438 10.03125 15.773438 10.03125 15.773438 10.148438 C 15.738281 10.347656 15.738281 10.347656 15.625 10.503906 C 15.386719 10.671875 15.152344 10.625 14.871094 10.609375 C 14.867188 10.675781 14.859375 10.742188 14.855469 10.808594 C 14.816406 11.367188 14.746094 11.890625 14.609375 12.433594 C 14.3125 12.535156 14.105469 12.507812 13.804688 12.441406 C 13.6875 12.414062 13.6875 12.414062 13.570312 12.390625 C 13.480469 12.367188 13.480469 12.367188 13.390625 12.347656 C 13.359375 12.515625 13.359375 12.515625 13.324219 12.683594 C 13.226562 13.144531 13.054688 13.566406 12.871094 14 C 12.75 13.988281 12.628906 13.980469 12.511719 13.96875 C 12.410156 13.957031 12.410156 13.957031 12.308594 13.949219 C 12.050781 13.90625 11.8125 13.828125 11.566406 13.738281 C 11.492188 13.867188 11.492188 13.867188 11.417969 14 C 11.355469 14.113281 11.292969 14.222656 11.226562 14.335938 C 11.195312 14.394531 11.164062 14.449219 11.132812 14.507812 C 11 14.738281 10.882812 14.941406 10.695312 15.128906 C 10.257812 15.097656 9.957031 14.863281 9.601562 14.625 C 9.402344 14.503906 9.402344 14.503906 9.222656 14.542969 C 9.015625 14.617188 8.925781 14.703125 8.777344 14.863281 C 8.730469 14.914062 8.683594 14.964844 8.632812 15.019531 C 8.535156 15.125 8.433594 15.234375 8.335938 15.339844 C 7.972656 15.726562 7.972656 15.726562 7.675781 15.792969 C 7.4375 15.726562 7.367188 15.660156 7.21875 15.460938 C 7 15.1875 6.773438 14.941406 6.523438 14.695312 C 6.375 14.550781 6.230469 14.40625 6.085938 14.261719 C 6.023438 14.195312 5.957031 14.128906 5.890625 14.0625 C 2.175781 10.347656 2.175781 10.347656 1.945312 10.117188 C 1.738281 9.910156 1.527344 9.707031 1.316406 9.503906 C 1.160156 9.351562 1 9.199219 0.84375 9.042969 C 0.722656 8.925781 0.722656 8.925781 0.597656 8.808594 C 0.519531 8.734375 0.445312 8.660156 0.363281 8.582031 C 0.296875 8.515625 0.226562 8.445312 0.152344 8.375 C -0.03125 8.132812 -0.0351562 8.039062 0 7.738281 C 0.117188 7.570312 0.117188 7.570312 0.28125 7.402344 C 0.34375 7.339844 0.40625 7.277344 0.472656 7.210938 C 0.542969 7.144531 0.613281 7.074219 0.683594 7.003906 C 0.757812 6.933594 0.828125 6.859375 0.902344 6.785156 C 1.101562 6.585938 1.304688 6.386719 1.503906 6.1875 C 1.714844 5.980469 1.921875 5.773438 2.132812 5.5625 C 2.480469 5.214844 2.832031 4.863281 3.183594 4.515625 C 3.683594 4.023438 4.175781 3.53125 4.671875 3.039062 C 5.015625 2.695312 5.359375 2.355469 5.699219 2.015625 C 5.785156 1.929688 5.867188 1.847656 5.949219 1.765625 C 6.222656 1.492188 6.496094 1.222656 6.773438 0.949219 C 6.839844 0.882812 6.910156 0.8125 6.980469 0.742188 C 7.078125 0.648438 7.078125 0.648438 7.171875 0.550781 C 7.226562 0.496094 7.285156 0.441406 7.339844 0.386719 C 7.476562 0.261719 7.476562 0.261719 7.652344 0.175781 Z M 7.652344 0.175781 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(5.490196%,7.843138%,14.901961%);fill-opacity:1;" d="M 10.433594 2.78125 C 11.101562 2.777344 11.765625 2.773438 12.433594 2.769531 C 12.742188 2.769531 13.050781 2.765625 13.359375 2.761719 C 13.714844 2.757812 14.070312 2.757812 14.425781 2.757812 C 14.539062 2.753906 14.648438 2.753906 14.761719 2.753906 C 14.867188 2.753906 14.96875 2.753906 15.074219 2.753906 C 15.210938 2.753906 15.210938 2.753906 15.347656 2.75 C 15.421875 2.761719 15.492188 2.773438 15.566406 2.78125 C 15.761719 3.082031 15.757812 3.191406 15.75 3.539062 C 15.75 3.625 15.746094 3.710938 15.746094 3.800781 C 15.742188 3.867188 15.742188 3.933594 15.738281 4 C 15.824219 4.027344 15.910156 4.058594 16 4.085938 C 15.988281 4.332031 15.980469 4.578125 15.96875 4.824219 C 15.964844 4.929688 15.964844 4.929688 15.960938 5.035156 C 15.9375 5.492188 15.863281 5.90625 15.738281 6.347656 C 15.675781 6.3125 15.613281 6.273438 15.546875 6.234375 C 15.011719 5.921875 14.472656 5.609375 13.9375 5.296875 C 13.761719 5.195312 13.582031 5.089844 13.40625 4.988281 C 12.996094 4.746094 12.585938 4.507812 12.167969 4.273438 C 10.847656 3.527344 10.847656 3.527344 10.433594 2.957031 C 10.433594 2.898438 10.433594 2.839844 10.433594 2.78125 Z M 10.433594 2.78125 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(95.686275%,96.078432%,96.470588%);fill-opacity:1;" d="M 7.566406 5.304688 C 7.878906 5.410156 7.90625 5.480469 8.058594 5.761719 C 8.117188 5.859375 8.117188 5.859375 8.175781 5.964844 C 8.269531 6.195312 8.277344 6.363281 8.261719 6.609375 C 8.355469 6.550781 8.449219 6.492188 8.550781 6.433594 C 8.777344 6.296875 8.855469 6.261719 9.128906 6.261719 C 9.136719 6.425781 9.140625 6.589844 9.148438 6.753906 C 9.152344 6.894531 9.152344 6.894531 9.15625 7.035156 C 9.125 7.34375 9.058594 7.492188 8.871094 7.738281 C 8.703125 7.871094 8.703125 7.871094 8.527344 7.972656 C 8.46875 8.007812 8.410156 8.042969 8.351562 8.078125 C 8.292969 8.109375 8.234375 8.140625 8.175781 8.175781 C 8.113281 8.207031 8.054688 8.238281 7.996094 8.273438 C 7.710938 8.398438 7.511719 8.335938 7.21875 8.261719 C 6.832031 8.070312 6.476562 7.859375 6.261719 7.476562 C 6.167969 7.203125 6.164062 7.007812 6.167969 6.722656 C 6.167969 6.636719 6.171875 6.550781 6.171875 6.460938 C 6.171875 6.394531 6.171875 6.328125 6.175781 6.261719 C 6.492188 6.332031 6.753906 6.457031 7.042969 6.609375 C 7.050781 6.480469 7.050781 6.480469 7.058594 6.347656 C 7.113281 5.9375 7.332031 5.636719 7.566406 5.304688 Z M 7.566406 5.304688 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(5.882353%,8.235294%,15.294118%);fill-opacity:1;" d="M 15.652344 6.433594 C 15.679688 6.433594 15.710938 6.433594 15.738281 6.433594 C 15.746094 6.988281 15.75 7.539062 15.753906 8.09375 C 15.753906 8.28125 15.757812 8.46875 15.757812 8.65625 C 15.761719 8.925781 15.761719 9.195312 15.765625 9.464844 C 15.765625 9.550781 15.765625 9.636719 15.769531 9.722656 C 15.769531 9.800781 15.769531 9.878906 15.769531 9.960938 C 15.769531 10.027344 15.769531 10.097656 15.769531 10.167969 C 15.730469 10.398438 15.664062 10.472656 15.476562 10.609375 C 15.15625 10.625 15.15625 10.625 14.871094 10.609375 C 14.867188 10.675781 14.859375 10.742188 14.855469 10.808594 C 14.816406 11.367188 14.746094 11.890625 14.609375 12.433594 C 14.3125 12.535156 14.105469 12.507812 13.804688 12.441406 C 13.726562 12.421875 13.648438 12.40625 13.570312 12.390625 C 13.480469 12.367188 13.480469 12.367188 13.390625 12.347656 C 13.449219 12.027344 13.535156 11.730469 13.644531 11.425781 C 13.679688 11.332031 13.710938 11.238281 13.746094 11.144531 C 13.78125 11.046875 13.816406 10.953125 13.851562 10.851562 C 13.902344 10.710938 13.902344 10.710938 13.957031 10.566406 C 14.054688 10.289062 14.160156 10.015625 14.261719 9.738281 C 14.292969 9.65625 14.320312 9.574219 14.351562 9.488281 C 14.613281 8.792969 14.613281 8.792969 14.929688 8.523438 C 15.359375 8.140625 15.347656 7.753906 15.40625 7.203125 C 15.441406 6.886719 15.472656 6.707031 15.652344 6.433594 Z M 15.652344 6.433594 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(13.725491%,18.431373%,37.254903%);fill-opacity:1;" d="M 13.566406 9.824219 C 13.609375 9.914062 13.609375 9.914062 13.652344 10 C 13.539062 10.21875 13.417969 10.425781 13.289062 10.636719 C 13.207031 10.769531 13.125 10.90625 13.046875 11.039062 C 13.003906 11.109375 12.960938 11.183594 12.914062 11.253906 C 12.691406 11.632812 12.46875 12.015625 12.25 12.398438 C 12.207031 12.472656 12.160156 12.550781 12.117188 12.628906 C 11.8125 13.160156 11.53125 13.703125 11.269531 14.253906 C 11.113281 14.582031 10.933594 14.855469 10.695312 15.128906 C 10.3125 15.078125 10.042969 14.933594 9.710938 14.734375 C 9.574219 14.648438 9.574219 14.648438 9.429688 14.566406 C 9.359375 14.523438 9.289062 14.480469 9.21875 14.433594 C 9.253906 14.046875 9.523438 13.835938 9.789062 13.582031 C 9.832031 13.539062 9.875 13.496094 9.921875 13.449219 C 10.15625 13.21875 10.402344 12.996094 10.65625 12.78125 C 11.15625 12.34375 11.621094 11.871094 12.089844 11.398438 C 12.25 11.238281 12.414062 11.078125 12.574219 10.914062 C 12.679688 10.8125 12.78125 10.707031 12.886719 10.605469 C 12.933594 10.554688 12.980469 10.507812 13.03125 10.457031 C 13.234375 10.253906 13.40625 10.066406 13.566406 9.824219 Z M 13.566406 9.824219 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(95.294118%,95.686275%,96.078432%);fill-opacity:1;" d="M 6.175781 10.347656 C 6.503906 10.464844 6.769531 10.617188 7.054688 10.820312 C 7.128906 10.871094 7.203125 10.925781 7.277344 10.976562 C 7.445312 11.105469 7.59375 11.234375 7.738281 11.390625 C 7.769531 11.316406 7.769531 11.316406 7.800781 11.238281 C 7.941406 10.992188 8.105469 10.882812 8.335938 10.722656 C 8.410156 10.671875 8.488281 10.617188 8.566406 10.5625 C 8.761719 10.449219 8.90625 10.386719 9.128906 10.347656 C 9.21875 11.453125 9.21875 11.453125 8.914062 11.832031 C 8.617188 12.113281 8.285156 12.273438 7.914062 12.433594 C 7.882812 12.921875 7.855469 13.410156 7.824219 13.914062 C 7.683594 13.914062 7.539062 13.914062 7.390625 13.914062 C 7.390625 13.398438 7.390625 12.878906 7.390625 12.347656 C 7.246094 12.320312 7.105469 12.289062 6.957031 12.261719 C 6.5625 12.078125 6.359375 11.875 6.175781 11.476562 C 6.144531 11.097656 6.152344 10.726562 6.175781 10.347656 Z M 6.175781 10.347656 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(8.235294%,11.764706%,23.137255%);fill-opacity:1;" d="M 14.433594 9.042969 C 14.523438 9.21875 14.523438 9.21875 14.484375 9.378906 C 14.460938 9.445312 14.4375 9.507812 14.414062 9.574219 C 14.386719 9.648438 14.359375 9.71875 14.335938 9.792969 C 14.308594 9.871094 14.277344 9.949219 14.25 10.027344 C 14.222656 10.105469 14.195312 10.183594 14.164062 10.265625 C 14.007812 10.703125 13.84375 11.132812 13.675781 11.566406 C 13.503906 11.996094 13.386719 12.429688 13.285156 12.878906 C 13.179688 13.269531 13.03125 13.632812 12.871094 14 C 12.378906 13.96875 12 13.910156 11.566406 13.652344 C 11.703125 13.144531 11.960938 12.71875 12.222656 12.265625 C 12.269531 12.1875 12.316406 12.105469 12.363281 12.023438 C 12.460938 11.859375 12.554688 11.695312 12.648438 11.53125 C 12.765625 11.332031 12.882812 11.128906 12.996094 10.925781 C 13.402344 10.222656 13.859375 9.621094 14.433594 9.042969 Z M 14.433594 9.042969 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0%);fill-opacity:1;" d="M 10.433594 2.78125 C 11.101562 2.777344 11.765625 2.773438 12.433594 2.769531 C 12.742188 2.769531 13.050781 2.765625 13.359375 2.761719 C 13.714844 2.757812 14.070312 2.757812 14.425781 2.757812 C 14.539062 2.753906 14.648438 2.753906 14.761719 2.753906 C 14.867188 2.753906 14.96875 2.753906 15.074219 2.753906 C 15.210938 2.753906 15.210938 2.753906 15.347656 2.75 C 15.421875 2.761719 15.492188 2.773438 15.566406 2.78125 C 15.761719 3.082031 15.757812 3.191406 15.75 3.539062 C 15.75 3.625 15.746094 3.710938 15.746094 3.800781 C 15.742188 3.867188 15.742188 3.933594 15.738281 4 C 14.917969 3.957031 14.128906 3.839844 13.324219 3.6875 C 13.066406 3.640625 12.808594 3.59375 12.546875 3.550781 C 12.363281 3.515625 12.175781 3.484375 11.992188 3.449219 C 11.78125 3.414062 11.566406 3.378906 11.355469 3.34375 C 11.226562 3.324219 11.226562 3.324219 11.097656 3.304688 C 11.027344 3.292969 10.953125 3.28125 10.878906 3.273438 C 10.664062 3.207031 10.570312 3.132812 10.433594 2.957031 C 10.433594 2.898438 10.433594 2.839844 10.433594 2.78125 Z M 10.433594 2.78125 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(95.686275%,96.078432%,96.470588%);fill-opacity:1;" d="M 9.128906 8.261719 C 9.183594 9.257812 9.183594 9.257812 9.011719 9.695312 C 8.605469 10.082031 8.152344 10.3125 7.597656 10.398438 C 7.09375 10.3125 6.6875 10.128906 6.347656 9.738281 C 6.074219 9.320312 6.136719 8.828125 6.175781 8.347656 C 6.539062 8.394531 6.765625 8.519531 7.066406 8.734375 C 7.140625 8.789062 7.214844 8.839844 7.292969 8.894531 C 7.476562 9.042969 7.476562 9.042969 7.566406 9.21875 C 7.621094 9.21875 7.679688 9.21875 7.738281 9.21875 C 7.835938 9.117188 7.933594 9.015625 8.03125 8.914062 C 8.738281 8.261719 8.738281 8.261719 9.128906 8.261719 Z M 9.128906 8.261719 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(7.843138%,11.372549%,22.745098%);fill-opacity:1;" d="M 11.042969 3.476562 C 11.648438 3.675781 12.246094 3.886719 12.84375 4.101562 C 12.984375 4.152344 12.984375 4.152344 13.125 4.207031 C 14.054688 4.542969 14.984375 4.878906 15.914062 5.21875 C 15.867188 5.597656 15.816406 5.972656 15.738281 6.347656 C 15.675781 6.3125 15.613281 6.273438 15.546875 6.234375 C 15.011719 5.921875 14.472656 5.609375 13.9375 5.296875 C 13.667969 5.140625 13.402344 4.984375 13.132812 4.828125 C 12.804688 4.636719 12.476562 4.445312 12.148438 4.253906 C 12.011719 4.179688 11.878906 4.101562 11.746094 4.023438 C 11.683594 3.988281 11.621094 3.949219 11.558594 3.914062 C 11.140625 3.671875 11.140625 3.671875 11.042969 3.476562 Z M 11.042969 3.476562 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(0%,0%,0.392157%);fill-opacity:1;" d="M 15.652344 6.433594 C 15.679688 6.433594 15.710938 6.433594 15.738281 6.433594 C 15.746094 6.988281 15.75 7.539062 15.753906 8.09375 C 15.753906 8.28125 15.757812 8.46875 15.757812 8.65625 C 15.761719 8.925781 15.761719 9.195312 15.765625 9.464844 C 15.765625 9.550781 15.765625 9.636719 15.769531 9.722656 C 15.769531 9.839844 15.769531 9.839844 15.769531 9.960938 C 15.769531 10.027344 15.769531 10.097656 15.769531 10.167969 C 15.730469 10.394531 15.664062 10.472656 15.476562 10.609375 C 15.199219 10.625 15.199219 10.625 14.957031 10.609375 C 14.875 10.285156 14.871094 10.046875 14.933594 9.71875 C 14.949219 9.636719 14.964844 9.550781 14.980469 9.464844 C 15 9.378906 15.015625 9.289062 15.03125 9.199219 C 15.050781 9.113281 15.066406 9.027344 15.082031 8.933594 C 15.203125 8.289062 15.203125 8.289062 15.304688 8.085938 C 15.34375 7.792969 15.375 7.5 15.40625 7.203125 C 15.441406 6.886719 15.472656 6.707031 15.652344 6.433594 Z M 15.652344 6.433594 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(86.274511%,87.450981%,89.019608%);fill-opacity:1;" d="M 8.609375 3.390625 C 8.78125 3.390625 8.953125 3.390625 9.128906 3.390625 C 9.128906 4.109375 9.128906 4.824219 9.128906 5.566406 C 8.988281 5.59375 8.84375 5.621094 8.695312 5.652344 C 8.609375 5.566406 8.609375 5.566406 8.597656 5.355469 C 8.597656 5.265625 8.601562 5.175781 8.601562 5.082031 C 8.601562 4.984375 8.601562 4.886719 8.601562 4.785156 C 8.601562 4.683594 8.601562 4.578125 8.601562 4.472656 C 8.605469 4.371094 8.605469 4.265625 8.605469 4.160156 C 8.605469 3.902344 8.605469 3.648438 8.609375 3.390625 Z M 8.609375 3.390625 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(93.725491%,94.117647%,94.509804%);fill-opacity:1;" d="M 6.175781 3.390625 C 6.316406 3.390625 6.460938 3.390625 6.609375 3.390625 C 6.609375 4.136719 6.609375 4.882812 6.609375 5.652344 C 6.464844 5.625 6.320312 5.59375 6.175781 5.566406 C 6.175781 4.847656 6.175781 4.128906 6.175781 3.390625 Z M 6.175781 3.390625 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(93.333334%,93.725491%,94.117647%);fill-opacity:1;" d="M 7.476562 2.433594 C 7.59375 2.433594 7.707031 2.433594 7.824219 2.433594 C 7.824219 3.179688 7.824219 3.925781 7.824219 4.695312 C 7.683594 4.695312 7.539062 4.695312 7.390625 4.695312 C 7.390625 4.335938 7.386719 3.976562 7.386719 3.613281 C 7.386719 3.511719 7.382812 3.410156 7.382812 3.300781 C 7.382812 3.203125 7.382812 3.105469 7.382812 3.003906 C 7.382812 2.914062 7.382812 2.824219 7.382812 2.730469 C 7.390625 2.523438 7.390625 2.523438 7.476562 2.433594 Z M 7.476562 2.433594 "/>\n<path style=" stroke:none;fill-rule:nonzero;fill:rgb(5.490196%,7.843138%,14.901961%);fill-opacity:1;" d="M 15.390625 6.871094 C 15.511719 7.203125 15.449219 7.484375 15.390625 7.824219 C 15.304688 7.769531 15.21875 7.710938 15.128906 7.652344 C 15.171875 7.328125 15.207031 7.148438 15.390625 6.871094 Z M 15.390625 6.871094 "/>\n</g>\n</svg>\n','[Web]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="16" height="16">\n\t<title>favicon</title>\n\t<defs>\n\t\t<image  width="256" height="256" id="img1" href="data:image/png;base64,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"/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="0" y="0"/>\n</svg>\n','[Discord]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="16" height="16">\n\t<title>favicon</title>\n\t<defs>\n\t\t<image  width="256" height="256" id="img1" href="data:image/png;base64,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"/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="0" y="0"/>\n</svg>\n','[Twitch]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="16" height="16">\n\t<title>favicon-32-e29e246c157142c94346</title>\n\t<defs>\n\t\t<image  width="28" height="32" id="img1" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgBAMAAADzmwVxAAAAAXNSR0IB2cksfwAAACdQTFRFAAAAk0b/kUb/////wZf/yKP/j0b/j0X/j0b/kUb/j0D/kUb/j0j/8nvBLQAAAA10Uk5TAH//////gJCgzxDfIMV/78EAAACZSURBVHicY2RgYFRkgANGBgYhAWQuUFIQxnvPCJJE4oJ0InFBOpG4Sgxg7ntBMKI9F81ebFzGdyhc+SvIXKa3dshc+as3kbhMb+MawFygANNbBga2GwwwrvwFBoaKNBhXGCjJXp4A4xoAJWe4McC4QMA51QGZO8sFEuwMDEoQKQS3KoUBiQsyFIkb18CAxFW/yYDMTVgA4wIAtrc0x9ZZthYAAAAASUVORK5CYII="/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="2" y="0"/>\n</svg>\n','[Instagram]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 76 76" width="16" height="16">\n\t<title>lam-fZmwmvn</title>\n\t<defs>\n\t\t<image  width="76" height="76" id="img1" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAMAAADwSaEZAAAAAXNSR0IB2cksfwAAAvdQTFRFR3BM1TeUehf6exj7gBn8bxf9bxX9eA32hAnukgXlngTjqATisAPguQLewAThxAHdygLd0AHazwDU3gDA3gDB7ROe1gDY3wDI2gDHYBlFeBf9cxn8gRf9ihf9kQvx3ADW6AC/kRf9oQzxrw3v4wDX5gDO7AC0uAnomRf86wDV8ADG8QPR8wC69AqfoBf8qBf74BTc6xTW8wCr9xOVvzT24WHu3oP39qzy9sr5+N78/ej6/t31+Xrj+lbX9xvS9wnJ//7+//////n69QCesRn7/gLD/gG+/gGy/8vq/ivO/gG5//X7/QKq9wea6k3l+zrS+yq8/gCj+ACPuhr6/gq3/gCc7xbO/A/BxRr4/RO4/gCW/VDD/2nM/gCQ0hzz/7Pe/gGJ/gmw/UG4+h2r/gGC3Bru6Bvd/QJ79BrD/hOt/pDO5Rro/hKk9xu2/gJ08Brf+x6g/hKY/S+j/QJt/SCW/hOQ/SKQ/m+3/haH/SKI/lul/+vw/QBn/EOT/h2B/hV8/iF6/iR0/idu/uHk/i1//QFi/its/oar/T94/ixm/Spd/mON/lZw/snV/i5V/omZ/hNw/kNZ//r2/jNO/jtT/jNi/gBf/l1c/jpJ/nh//tfS/jlc/jFH/jND/khR/jk//T9D/hFn/ipM/kM6/js1/kZB/sS1/R1k/lA9/Us1/kEq/oN1/qmz/g5c/nNI/lEv/hZb/lg2/kgf/h5Z/lgq/lQX/l8m/mI4/iJS/mMY/oxO/mch/mcv/FEP/FwG/pdo/m0b/WUB/rd//mwC/nQY/nQn/m4s/nMC/qOJ/ndk/vHc/noV/noC/oQd/p0//oIS/nsi/unI/tuq/oIC/rA9/ooB/owT/vbn/pAE/pUP/pYB/pwI/p0A/qkf/tBr/GMY/XQD+3QI/qQC/qoC/td8+4QW/q8A/rsW/rQA/rgA/rsA/r4A/YUD/SGH/sEA/JUF/sUA/JIG/skA/DJm/JgH/asD/s0A/EFI+68J/bcE+1E0+0w6/L0Fi9deiwAAAP10Uk5TAA5AcL3X////////////////5a9+QP//zwL/nP////////////////7/////xP//////df/////////////////////////////////l/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+XBcP///z/////////V1f+M/6v/oavV/9VwwMFw5VUJIaQAAAukSURBVHicbZhbbBxXGYD/f2Zn9uZL7NiNL4nTFLnUqZpKlaqKRCBIgApIWhKE1PahPKAiRFNaCdSqL4U+0odKlUorQXkAoSCQQLRqSwlKpIKaFAJNlFtDTdzarr221/a63uvc+S9nZ9eB8Xr27Myc7/zXc/4zCOmBcph2wg35kZ7wxg9Kl9WkQ0gbltVp/y8q/Qik3XZYhHAt2QIbhWU7RQ3B2va1/y8QYEpUko4aZUqjAKVRReBYOSUBrA3D6nD5JmqVsSMJWLAFBJCHJuZa3IrWktHSaAm7WEOCoz4oJFjtkCzoVk1AdLQURe3qetIeilkpiS9lIshwawlTUofDnZ2A/tQUm/lmHty19ZES/x61ykpKx7cjRi2PLI8vqs9Svdq81EtAVDq7sO4wbHR5pBtFmCz4plViEDJhC4cFo3MozYawACplcgBmhg1pC4qaJbrKpDZIEe0jJILERKOnxrDsZRLV3mGlQZIhlAtYS1G7u+JHjpaVNhPU+Gr08PA9gP9CtEduQEENBiQXcAumjY0gcRDXYGhVaAz3XRYtuIzWmLGkaMgsx7Jy3CvR0w2sBKwYIWllNGHWYqH10GngItpjDApZKkENb9pZxhOqm4byW12olwK0XSiNLQKMc5QOAGxgZpfcMihwMjkjqbELSHc0jS2XchixQtGCoa3gbfKEq0oMbzg5MELxx8rfYLNmDGmEJej3IcyNQ3kMFkkwKOC+jj2GYcPJ8qMJeLEzKNb3b6BxeCZBxtEe/rAfcdws7t6k3/14pz7DsQb9C2L5wuqOOUAOgiEjcjsK0qOwNNRg+bI9VY5BBzYHiYpfTB/oh/kCs7wggFpv644rjBpc7zJgt1ebkcteCosO0zYH1/vp8jfaDzjBLBksQW9ojh/2KV/dwQpIzGjmqKGMHzJOOUtm9SeqDj/iAE0g+ABnqibKTJHGLq5Q4mLr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"/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="0" y="0"/>\n</svg>','[Twitter]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="16" height="16">\n\t<title>icon-ios</title>\n\t<defs>\n\t\t<image  width="1024" height="1024" id="img1" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAMAAABIw9uxAAAAAXNSR0IB2cksfwAAAwBQTFRFAAAABAQEFxcXGBgYDAwMERERCgoKfn5+wMDAv7+/k5OTFhYWKioqp6enq6urJycnPDw83Nzc////+/v7f39/BwcHKSkpu7u78vLyc3NzXl5e7+/v6+vrU1NTExMTra2t9/f3e3t7BgYGCQkJiIiI+fn50tLSLy8vDw8Pjo6O/f39mJiYrq6ur6+vGRkZCAgIh4eH/v7+Gxsb1NTUhISEAQEBZGRk8PDwvLy8ICAgVVVV6enp7OzsVlZWAwMDWFhY4+Pj0NDQODg4AgIC1tbWNTU1QkJC4eHh2NjYPz8/pKSktLS0Li4uxcXFy8vL+vr6wsLC7u7ubW1tBQUFSEhI5eXl8/PzfHx89vb2Nzc3EhISkpKS/Pz8nZ2dEBAQDQ0NuLi4hYWFIyMjwcHBi4uLYmJi7e3tvr6+Q0ND3d3dXFxczMzMZ2dn8fHx29vbOzs72traQEBAj4+Pvb29Hh4eMjIyx8fHHR0dt7e3JiYmaGhoNjY2oaGh39/fmZmZpqamFRUVrKysl5eXZmZmw8PDJCQkMDAwz8/Pa2tr6urqycnJMzMzUFBQ4uLifX19+Pj4xMTE5+fnFBQUo6OjnJycISEhb29vR0dH5OTkRUVFmpqalJSUcHBw9fX1xsbGJSUleHh4Dg4ObGxsKCgodHR0QUFB5ubmPj4+1dXV4ODgGhoaubm5eXl5hoaGOTk56Ojom5ubkZGRXV1dd3d3qKioUVFRysrKRkZGqqqqtra29PT0aWlpg4ODHBwcCwsLlpaWenp6sbGxcXFxT09Pzs7O19fXSkpK3t7e2dnZIiIijIyMgICAYGBgbm5u0dHRUlJScnJylZWVsLCwurq6Tk5OVFRU09PTNDQ0Ojo6KysrPT09Y2NjZWVlW1tbjY2NtbW1yMjIYWFhn5+fWlpadnZ2TU1Nzc3NpaWlLS0tgYGBV1dXoqKiWVlZS0tLdXV1s7OzHx8fgoKCoKCgkJCQREREX19fTExMSUlJqampMTExLCwsiYmJsrKyampqioqKnp6enA0qUQAAUvtJREFUeJzt3X1gjmX/P/DrZFt5aNTQ4reNzTC5Lasrj9tks7Kk1iwNbR5KMVHa8rDGPM00NzeNodCEydMippIVlqhMSTGR4ksSIk+F7HfXfd9luGzXcb2P6zyv83i//vne9/fb8TnOb+y96zrO4/gcmoWIlKXp/QBEpB8GAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwB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ABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHCGABECmMAECmMAUCkMAYAkcIYAEQKYwAQKYwBQKQwBgCRwhgARApjABApjAFApDAGAJHC/j9GYmsPmw8LugAAAABJRU5ErkJggg=="/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="0" y="0"/>\n</svg>\n','[Reddit]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192" width="16" height="16">\n\t<title>192x192</title>\n\t<defs>\n\t\t<image  width="192" height="192" id="img1" href="data:image/png;base64,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"/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="0" y="0"/>\n</svg>','[Youtube]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="16" height="16">\n\t<title>favicon_48x48</title>\n\t<defs>\n\t\t<image  width="48" height="48" id="img1" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAARRQTFRF////AAAA/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/xBA/wAz/56x/5uv/xZF/wAz/wAz/6Cz/////+/y/26L/wQ2/wAz/wAz/9Pc/0Bm/6m6/x1K/wAz//X3/3uV/wg5/wAz/93k/01x/7fF/yVR/yZR/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAz/wAzgb8Y2wAAAFx0Uk5TAAAJNFp0i52ptMDQ3ODl8Pj/99uoWS+z+zD6uxL+DEhAcm2Vkav/v////7zU///////T6P/////0////8///////8ufSlEEUDVe1/bkyOF13jKC2wd3mqp92XDdJ2BKpAAABRElEQVR4nO2VwUtCQRDG53vV0/DwEhNDXoREdCjC0CK6Rlj9vYHdg04SiSAUEUFE8gwJi0roNb0tHwS7Gzu3iOawh5nvt+zOzs6AhIZ/wAXA1/rdxl7ERMz+K3PukXlmwJwCRWDksHeGvd4nMDv14nic6ShOAK/kqk+Itz5QfnbWE/kRQjwJgIyPhaFATxSg8iAC8lgciIAClu41Z7FvByawHGnOEnBnA8pYvdWcoaqPazNQQe3KACQJx6URiBF4RoAoiwsD8I6tcwtAOaCrxVaQ13cJ008SoKMFfwTUO7WFgHcmAYxHEl56XZ7WnVMjYH84YWnU5MUnLu/dlj1qsIL8iwqbwAYaXVGbqcobGeYgbJW015Y14yTvdZw4yLeBw3SgzFdVNXTW0Dw42myNvWqANJrM+zyJURY4vlHS3zgU/wDwAXpXWYPo2LOhAAAAAElFTkSuQmCC"/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="0" y="0"/>\n</svg>','[Vk]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="16" height="16">\n\t<title>fav_logo</title>\n\t<defs>\n\t\t<image  width="256" height="256" id="img1" href="data:image/png;base64,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"/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="0" y="0"/>\n</svg>','[AutoTask]':'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="16" height="16">\n\t<title>favicon</title>\n\t<defs>\n\t\t<image  width="32" height="32" id="img1" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0IB2cksfwAAAgdQTFRFPHjYPnnYUIXbR3/ZUofbaJbgZpTfSIDaPXjYUYfbapfhbJnhZ5XgRn7ZP3rYU4jca5jhbZriaZfgR3/aVIncapjhZZTgRn/aVIjcbpvicp3iZ5bgQXvZVYncjrHorsfutMvvvtLyj7HoVorcdqDj0+H26/H7/v7+////1eH2apfgYpLfm7nq8fX87fP71uL2vNDxnLrq7fL7/v7/7PL7faXkWIvdRH3ZfqXk7vP7/f3+1+P2k7TpkbPpnLrrY5PfRn/ZPXnYXo/eu9DweqPkeKHjtMvwdaDjRX7ZQXvYWYzd1OL2dJ/jaJfgeKHk1eL2bpriWozdkLLoaZfhbZrhdZ/i7PH7WozeeKLk8/b8nbvrr8fvQHrYb5vitszwuM7wapjgfKTkz971/P3+9/n9mrnqtczwuM3wZpXgcp7jwdTyl7fqeaLkvtLxxtfzc53i1OH2+vz+t83wkrPoxNbzdJ7jZpTgjbDo6fD62uX39Pf8rsfvkbPoT4TaYZLfr8fuc57jcJviQnzYja/n+vv+rcbucZziYJHfXpDeqsTtkrPpQnzZd6Dj0+D21uP2UYbcYZHfdqHj8vb8q8Xussnv7/T7YpPfSoLaQHvYX5Dfnbrr0+D1h6vmYJHegajln7zrSYHZw9XzTIPaUIbbT4XbXY7ea5nhUofcW43dV4rdXI7dXI7eX5DeWOgbkgAAAmNJREFUeJx10l1IFFEUB/DzT/c6uTpb9CCIbYFBZVIhpuXLYD6oYCTSt9LXkgj7lL1kPVVbSSGbD5ZhUqD0AUKxrNqTK5KhRoo+WFgbZUHuw6Ls+jEz7jbdGbVYZ3deZuacH/ece+4FxTwAousisX9JXCiJgcDTfJFwIiDqeb1MMD4Q0hDR36oVgXgAGTJ4EdJkdRN+mYFokyPpeg1NS5pNmTGD7JANKz1wgUkz2AMss9UVdInhdeCgHvTLerM7QlY5Dej/D4oHpOHdbCM+ruJ8zIczx/LeroFyvEeRP2Ur+pixzdQc2xdtJz5EAisAlT4UT/+xjpYNzemiBD1sc/5X66gxD5BY7iUmCrtGZHXbjMLUI+P70SsUfM7vUVUhTKiZmgJVYKTQw9sr9Sgn9Ga76PiAtOilk08VFPA8nUJfyXOq5qmOs2ERniBd7K7AE1KdTZAmaA3U4g0qX1fhIY84uwygXkVhaRNbK3FGeUdVFjRzYBOkzAeEOQl089V3RitNWq782A7cW2YkaXqTqUHJxxsQG1wsd2GD3Td/q7Ha3kiaZZGlC0LN3fkok41B3Y+4mF0pyxr0phmDslDZgbbagcFr9drqqOG+fgcvTzf/NiZJatHRsbyhQ7gs/zusVtS7W4UCz5IekiYahiYd/Z0xp5l1o97dNrtXsX2jnMAnONNdftOVEyqWfy4YF8YaXVi6fd4E+NK59ox9NB6Y3tLdXiubQUcdn1g2+b2U7K4xXzn+2Qmn8XH42AU5HqDycw59ny1Jl0IUFxBe1IFakh/5KAEgZAXxzBGihIDEx5b23pjIX32q0uJJAW9GAAAAAElFTkSuQmCC"/>\n\t</defs>\n\t<style>\n\t</style>\n\t<use id="Background" href="#img1" x="0" y="0"/>\n</svg>'},G=(t,e)=>`<a href="${t}" target="_blank">${e}</a>`,L=t=>$(`<li>${t}<font class="log-status"></font></li>`).addClass('card-text'),E=t=>{let{type:e,text:s,html:a,id:r,before:i}=t;const o={success:()=>o,error:()=>o,warning:()=>o,info:()=>o,view:()=>o,remove:()=>o};try{let t;if(e||s||a){if(s&&!e){t=L(s)}else if(a&&!e){t=$(a)}else if(e){const i=((t,e,s)=>{const a={joiningSteamGroup:['group'],leavingSteamGroup:['group'],gettingSteamGroupId:['group'],joiningSteamOfficialGroup:['officialGroup'],leavingSteamOfficialGroup:['officialGroup'],gettingSteamOfficialGroupId:['officialGroup'],subscribingForum:['forum'],unsubscribingForum:['forum'],gettingForumId:['forum'],followingCurator:['curator'],unfollowingCurator:['curator'],gettingCuratorId:['curator'],addingToWishlist:['app'],removingFromWishlist:['app'],followingGame:['app'],unfollowingGame:['app'],gettingSubid:['app'],addingFreeLicense:['app','sub'],requestingPlayTestAccess:['app'],gettingDemoAppid:['app'],favoritingWorkshop:['workshop'],unfavoritingWorkshop:['workshop'],gettingWorkshopAppId:['workshop'],votingUpWorkshop:['workshop'],gettingAnnouncementParams:['announcement'],likingAnnouncement:['announcement'],joiningDiscordServer:['discord','invite'],gettingDiscordGuild:['discord','invite'],gettingDiscordXContextProperties:['discord','invite'],leavingDiscordServer:['discord','server'],followingTwitchChannel:['twitch'],unfollowingTwitchChannel:['twitch'],gettingTwitchChannelId:['twitch'],gettingInsUserId:['instagram'],followingIns:['instagram'],unfollowingIns:['instagram'],gettingTwitterUserId:['twitter'],followingTwitterUser:['twitter'],unfollowingTwitterUser:['twitter'],joiningReddit:['reddit','subreddit'],leavingReddit:['reddit','subreddit'],followingRedditUser:['reddit','user'],unfollowingRedditUser:['reddit','user'],followingYtbChannel:['youtube','channel'],unfollowingYtbChannel:['youtube','channel'],likingYtbVideo:['youtube','video'],unlikingYtbVideo:['youtube','video'],gettingVkId:['vk'],joiningVkGroup:['vk'],leavingVkGroup:['vk'],joiningVkPublic:['vk'],leavingVkPublic:['vk'],sendingVkWall:['vk'],deletingVkWall:['vk']}[t];if(!a||!e){return null}const[r,i]=a,o={group:t=>`https://steamcommunity.com/groups/${t}`,officialGroup:t=>`https://steamcommunity.com/games/${t}`,forum:t=>`https://steamcommunity.com/app/${t}/discussions/`,curator:t=>`https://store.steampowered.com/${t?.includes('/')?t:`curator/${t}`}`,app:t=>`https://store.steampowered.com/app/${t}`,sub:t=>`https://steamdb.info/sub/${t}/`,workshop:t=>`https://steamcommunity.com/sharedfiles/filedetails/?id=${t}`,announcement:(t,e)=>`https://store.steampowered.com/news/app/${t}/view/${e}`,discord:{invite:t=>`https://discord.com/invite/${t}`,server:t=>`https://discord.com/channels/@me/${t}`},twitch:t=>`https://www.twitch.tv/${t}`,instagram:t=>`https://www.instagram.com/${t}/`,twitter:t=>`https://x.com/${t}`,reddit:{subreddit:t=>`https://www.reddit.com/r/${t}/`,user:t=>`https://www.reddit.com/user/${t?.replace('u_','')}`},youtube:{channel:t=>`https://www.youtube.com/channel/${t}`,video:t=>`https://www.youtube.com/watch?v=${t}`},vk:t=>`https://vk.com/${t}/`}[r];if('function'==typeof o){const a=o(e,s),i='announcement'===r?s||'':e;return L(`${f(t)}[${G(a,i)}]...`)}if(i&&'object'==typeof o){const s=o[i];if('function'==typeof s){const a=t.includes('RedditUser')?e.replace('u_',''):e;return L(`${f(t)}[${G(s(e),a)}]...`)}}return null})(e,s,r);t=i||((t,e,s,a)=>{switch(t){case'retweetting':case'unretweetting':return L(`${f(t)}${e}...`);case'visitingLink':return L(`${f('visitingLink')}[${G(e||'',e||'')}]...`);case'verifyingInsAuth':case'text':return L(f(e||''));case'html':return $(e||s||'');case'whiteList':return $(`<li><font class="warning">${f('skipTask')}[${e}(${a})](${f('whiteList')})</font></li>`);case'globalOptionsSkip':return $(`<li>${f('skipTaskOption')}<font class="warning">${e}</font></li>`);default:return L(`${f('unKnown')}:${t}(${e})...`)}})(e,s,a,r)}else{t=L('')}}else{t=L('')}if(i){if(i in D){const e=btoa(D[i]);t.prepend(`<font class="before-icon" style="background-image: url('data:image/svg+xml;base64,${e}')"></font>`)}else{t.prepend(`<font class="before">${i}</font>`)}}else{const e=btoa(D['[AutoTask]']);t.prepend(`<font class="before-icon" style="background-image: url('data:image/svg+xml;base64,${e}')"></font>`)}t.addClass('card-text'),$('#auto-task-info').append(t),t[0]?.scrollIntoView();const o={font:t.find('font.log-status'),success(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'Success',e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.font?.attr('class','').addClass('success'),e?this.font?.html(t):this.font?.text(t),this},error(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'Error',e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.font?.attr('class','').addClass('error'),e?this.font?.html(t):this.font?.text(t),this},warning(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'Warning',e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.font?.attr('class','').addClass('warning'),e?this.font?.html(t):this.font?.text(t),this},info(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'Info',e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.font?.attr('class','').addClass('info'),e?this.font?.html(t):this.font?.text(t),this},view(){return this.font?.[0].scrollIntoView(),this},remove(){return this.font?.parent().remove(),this}};return o}catch(t){return S(t,'echoLog'),o}},B=t=>{try{return Array.from(new Set(t))}catch(t){return S(t,'unique'),[]}},P=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((e=>setTimeout((()=>e(!0)),t)))},F=async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(!t){return null}const s=GM_getValue('redirectLinks')||{},a=s[t];if(a){return b('使用缓存的重定向链接',{original:t,cached:a}),a}const{data:r}=await I({url:t,method:'GET',redirect:e?'manual':'follow'});return r?.finalUrl?(s[t]=r.finalUrl,GM_setValue('redirectLinks',s),b('获取新的重定向链接',{original:t,final:r.finalUrl}),r.finalUrl):(b('未找到重定向链接',{link:t}),null)}catch(t){return S(t,'getRedirectLink'),null}},M=async(t,e)=>{try{b('开始访问链接',{link:t,options:e});const s=E({type:'visitLink',text:t}),{result:a,statusText:r,status:i}=await I({url:t,method:'GET',...e});return'Success'===a?(b('链接访问成功',{link:t}),s.success(),!0):(b('链接访问失败',{link:t,result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),!1)}catch(t){return S(t,'visitLink'),!1}},O=t=>{try{let e=0;for(let s=0;s<t.length;s++){e=t.charCodeAt(s)+((e<<5)-e)}const s=Array.from({length:3},((t,s)=>(e>>8*s&255).toString(16).padStart(2,'0')));return`#${s.join('')}`}catch(t){return S(t,'stringToColour'),'#ffffff'}};class R{tasks;getRealParams(t,e,s,a){try{b('开始获取实际参数',{name:t,linksCount:e.length,doTask:s});let r=[];if(e.length>0){b('处理链接参数');const t=e.map((t=>a(t))).filter((t=>void 0!==t));b('链接参数处理结果',{convertedLinksCount:t.length}),r=[...r,...t]}!s&&this.tasks[t]?.length&&(b('处理任务参数',{taskCount:this.tasks[t].length}),r=[...r,...this.tasks[t]]);const i=B(r);return b('参数处理完成',{originalCount:r.length,uniqueCount:i.length}),i}catch(t){return b('获取实际参数时发生错误',{error:t}),S(t,'Social.getRealParams'),[]}}}class U extends R{tasks;whiteList;#t=(()=>GM_getValue('discordAuth')||{})();#e=(()=>GM_getValue('discordCache')||{})();#s=(()=>GM_getValue('discordXContextPropertiesCache')||{})();#a=!1;constructor(){super();const t={servers:[]};this.tasks=t,this.whiteList={...t,...GM_getValue('whiteList')?.discord||{}}}async init(e){try{if(b('开始初始化Discord模块',{action:e}),!GM_getValue('dontRemindDiscordAgain')){b('显示Discord重要提示对话框');if(!await t.fire({title:f('discordImportantNotice'),text:f('discordImportantNoticeText'),showCancelButton:!0,showDenyButton:!0,confirmButtonText:f('continueDiscordTask'),cancelButtonText:f('skipDiscordTask'),denyButtonText:f('continueAndDontRemindAgain')}).then((t=>{let{isConfirmed:e,isDenied:s}=t;return!!e||!!s&&(GM_setValue('dontRemindDiscordAgain',!0),!0)}))){return this.#a=!1,'skip'}}if('do'===e&&!g.doTask.discord.servers||'undo'===e&&!g.undoTask.discord.servers){return this.#a=!1,b('检测到用户已禁用Discord任务，跳过初始化'),'skip'}if(this.#a){return b('Discord模块已初始化'),!0}if(!this.#t.auth||!this.#t.xSuperProperties){return b('未找到Discord授权信息，尝试更新授权'),!!await this.#r()&&(this.#a=!0,!0)}return await this.#i()?(b('Discord授权验证成功'),E({before:'[Discord]'}).success(f('initSuccess','Discord')),this.#a=!0,!0):(GM_setValue('discordAuth',{auth:null}),b('Discord授权验证失败，尝试重新获取授权'),await this.#r()?(E({before:'[Discord]'}).success(f('initSuccess','Discord')),this.#a=!0,!0):(E({before:'[Discord]'}).error(f('initFailed','Discord')),!1))}catch(t){return S(t,'Discord.init'),!1}}async#i(){try{b('开始验证Discord授权');const t=E({text:f('verifyingAuth','Discord'),before:'[Discord]'}),{result:e,statusText:s,status:a,data:r}=await I({url:'https://discord.com/api/v6/users/@me',method:'HEAD',headers:{authorization:this.#t.auth}});return'Success'!==e?(b('Discord授权验证请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),!1):200!==r?.status?(b('Discord授权验证状态码错误',{status:r?.status,statusText:r?.statusText}),t.error(`Error:${r?.statusText}(${r?.status})`),!1):(b('Discord授权验证成功'),t.success(),!0)}catch(t){return S(t,'Discord.verifyAuth'),!1}}async#r(){try{b('开始更新Discord授权');const t=E({text:f('updatingAuth','Discord'),before:'[Discord]'});return await new Promise((e=>{const s=GM_openInTab('https://discord.com/channels/@me',{active:!0,insert:!0,setParent:!0});s.name='ATv4_discordAuth',s.onclose=async()=>{const{auth:s,xSuperProperties:a}=GM_getValue('discordAuth');s&&a?(b('成功获取新的Discord授权'),this.#t={auth:s,xSuperProperties:a},t.success(),e(await this.#i())):(b('获取Discord授权失败'),t.error('Error: Update discord auth failed!'),e(!1))}}))}catch(t){return S(t,'Discord.updateAuth'),!1}}async#o(t){try{b('开始加入Discord服务器',{inviteId:t});const e=E({type:'joiningDiscordServer',text:t,before:'[Discord]'}),s=await this.#n(t);if(!s){return b('获取加群参数失败，无法加入服务器',{inviteId:t}),e.error('Error: Failed to get xContextProperties'),!1}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://discord.com/api/v9/invites/${t}`,method:'POST',dataType:'json',headers:{'content-type':'application/json',authorization:this.#t.auth,origin:'https://discord.com',referer:`https://discord.com/invite/${t}`,'x-super-properties':this.#t.xSuperProperties,'x-context-properties':s},data:'{"session_id":null}'});if('Success'!==a||200!==o?.status){return b('加入Discord服务器失败',{result:a,statusText:r,status:i}),400===i?(b('加入Discord服务器失败，状态码为400，需完成人机验证'),e.error(f('captchaNeeded')),!1):(e.error(`${a}:${r}(${i})`),!1)}const n=o.response?.guild?.id;return n?(b('成功加入Discord服务器',{guild:n}),e.success(),this.#c(t,n),this.tasks.servers=B([...this.tasks.servers,t]),!0):(b('获取服务器ID失败'),e.error('Error: Failed to get guild ID'),!1)}catch(t){return S(t,'Discord.joinServer'),!1}}async#u(t){try{if(b('开始退出Discord服务器',{inviteId:t}),this.whiteList.servers.includes(t)){return b('服务器在白名单中，跳过退出操作',{inviteId:t}),E({type:'whiteList',text:'Discord.leaveServer',id:t,before:'[Discord]'}),!0}const e=await this.#l(t);if(!e){return b('获取服务器ID失败，无法退出服务器',{inviteId:t}),!1}const s=E({type:'leavingDiscordServer',text:e,before:'[Discord]'}),{result:a,statusText:r,status:i,data:o}=await I({url:`https://discord.com/api/v9/users/@me/guilds/${e}`,method:'DELETE',headers:{authorization:this.#t.auth,'x-super-properties':this.#t.xSuperProperties}});return'Success'!==a||204!==o?.status?(b('退出Discord服务器失败',{result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),!1):(b('成功退出Discord服务器',{guild:e}),s.success(),!0)}catch(t){return S(t,'Discord.leaveServer'),!1}}async#n(t){try{b('开始获取Discord加群参数',{inviteId:t});const e=E({type:'gettingDiscordXContextProperties',text:t,before:'[Discord]'}),s=this.#s[t];if(s){return b('从缓存中获取到加群参数',{inviteId:t,cachedXContextProperties:s}),e.success(),s}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://discord.com/api/v9/invites/${t}?with_counts=true&with_expiration=true&with_permissions=true`,responseType:'json',method:'GET',headers:{authorization:this.#t.auth,'x-super-properties':this.#t.xSuperProperties}});if('Success'!==a||200!==o?.status){return b('获取加群参数失败',{result:a,statusText:r,status:i}),e.error(`${a}:${r}(${i})`),!1}const n=o.response?.guild?.id;if(!n){return b('加群参数中未找到ID',{inviteId:t}),e.error('Error: Failed to get guild ID'),!1}const c={location:'Accept Invite Page',location_guild_id:o.response?.guild?.id,location_channel_id:o.response?.channel?.id,location_channel_type:o.response?.channel?.type};return b('成功获取加群参数',c),e.success(),this.#d(t,window.btoa(JSON.stringify(c))),this.#c(t,n),window.btoa(JSON.stringify(c))}catch(t){return S(t,'Discord.getXContextProperties'),!1}}async#l(t){try{b('开始获取Discord服务器ID',{inviteId:t});const e=E({type:'gettingDiscordGuild',text:t,before:'[Discord]'}),s=this.#e[t];if(s){return b('从缓存中获取到服务器ID',{inviteId:t,cachedGuild:s}),e.success(),s}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://discord.com/api/v9/invites/${t}`,responseType:'json',method:'GET',headers:{authorization:this.#t.auth,'x-super-properties':this.#t.xSuperProperties}});if('Success'!==a||200!==o?.status){return b('获取服务器信息失败',{result:a,statusText:r,status:i}),e.error(`${a}:${r}(${i})`),!1}const n=o.response?.guild?.id;return n?(b('成功获取服务器ID',{inviteId:t,guild:n}),e.success(),this.#c(t,n),n):(b('服务器信息中未找到ID',{inviteId:t}),e.error('Error: Failed to get guild ID'),!1)}catch(t){return S(t,'Discord.getGuild'),!1}}async toggle(t){let{doTask:e=!0,serverLinks:s=[]}=t;try{if(b('开始处理Discord服务器任务',{doTask:e,serverLinksCount:s.length}),!this.#a){return b('Discord模块未初始化'),E({text:f('needInit'),before:'[Discord]'}),!1}if(e&&!g.doTask.discord.servers||!e&&!g.undoTask.discord.servers){return b('根据全局选项跳过Discord服务器任务',{doTask:e}),E({type:'globalOptionsSkip',text:'discord.servers',before:'[Discord]'}),!0}const t=this.getRealParams('servers',s,e,(t=>t.match(/invite\/(.+)/)?.[1]));if(b('处理后的服务器列表',{count:t.length,servers:t}),0===t.length){return b('没有需要处理的服务器'),!0}const a=[];for(const s of t){a.push(e?this.#o(s):this.#u(s)),await P(1e3)}return await Promise.allSettled(a).then((()=>!0))}catch(t){return S(t,'Discord.toggleServers'),!1}}#c(t,e){try{b('设置Discord服务器缓存',{inviteId:t,guild:e}),this.#e[t]=e,GM_setValue('discordCache',this.#e),b('Discord服务器缓存设置成功')}catch(t){b('设置Discord服务器缓存失败',{error:t}),S(t,'Discord.setCache')}}#d(t,e){try{b('设置Discord加群参数缓存',{inviteId:t,xContextProperties:e}),this.#s[t]=e,GM_setValue('discordXContextPropertiesCache',this.#s)}catch(t){b('设置Discord加群参数缓存失败',{error:t}),S(t,'Discord.setXContextPropertiesCache')}}}class Y extends R{tasks;whiteList;#t;#a=!1;constructor(){super();const t={reddits:[]};b('初始化Reddit实例'),this.tasks=t,this.whiteList={...t,...GM_getValue('whiteList')?.reddit||{}}}async init(){try{if(b('开始初始化Reddit模块'),this.#a){return b('Reddit模块已初始化'),!0}return await this.#r()?(b('Reddit授权验证成功'),E({before:'[Reddit]'}).success(f('initSuccess','Reddit')),this.#a=!0,!0):(b('Reddit初始化失败'),E({before:'[Reddit]'}).error(f('initFailed','Reddit')),!1)}catch(t){return b('Reddit初始化发生错误',{error:t}),S(t,'Reddit.init'),!1}}async#h(){try{b('开始切换Reddit为新版');const t=E({text:f('changingRedditVersion'),before:'[Reddit]'});return await new Promise((e=>{const s=GM_openInTab('https://www.reddit.com/',{active:!0,insert:!0,setParent:!0});s.name='ATv4_redditAuth',s.onclose=async()=>{b('新版Reddit标签页已关闭'),t.success(),e(await this.#r(!0))}}))}catch(t){return b('切换Reddit版本时发生错误',{error:t}),S(t,'Reddit.useBeta'),!1}}async#r(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{b('开始更新Reddit授权',{beta:t});const e=E({text:f('updatingAuth','Reddit'),before:'[Reddit]'}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://www.reddit.com/',method:'GET',nochche:!0,headers:{'Cache-Control':'no-cache'}});if('Success'!==s){return b('获取Reddit页面失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1}if(i?.responseText.includes('www.reddit.com/login/')){return b('需要登录Reddit'),e.error(`Error:${f('loginReddit')}`,!0),!1}if(200!==i?.status){return b('Reddit页面状态码错误',{status:i?.status,statusText:i?.statusText}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}if(i.responseText.includes('redesign-beta-optin-btn')&&!t){return b('检测到旧版Reddit，需要切换到新版'),await this.#h()}const o=i.responseText.match(/"accessToken":"(.*?)","expires":"(.*?)"/)?.[1];return o?(b('成功获取Reddit访问令牌'),this.#t={token:o},e.success(),!0):(b('未找到Reddit访问令牌'),e.error('Error: Parameter "accessToken" not found!'),!1)}catch(t){return b('更新Reddit授权时发生错误',{error:t}),S(t,'Reddit.updateAuth'),!1}}async#p(t){let{name:e,doTask:s=!0}=t;try{if(b('开始处理Reddit任务',{name:e,doTask:s}),!s&&this.whiteList.reddits.includes(e)){return b('Reddit在白名单中，跳过取消订阅',{name:e}),E({type:'whiteList',text:'Reddit.undoTask',id:e,before:'[Reddit]'}),!0}let t=s?'joiningReddit':'leavingReddit';/^u_/.test(e)&&(t=s?'followingRedditUser':'unfollowingRedditUser'),b('任务类型',{type:t,name:e});const a=E({type:t,text:e,before:'[Reddit]'}),{result:r,statusText:i,status:o,data:n}=await I({url:'https://oauth.reddit.com/api/subscribe?redditWebClient=desktop2x&app=desktop2x-client-production&raw_json=1&gilding_detail=1',method:'POST',headers:{authorization:`Bearer ${this.#t.token}`,'content-type':'application/x-www-form-urlencoded'},data:$.param({action:s?'sub':'unsub',sr_name:e,api_type:'json'})});return'Success'!==r?(b('Reddit任务请求失败',{result:r,statusText:i,status:o}),a.error(`${r}:${i}(${o})`),!1):200!==n?.status?(b('Reddit任务状态码错误',{status:n?.status,statusText:n?.statusText}),a.error(`Error:${n?.statusText}(${n?.status})`),!1):(b('Reddit任务处理成功',{name:e,doTask:s}),a.success(),s&&(this.tasks.reddits=B([...this.tasks.reddits,e])),!0)}catch(t){return b('处理Reddit任务时发生错误',{error:t}),S(t,'Reddit.toggleTask'),!1}}async toggle(t){let{doTask:e=!0,redditLinks:s=[]}=t;try{if(b('开始处理Reddit链接任务',{doTask:e,redditLinksCount:s.length}),!this.#a){return b('Reddit模块未初始化'),E({text:f('needInit'),before:'[Reddit]'}),!1}if(e&&!g.doTask.reddit.reddits||!e&&!g.undoTask.reddit.reddits){return b('根据全局选项跳过Reddit任务',{doTask:e}),E({type:'globalOptionsSkip',text:'reddit.reddits',before:'[Reddit]'}),!0}const t=this.getRealParams('reddits',s,e,(t=>{const e=t.match(/https?:\/\/www\.reddit\.com\/r\/([^/]*)/)?.[1],s=t.match(/https?:\/\/www\.reddit\.com\/user\/([^/]*)/)?.[1];return s?e||s:e}));if(b('处理后的Reddit列表',{count:t.length,reddits:t}),0===t.length){return b('没有需要处理的Reddit链接'),!0}const a=[];for(const s of t){a.push(this.#p({name:s,doTask:e})),await P(1e3)}return await Promise.all(a).then((()=>!0))}catch(t){return b('处理Reddit链接任务时发生错误',{error:t}),S(t,'Reddit.toggle'),!1}}}class V extends R{tasks;whiteList;#t=(()=>GM_getValue('twitchAuth')||{})();#e=(()=>GM_getValue('twitchCache')||{})();#a=!1;#g;constructor(){super();const t={channels:[]};b('初始化Twitch实例'),this.tasks=t,this.whiteList={...t,...GM_getValue('whiteList')?.twitch||{}}}async init(){try{if(b('开始初始化Twitch模块'),this.#a){return b('Twitch模块已初始化'),!0}if(!(this.#t.authToken&&this.#t.clientId&&this.#t.clientVersion&&this.#t.deviceId&&this.#t.clientSessionId)){return!!await this.#r()&&(this.#a=!0,!0)}return await this.#i(!0)?(b('Twitch授权验证成功'),E({before:'[Twitch]'}).success(f('initSuccess','Twitch')),this.#a=!0,!0):(GM_setValue('twitchAuth',null),await this.#r()?(b('Twitch重新授权成功'),E({before:'[Twitch]'}).success(f('initSuccess','Twitch')),this.#a=!0,!0):(b('Twitch初始化失败'),E({before:'[Twitch]'}).error(f('initFailed','Twitch')),!1))}catch(t){return b('Twitch初始化发生错误',{error:t}),S(t,'Twitch.init'),!1}}async#i(t){try{b('开始验证Twitch授权');const e=E({text:f('verifyingAuth','Twitch'),before:'[Twitch]'}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://gql.twitch.tv/gql',method:'POST',dataType:'json',headers:{Authorization:`OAuth ${this.#t.authToken}`,'Client-Id':this.#t.clientId},data:'[{"operationName":"FrontPageNew_User","variables":{"limit":1},"extensions":{"persistedQuery":{"version":1,"sha256Hash":"64bd07a2cbaca80699d62636d966cf6395a5d14a1f0a14282067dcb28b13eb11"}}}]'});return'Success'!==s?(b('Twitch授权验证请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):200===i?.status&&i.response?.[0]?.data?.currentUser?(await this.#m(t),b('Twitch授权验证成功'),e.success(),!0):(b('Twitch授权验证状态错误',{status:i?.status,statusText:i?.statusText}),e.error(`Error:${i?.statusText}(${i?.status})`),!1)}catch(t){return b('Twitch授权验证发生错误',{error:t}),S(t,'Twitch.verifyAuth'),!1}}async#m(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'';try{b('开始检查Twitch完整性',{isFirst:t,ct:e});const s=E({text:f('checkingTwitchIntegrity'),before:'[Twitch]'});if(t&&(!this.#t.authToken||!this.#t.clientId||!this.#t.clientVersion||!this.#t.deviceId||!this.#t.clientSessionId)){return await this.#r(!1)}const{result:a,statusText:r,status:i,data:o}=await I({url:'https://gql.twitch.tv/integrity',method:'POST',dataType:'json',anonymous:!0,headers:{Origin:'https://www.twitch.tv',Referer:'https://www.twitch.tv/',Authorization:`OAuth ${this.#t.authToken}`,'Client-Id':this.#t.clientId,'Client-Version':this.#t.clientVersion,'X-Device-Id':this.#t.deviceId,'Client-Session-Id':this.#t.clientSessionId,'x-kpsdk-ct':e}});return'Success'!==a?(b('Twitch完整性检查请求失败',{result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),!1):!e&&o?.responseHeaders?.['x-kpsdk-ct']?(b('需要重新检查Twitch完整性'),await this.#m(t,o.responseHeaders['x-kpsdk-ct'])):200===o?.status&&o.response?.token?(this.#g=o.response.token,b('Twitch完整性检查成功'),s.success(),!0):(b('Twitch完整性检查状态错误',{status:o?.status,statusText:o?.statusText}),s.error(`Error:${o?.statusText}(${o?.status})`),!1)}catch(t){return b('Twitch完整性检查发生错误',{error:t}),S(t,'Twitch.integrity'),!1}}async#r(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{b('开始更新Twitch授权',{isFirst:t});const e=E({text:f('updatingAuth','Twitch'),before:'[Twitch]'});return await new Promise((s=>{const a=GM_openInTab('https://www.twitch.tv/',{active:!0,insert:!0,setParent:!0});a.name='ATv4_twitchAuth',a.onclose=async()=>{const a=GM_getValue('twitchAuth');a?(b('成功获取新的Twitch授权'),this.#t=a,e.success(),s(await this.#i(t))):(b('获取Twitch授权失败'),e.error('Error: Update twitch auth failed!'),s(!1))}}))}catch(t){return b('更新Twitch授权时发生错误',{error:t}),S(t,'Twitch.updateAuth'),!1}}async#w(t){let{name:e,doTask:s=!0}=t;try{if(b('开始处理Twitch频道任务',{name:e,doTask:s}),!s&&this.whiteList.channels.includes(e)){return b('Twitch频道在白名单中，跳过取消关注',{name:e}),E({type:'whiteList',text:'Twitch.unfollowChannel',id:e,before:'[Twitch]'}),!0}const t=await this.#f(e);if(!t){return!1}const a=E({type:(s?'':'un')+'followingTwitchChannel',text:e,before:'[Twitch]'}),r=`[{"operationName":"FollowButton_FollowUser","variables":{"input":{"disableNotifications":false,"targetID":"${t}"}},"extensions":{"persistedQuery":{"version":1,"sha256Hash":"800e7346bdf7e5278a3c1d3f21b2b56e2639928f86815677a7126b093b2fdd08"}}}]`,i=`[{"operationName":"FollowButton_UnfollowUser","variables":{"input":{"targetID":"${t}"}},"extensions":{"persistedQuery":{"version":1,"sha256Hash":"f7dae976ebf41c755ae2d758546bfd176b4eeb856656098bb40e0a672ca0d880"}}}]`,{result:o,statusText:n,status:c,data:u}=await I({url:'https://gql.twitch.tv/gql',method:'POST',dataType:'json',anonymous:!0,headers:{Origin:'https://www.twitch.tv',Referer:'https://www.twitch.tv/',Authorization:`OAuth ${this.#t.authToken}`,'Client-Id':this.#t.clientId,'Client-Version':this.#t.clientVersion,'X-Device-Id':this.#t.deviceId,'Client-Session-Id':this.#t.clientSessionId,'Client-Integrity':this.#g},data:s?r:i});return'Success'!==o?(b('Twitch频道操作请求失败',{result:o,statusText:n,status:c}),a.error(`${o}:${n}(${c})`),!1):200!==u?.status||u.response?.[0]&&u.response[0].errors?(b('Twitch频道操作状态错误',{status:u?.status,statusText:u?.statusText,errors:u?.response?.[0].errors}),a.error(`Error:${u?.response?.[0].errors?.[0]?.message||`${u?.statusText}(${u?.status})`}`),!1):(b('Twitch频道操作成功',{name:e,doTask:s}),a.success(),s&&(this.tasks.channels=B([...this.tasks.channels,e])),!0)}catch(t){return b('处理Twitch频道任务时发生错误',{error:t}),S(t,'Twitch.toggleChannel'),!1}}async#f(t){try{b('开始获取Twitch频道ID',{name:t});const e=E({type:'gettingTwitchChannelId',text:t,before:'[Twitch]'}),s=this.#e[t];if(s){return b('从缓存获取到Twitch频道ID',{name:t,id:s}),e.success(),s}const{result:a,statusText:r,status:i,data:o}=await I({url:'https://gql.twitch.tv/gql',method:'POST',headers:{Authorization:`OAuth ${this.#t.authToken}`,'Client-Id':this.#t.clientId},responseType:'json',data:`[{"operationName":"ActiveWatchParty","variables":{"channelLogin":"${t}"},"extensions":{"persistedQuery":{"version":1,"sha256Hash":"4a8156c97b19e3a36e081cf6d6ddb5dbf9f9b02ae60e4d2ff26ed70aebc80a30"}}}]`});if('Success'!==a){return b('获取Twitch频道ID请求失败',{result:a,statusText:r,status:i}),e.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('获取Twitch频道ID状态错误',{status:o?.status,statusText:o?.statusText}),e.error(`Error:${o?.statusText}(${o?.status})`),!1}const n=o.response?.[0]?.data?.user?.id;return n?(b('成功获取Twitch频道ID',{name:t,id:n}),this.#c(t,n),e.success(),n):(b('未找到Twitch频道ID',{name:t}),e.error(`Error:${o?.statusText||'Unknown'}(${o?.status||'Unknown'})`),!1)}catch(t){return b('获取Twitch频道ID时发生错误',{error:t}),S(t,'Twitch.getChannelId'),!1}}async toggle(t){let{doTask:e=!0,channelLinks:s=[]}=t;try{if(b('开始处理Twitch链接任务',{doTask:e,channelLinksCount:s.length}),!this.#a){return b('Twitch模块未初始化'),E({text:f('needInit'),before:'[Twitch]'}),!1}const t=[];if(e&&!g.doTask.twitch.channels||!e&&!g.undoTask.twitch.channels){b('根据全局选项跳过Twitch任务',{doTask:e}),E({type:'globalOptionsSkip',text:'twitch.channels',before:'[Twitch]'})}else{const a=this.getRealParams('channels',s,e,(t=>t.match(/https:\/\/(www\.)?twitch\.tv\/(.+)/)?.[2]));if(b('处理后的Twitch频道列表',{count:a.length,channels:a}),a.length>0){for(const s of a){t.push(this.#w({name:s,doTask:e})),await P(1e3)}}}return Promise.all(t).then((()=>!0))}catch(t){return b('处理Twitch链接任务时发生错误',{error:t}),S(t,'Twitch.toggle'),!1}}#c(t,e){try{b('设置Twitch频道ID缓存',{name:t,id:e}),this.#e[t]=e,GM_setValue('twitchCache',this.#e)}catch(t){b('设置Twitch频道ID缓存时发生错误',{error:t}),S(t,'Twitch.setCache')}}}const Q=async(t,e,s,a)=>{const r=Math.floor((Date.now()-16829244e5)/1e3),i=[255&r,r>>8&255,r>>16&255,r>>24&255],o=`${t}!${e}!${r}obfiowerehiring${a}`,n=await(async t=>{const e=(new TextEncoder).encode(t),s=await crypto.subtle.digest('SHA-256',e);return Array.from(new Uint8Array(s))})(o),c=(t=>{const e=atob(t),s=e.length,a=new Uint8Array(s);for(let t=0;t<s;t++){a[t]=e.charCodeAt(t)}return Array.from(a)})(s),u=Math.floor(256*Math.random()),l=[...c,...i,...n.slice(0,16),3],d=new Uint8Array(l.length+1);return d[0]=u,l.forEach(((t,e)=>{d[e+1]=t^u})),(t=>{let e='';const s=new Uint8Array(t),a=s.byteLength;for(let t=0;t<a;t++){e+=String.fromCharCode(s[t])}return btoa(e).replace(/=/g,'')})(d)},j=t=>{const e={};return t?(t.split('\r\n').forEach((t=>{if(t){const s=t.split(':'),a=s.shift()?.trim(),r=s.join(':').trim();a&&('set-cookie'===a.toLowerCase()&&e[a]?Array.isArray(e[a])?e[a].push(r):e[a]=[e[a],r]:e[a]=r)}})),e):e},H=function(t){const e={...H.defaults,...t},s=e.retry??0,a=e.retryDelay??0,r=t=>new Promise(((i,o)=>{GM_xmlhttpRequest({method:e.method?e.method.toUpperCase():'GET',url:e.url,headers:e.headers,data:e.data,responseType:e.responseType||'json',timeout:e.timeout,fetch:e.fetch??!0,onload(t){const s={data:t.response||t.responseText,status:t.status,statusText:t.statusText,headers:j(t.responseHeaders),config:e,request:t};i(s)},onerror(e){t<s?setTimeout((()=>{r(t+1).then(i).catch(o)}),a):o(e)},ontimeout(){t<s?setTimeout((()=>{r(t+1).then(i).catch(o)}),a):o('Error: timeout')}})}));return r(0)};H.defaults={},H.get=function(t){return H({...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},url:t,method:'GET'})},H.post=function(t,e){return H({...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},url:t,data:e,method:'POST'})},H.head=function(t){return H({...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},url:t,method:'HEAD'})},H.create=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=e=>{const s={...H.defaults,...t,...e};return H(s)};return e.defaults={...H.defaults,...t},e.get=function(t){return e({...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},url:t,method:'GET'})},e.post=function(t,s){return e({...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},url:t,data:s,method:'POST'})},e.head=function(t){return e({...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},url:t,method:'HEAD'})},e.create=H.create,e};const N=async t=>{const{data:e}=await H.get(t),s=/Uint8Array\(n\)\.set\(\[(.*?)\]\)/;if(!s.test(e)){return!1}const a=`[${e.match(s)?.[1]}]`,r=JSON.parse(a);return new Uint8Array(r)},K=async()=>{const t=await(async()=>[...(await H({url:'https://x.com',method:'GET'})).data.matchAll(/"(loader\.FwdForSdk-[^"]+?)":"([^"]+?)"/g)])();for(const e of t){const t=await N(`https://abs.twimg.com/responsive-web/client-web/${e[1]}.${e[2]}a.js`);if(t){return t}}return!1},W=async()=>{b('开始获取 XFwdForSdk');const t=await K();b('获取 wasmData 成功',{wasmData:t});const e=new Go,s=await WebAssembly.instantiate(t,{...e.importObject,env:{...e.importObject.env,memory:new WebAssembly.Memory({initial:10}),table:new WebAssembly.Table({initial:0,element:'anyfunc'})}});b('初始化 wasmModule 成功'),e.run(s.instance),b('运行 wasmModule 成功');const{str:a,expiryTimeMillis:r}=await globalThis.getForwardedForStr();return b('获取 XFwdForSdk 成功',{str:a,expiryTimeMillis:r}),{str:a,expiryTimeMillis:parseInt(r,10)}};class z extends R{tasks;whiteList;#A=(()=>g.other.twitterVerifyId)();#t=(()=>GM_getValue('twitterAuth')||{})();#e=(()=>GM_getValue('twitterCache')||{})();#a=!1;#k;#y;#T={};constructor(){super();const t={users:[],retweets:[],likes:[]};b('初始化Twitter实例'),this.tasks=t,this.whiteList={...t,...GM_getValue('whiteList')?.twitter||{}},this.#T={authorization:'Bearer AAAAAAAAAAAAAAAAAAAAANRILgAAAAAAnNwIzUejRCOuH5E6I8xnZz4puTs%3D1Zv7ttfk8LF81IUq16cHjhLTvJu4FA33AGWWjCpTnA','X-Twitter-Auth-Type':'OAuth2Session','X-Twitter-Active-User':'yes','sec-fetch-dest':'empty','sec-fetch-mode':'cors','sec-fetch-site':'same-origin','sec-ch-ua-platform':'"Windows"','sec-ch-ua-mobile':'?0','sec-ch-ua':navigator.userAgentData&&navigator.userAgentData.brands?navigator.userAgentData.brands.map((t=>`"${t.brand}";v="${t.version}"`)).join(', '):'"Google Chrome";v="125", "Chromium";v="125", "Not-A.Brand";v="99"'}}async init(){try{if(b('开始初始化Twitter模块'),this.#a){return b('Twitter模块已初始化'),!0}if(b('获取Twitter授权信息'),!await this.#r()){return!1}b('创建Twitter会话和SDK'),this.#k=await(async()=>{const t=await fetch('https://raw.githubusercontent.com/fa0311/x-client-transaction-id-pair-dict/refs/heads/main/pair.json'),e=await t.json();return async(t,s)=>{const a=e[Math.floor(Math.random()*e.length)],{animationKey:r,verification:i}=a;return await Q(t,s,i,r)}})(),this.#y=await W();return await this.#i()?(b('Twitter授权验证成功'),E({before:'[Twitter]'}).success(f('initSuccess','Twitter')),this.#a=!0,!0):(b('Twitter授权失效，尝试重新获取'),GM_setValue('twitterAuth',null),await this.#r()?(b('Twitter重新授权成功'),E({before:'[Twitter]'}).success(f('initSuccess','Twitter')),this.#a=!0,!0):(b('Twitter初始化失败'),E({before:'[Twitter]'}).error(f('initFailed','Twitter')),!1))}catch(t){return b('Twitter初始化发生错误',{error:t}),S(t,'Twitter.init'),!1}}async#i(){try{return b('开始验证Twitter授权'),await this.#b({name:'verify',doTask:!0,verify:!0})}catch(t){return b('Twitter授权验证发生错误',{error:t}),S(t,'Twitter.verifyAuth'),!1}}async#r(){try{b('开始更新Twitter授权');const t=E({text:f('updatingAuth','Twitter'),before:'[Twitter]'});return await new Promise((e=>{GM_cookie.list({url:'https://x.com/settings/account'},(async(s,a)=>{if(a){b('获取Twitter授权失败',{error:a}),t.error('Error: Update twitter auth failed!'),e(!1)}else{const a=s.find((t=>'ct0'===t.name))?.value,r=s.find((t=>'twid'===t.name))?.value;r&&a?(b('成功获取Twitter授权信息'),GM_setValue('twitterAuth',{ct0:a}),this.#t={ct0:a},this.#T['x-csrf-token']=a,this.#T['x-twitter-client-language']=s.find((t=>'lang'===t.name))?.value||'en',t.success(),e(!0)):(b('获取Twitter授权失败：未登录'),t.error(f('needLogin')),e(!1))}}))}))}catch(t){return b('更新Twitter授权时发生错误',{error:t}),S(t,'Twitter.updateToken'),!1}}async#b(t){let{name:e,doTask:s=!0,verify:a=!1,retry:r=!1}=t;try{if(b('开始处理Twitter用户任务',{name:e,doTask:s,verify:a,retry:r}),!s&&!a&&this.whiteList.users.includes(e)){return b('Twitter用户在白名单中，跳过取消关注',{name:e}),E({type:'whiteList',text:'Twitter.unfollowUser',id:e,before:'[Twitter]'}),!0}const t=a?this.#A:await this.userName2id(e);if(!t){return!1}const i=E(a?{text:f('verifyingAuth','Twitter'),before:'[Twitter]'}:{type:(s?'':'un')+'followingTwitterUser',text:e,before:'[Twitter]'}),{result:o,statusText:n,status:c,data:u}=await I({url:`https://x.com/i/api/1.1/friendships/${s?'create':'destroy'}.json`,method:'POST',headers:{...this.#T,'Content-Type':'application/x-www-form-urlencoded','x-client-transaction-id':await this.#k('POST',`/i/api/1.1/friendships/${s?'create':'destroy'}.json`),'x-xp-forwarded-for':this.#y.str},responseType:'json',data:$.param({include_profile_interstitial_type:1,include_blocking:1,include_blocked_by:1,include_followed_by:1,include_want_retweets:1,include_mute_edge:1,include_can_dm:1,include_can_media_tag:1,skip_status:1,id:t})});if('Success'!==o){return b('Twitter用户操作请求失败',{result:o,statusText:n,status:c}),i.error(`${o}:${n}(${c})`),!1}if(200===u?.status){return b('Twitter用户操作成功',{name:e,doTask:s}),i.success(),s&&!a&&(this.tasks.users=B([...this.tasks.users,e])),!0}if(a&&403===u?.status){if(158===u.response?.errors?.[0]?.code){return b('Twitter授权验证成功（已关注）'),i.success(),!0}if(353===u.response?.errors?.[0]?.code&&!r&&u.responseHeaders?.['set-cookie']){const t=u.responseHeaders['set-cookie']?.find((t=>t.includes('ct0=')))?.split(';')?.at(0)?.split('=')?.at(-1);if(t){return b('获取到新的Twitter授权Token，重试操作'),this.#t.ct0=t,GM_setValue('twitterAuth',this.#t),i.warning(f('retry')),this.#b({name:e,doTask:s,verify:a,retry:!0})}}}return b('Twitter用户操作失败',{status:u?.status,statusText:u?.statusText}),i.error(`Error:${u?.statusText}(${u?.status})`),!1}catch(t){return b('处理Twitter用户任务时发生错误',{error:t}),S(t,'Twitter.toggleUser'),!1}}async userName2id(t){try{b('开始获取Twitter用户ID',{name:t});const e=E({type:'gettingTwitterUserId',text:t,before:'[Twitter]'}),s=this.#e[t];if(s){return b('从缓存获取到Twitter用户ID',{name:t,id:s}),e.success(),s}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://x.com/i/api/graphql/jUKA--0QkqGIFhmfRZdWrQ/UserByScreenName?variables=%7B%22screen_name%22%3A%22${t}%22%7D&features=%7B%22responsive_web_grok_bio_auto_translation_is_enabled%22%3Afalse%2C%22hidden_profile_subscriptions_enabled%22%3Atrue%2C%22payments_enabled%22%3Afalse%2C%22profile_label_improvements_pcf_label_in_post_enabled%22%3Atrue%2C%22rweb_tipjar_consumption_enabled%22%3Atrue%2C%22verified_phone_label_enabled%22%3Afalse%2C%22subscriptions_verification_info_is_identity_verified_enabled%22%3Atrue%2C%22subscriptions_verification_info_verified_since_enabled%22%3Atrue%2C%22highlights_tweets_tab_ui_enabled%22%3Atrue%2C%22responsive_web_twitter_article_notes_tab_enabled%22%3Atrue%2C%22subscriptions_feature_can_gift_premium%22%3Atrue%2C%22creator_subscriptions_tweet_preview_api_enabled%22%3Atrue%2C%22responsive_web_graphql_skip_user_profile_image_extensions_enabled%22%3Afalse%2C%22responsive_web_graphql_timeline_navigation_enabled%22%3Atrue%7D&fieldToggles=%7B%22withAuxiliaryUserLabels%22%3Atrue%7D`,method:'GET',headers:{...this.#T,'content-type':'application/json',referer:`https://x.com/${t}`,'x-client-transaction-id':await this.#k('GET',`/i/api/graphql/jUKA--0QkqGIFhmfRZdWrQ/UserByScreenName?variables=%7B%22screen_name%22%3A%22${t}%22%7D&features=%7B%22responsive_web_grok_bio_auto_translation_is_enabled%22%3Afalse%2C%22hidden_profile_subscriptions_enabled%22%3Atrue%2C%22payments_enabled%22%3Afalse%2C%22profile_label_improvements_pcf_label_in_post_enabled%22%3Atrue%2C%22rweb_tipjar_consumption_enabled%22%3Atrue%2C%22verified_phone_label_enabled%22%3Afalse%2C%22subscriptions_verification_info_is_identity_verified_enabled%22%3Atrue%2C%22subscriptions_verification_info_verified_since_enabled%22%3Atrue%2C%22highlights_tweets_tab_ui_enabled%22%3Atrue%2C%22responsive_web_twitter_article_notes_tab_enabled%22%3Atrue%2C%22subscriptions_feature_can_gift_premium%22%3Atrue%2C%22creator_subscriptions_tweet_preview_api_enabled%22%3Atrue%2C%22responsive_web_graphql_skip_user_profile_image_extensions_enabled%22%3Afalse%2C%22responsive_web_graphql_timeline_navigation_enabled%22%3Atrue%7D&fieldToggles=%7B%22withAuxiliaryUserLabels%22%3Atrue%7D`),'x-xp-forwarded-for':this.#y.str},responseType:'json'});if('Success'!==a){return b('获取Twitter用户ID请求失败',{result:a,statusText:r,status:i}),e.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('获取Twitter用户ID状态错误',{status:o?.status,statusText:o?.statusText}),e.error(`Error:${o?.statusText}(${o?.status})`),!1}let n=o.response||('object'==typeof o.responseText?o.responseText:null);if(!n){try{n=JSON.parse(o.responseText)}catch(t){n=null}}const c=n?.data?.user?.result?.rest_id;return c?(b('成功获取Twitter用户ID',{name:t,id:c}),this.#c(t,c),e.success(),c):(b('未找到Twitter用户ID',{name:t}),e.error(`Error:${o.statusText}(${o.status})`),!1)}catch(t){return b('获取Twitter用户ID时发生错误',{error:t}),S(t,'Twitter.getUserId'),!1}}async#v(t){let{retweetId:e,doTask:s=!0,retry:a=!1}=t;try{if(b('开始处理Twitter转推任务',{retweetId:e,doTask:s,retry:a}),!s&&this.whiteList.retweets.includes(e)){return b('Twitter转推在白名单中，跳过取消',{retweetId:e}),E({type:'whiteList',text:'Twitter.unretweet',id:e,before:'[Twitter]'}),!0}const t=E({type:(s?'':'un')+'retweetting',text:e,before:'[Twitter]'}),{result:r,statusText:i,status:o,data:n}=await I({url:'https://x.com/i/api/graphql/'+(s?'ojPdsZsimiJrUGLR1sjUtA/CreateRetweet':'iQtK4dl5hBmXewYZuEOKVw/DeleteRetweet'),method:'POST',headers:{...this.#T,'Content-Type':'application/json',origin:'https://x.com',referer:'https://x.com/home','x-client-transaction-id':await this.#k('POST','/i/api/graphql/'+(s?'ojPdsZsimiJrUGLR1sjUtA/CreateRetweet':'iQtK4dl5hBmXewYZuEOKVw/DeleteRetweet')),'x-xp-forwarded-for':this.#y.str},data:`{"variables":{"${s?'':'source_'}tweet_id":"${e}","dark_request":false},"queryId":"${s?'ojPdsZsimiJrUGLR1sjUtA':'iQtK4dl5hBmXewYZuEOKVw'}"}`,responseType:'json'});if('Success'!==r){return b('Twitter转推操作请求失败',{result:r,statusText:i,status:o}),t.error(`${r}:${i}(${o})`),!1}if(403===n?.status&&353===n.response?.errors?.[0]?.code&&!a&&n.responseHeaders?.['set-cookie']){const a=n.responseHeaders['set-cookie']?.find((t=>t.includes('ct0=')))?.split(';')?.at(0)?.split('=')?.at(-1);if(a){return b('获取到新的Twitter授权Token，重试操作'),this.#t.ct0=a,GM_setValue('twitterAuth',this.#t),t.warning(f('retry')),this.#v({retweetId:e,doTask:s,retry:!0})}}return 200===n?.status||403===n?.status&&327===n.response?.errors?.[0]?.code?n.response?.errors&&327!==n.response?.errors?.[0]?.code?(b('Twitter转推操作出错',{error:n.response?.errors?.[0]?.message}),t.error(`Error:${n.response?.errors?.[0]?.message}`),!1):(b('Twitter转推操作成功',{retweetId:e,doTask:s}),t.success(),s&&(this.tasks.retweets=B([...this.tasks.retweets,e])),!0):(b('Twitter转推操作状态错误',{status:n?.status,statusText:n?.statusText}),t.error(`Error:${n?.statusText}(${n?.status})`),!1)}catch(t){return b('处理Twitter转推任务时发生错误',{error:t}),S(t,'Twitter.toggleRetweet'),!1}}async toggle(t){let{doTask:e=!0,userLinks:s=[],retweetLinks:a=[]}=t;try{if(b('开始处理Twitter链接任务',{doTask:e,userLinksCount:s.length,retweetLinksCount:a.length}),!this.#a){return b('Twitter模块未初始化'),E({text:f('needInit'),before:'[Twitter]'}),!1}if(e&&!g.doTask.twitter.users||!e&&!g.undoTask.twitter.users){b('根据全局选项跳过Twitter用户任务',{doTask:e}),E({type:'globalOptionsSkip',text:'twitter.users',before:'[Twitter]'})}else{const t=this.getRealParams('users',s,e,(t=>t.match(/https:\/\/x\.com\/([^/]+)/)?.[1]||t.match(/https:\/\/twitter\.com\/([^/]+)/)?.[1]));if(b('处理后的Twitter用户列表',{count:t.length,users:t}),t.length>0){for(const s of t){Date.now()>this.#y.expiryTimeMillis&&(b('Twitter SDK过期，重新获取',{expiryTimeMillis:this.#y.expiryTimeMillis}),this.#y=await W()),await this.#b({name:s,doTask:e}),await P(1e3)}}}if(e&&!g.doTask.twitter.retweets||!e&&!g.undoTask.twitter.retweets){b('根据全局选项跳过Twitter转推任务',{doTask:e}),E({type:'globalOptionsSkip',text:'twitter.retweets',before:'[Twitter]'})}else{const t=this.getRealParams('retweets',a,e,(t=>t.match(/https:\/\/x\.com\/.*?\/status\/([\d]+)/)?.[1]||t.match(/https:\/\/twitter\.com\/.*?\/status\/([\d]+)/)?.[1]));if(b('处理后的Twitter转推列表',{count:t.length,retweets:t}),t.length>0){for(const s of t){Date.now()>this.#y.expiryTimeMillis&&(b('Twitter SDK过期，重新获取'),this.#y=await W()),await this.#v({retweetId:s,doTask:e}),await P(1e3)}}}return!0}catch(t){return b('处理Twitter链接任务时发生错误',{error:t}),S(t,'Twitter.toggle'),!1}}#c(t,e){try{b('设置Twitter用户ID缓存',{name:t,id:e}),this.#e[t]=e,GM_setValue('twitterCache',this.#e)}catch(t){b('设置Twitter用户ID缓存时发生错误',{error:t}),S(t,'Twitter.setCache')}}}class q extends R{tasks;whiteList;#x='';#e=(()=>GM_getValue('vkCache')||{})();#a=!1;constructor(){super();const t={names:[]};b('初始化Vk实例'),this.tasks=t,this.whiteList={...t,...GM_getValue('whiteList')?.vk||{}}}async init(){try{if(b('开始初始化Vk模块'),this.#a){return b('Vk模块已初始化'),!0}return await this.#i()?(b('Vk授权验证成功'),E({before:'[Vk]'}).success(f('initSuccess','Vk')),this.#a=!0,!0):(b('Vk初始化失败'),E({before:'[Vk]'}).error(f('initFailed','Vk')),!1)}catch(t){return b('Vk初始化发生错误',{error:t}),S(t,'Vk.init'),!1}}async#i(){try{b('开始验证Vk授权');const t=E({text:f('verifyAuth','Vk'),before:'[Vk]'}),{result:e,statusText:s,status:a,data:r}=await I({url:'https://vk.com/im',method:'GET'});return'Success'!==e?(b('Vk授权验证请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),!1):r?.finalUrl.includes('vk.com/login')?(b('Vk授权验证失败：需要登录'),t.error(`Error:${f('loginVk')}`,!0),!1):200!==r?.status?(b('Vk授权验证状态错误',{status:r?.status,statusText:r?.statusText}),t.error(`Error:${r?.statusText}(${r?.status})`),!1):(this.#x=r.responseText.match(/TopNavBtn__profileLink" href="\/(.*?)"/)?.[1]||'',b('Vk授权验证成功'),t.success(),!0)}catch(t){return b('Vk授权验证发生错误',{error:t}),S(t,'Vk.verifyAuth'),!1}}async#S(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{b('开始处理Vk群组任务',{name:t,doTask:s});const a=E({type:s?'joiningVkGroup':'leavingVkGroup',text:t,before:'[Vk]'});if('enter'===e.groupAct&&!s||'leave'===e.groupAct&&s){return b('Vk群组操作已完成，跳过',{name:t,doTask:s}),a.success(),!0}const r={act:s?'enter':'leave',al:1,gid:e.groupId,hash:e.groupHash};s&&(r.context='_');const{result:i,statusText:o,status:n,data:c}=await I({url:'https://vk.com/al_groups.php',method:'POST',headers:{origin:'https://vk.com',referer:`https://vk.com/${t}`,'content-type':'application/x-www-form-urlencoded'},data:$.param(r)});return'Success'!==i?(b('Vk群组操作请求失败',{result:i,statusText:o,status:n}),a.error(`${i}:${o}(${n})`),!1):200!==c?.status?(b('Vk群组操作状态错误',{status:c?.status,statusText:c?.statusText}),a.error(`Error:${c?.statusText}(${c?.status})`),!1):(b('Vk群组操作成功',{name:t,doTask:s}),a.success(),s&&(this.tasks.names=B([...this.tasks.names,t])),!0)}catch(t){return b('处理Vk群组任务时发生错误',{error:t}),S(t,'Vk.toggleGroup'),!1}}async#C(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{b('开始处理Vk公共页面任务',{name:t,doTask:s});const a=E({type:s?'joiningVkPublic':'leavingVkPublic',text:t,before:'[Vk]'});if(e.publicJoined&&s||!e.publicJoined&&!s){return b('Vk公共页面操作已完成，跳过',{name:t,doTask:s}),a.success(),!0}const{result:r,statusText:i,status:o,data:n}=await I({url:'https://vk.com/al_public.php',method:'POST',headers:{origin:'https://vk.com',referer:`https://vk.com/${t}`,'content-type':'application/x-www-form-urlencoded'},data:$.param({act:s?'a_enter':'a_leave',al:1,pid:e.publicPid,hash:e.publicHash})});return'Success'!==r?(b('Vk公共页面操作请求失败',{result:r,statusText:i,status:o}),a.error(`${r}:${i}(${o})`),!1):200!==n?.status?(b('Vk公共页面操作状态错误',{status:n?.status,statusText:n?.statusText}),a.error(`Error:${n?.statusText}(${n?.status})`),!1):(b('Vk公共页面操作成功',{name:t,doTask:s}),a.success(),s&&(this.tasks.names=B([...this.tasks.names,t])),!0)}catch(t){return b('处理Vk公共页面任务时发生错误',{error:t}),S(t,'Vk.togglePublic'),!1}}async#I(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{b('开始处理Vk点赞任务',{name:t,doTask:s});const a=E({type:s?'likingVkPublic':'unlikingVkPublic',text:t,before:'[Vk]'}),r={act:'a_set_reaction',al:1,event_subtype:'post_modal',from:'wall_page',hash:e.hash,object:e.object,track_code:e.trackCode,wall:2};s&&(r.reaction_id=0);const{result:i,statusText:o,status:n,data:c}=await I({url:'https://vk.com/like.php?act=a_set_reaction',method:'POST',headers:{origin:'https://vk.com',referer:`https://vk.com/${t}`,'content-type':'application/x-www-form-urlencoded'},data:$.param(r)});return'Success'!==i?(b('Vk点赞操作请求失败',{result:i,statusText:o,status:n}),a.error(`${i}:${o}(${n})`),!1):200!==c?.status?(b('Vk点赞操作状态错误',{status:c?.status,statusText:c?.statusText}),a.error(`Error:${c?.statusText}(${c?.status})`),!1):!0!==c.response?.payload?.[1]?.[1]?.like_my?(b('Vk点赞操作验证失败'),a.error(`Error:${c?.statusText}(${c?.status})`),!1):(b('Vk点赞操作成功',{name:t,doTask:s}),a.success(),!0)}catch(t){return b('处理Vk点赞任务时发生错误',{error:t}),S(t,'Vk.sendWall'),!1}}async#D(t){try{b('开始处理Vk转发任务',{name:t});const e=E({type:'sendingVkWall',text:t,before:'[Vk]'}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://vk.com/like.php',method:'POST',headers:{origin:'https://vk.com',referer:`https://vk.com/${t}`,'content-type':'application/x-www-form-urlencoded'},data:$.param({act:'publish_box',al:1,object:t})});if('Success'!==s){return b('Vk转发操作请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1}if(200!==i?.status){return b('Vk转发操作状态错误',{status:i?.status,statusText:i?.statusText}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}const o=i.responseText.match(/shHash:[\s]*'(.*?)'/)?.[1];if(!o){return b('获取Vk转发hash失败'),e.error('Error: Get "hash" failed'),!1}const{result:n,statusText:c,status:u,data:l}=await I({url:'https://vk.com/like.php',method:'POST',headers:{origin:'https://vk.com',referer:`https://vk.com/${t}`,'content-type':'application/x-www-form-urlencoded'},data:$.param({Message:'',act:'a_do_publish',al:1,close_comments:0,friends_only:0,from:'box',hash:o,list:'',mark_as_ads:0,mute_notifications:0,object:t,ret_data:1,to:0})});if('Success'!==n){return b('Vk转发确认请求失败',{result:n,statusText:c,status:u}),e.error(`${n}:${c}(${u})`),!1}if(200!==l?.status){return b('Vk转发确认状态错误',{status:l?.status,statusText:l?.statusText}),e.error(`Error:${l?.statusText}(${l?.status})`),!1}const d=JSON.parse(l.responseText?.replace('\x3c!--','')||'{}');if(!0!==d?.payload?.[1]?.[1]?.share_my){return b('Vk转发确认验证失败'),e.error(`Error:${l?.statusText}(${l?.status})`),!1}b('Vk转发操作成功',{name:t}),e.success();const h=d?.payload?.[1]?.[1]?.post_id,p=d?.payload?.[1]?.[1]?.owner_id;return h&&p&&this.#c(t,`${p}_${h}`),this.tasks.names=B([...this.tasks.names,t]),!0}catch(t){return b('处理Vk转发任务时发生错误',{error:t}),S(t,'Vk.sendWall'),!1}}async#G(t,e){try{b('开始处理Vk删除墙任务',{name:t});const s=E({type:'deletingVkWall',text:t,before:'[Vk]'}),{result:a,statusText:r,status:i,data:o}=await I({url:'https://vk.com/al_wall.php?act=delete',method:'POST',headers:{origin:'https://vk.com',referer:`https://vk.com/${this.#x}?w=wall${this.#e[t]}%2Fall`,'content-type':'application/x-www-form-urlencoded'},data:$.param({act:'delete',al:1,confirm:0,from:'wkview',hash:e.wallHash,post:this.#e[t]})});if('Success'!==a){return b('Vk删除墙请求失败',{result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('Vk删除墙状态错误',{status:o?.status,statusText:o?.statusText}),s.error(`Error:${o?.statusText}(${o?.status})`),!1}const n=JSON.parse(o.responseText?.replace('\x3c!--','')||'{}');return n?.payload?.[1]?.[1]?(b('Vk删除墙操作成功',{name:t}),s.success(),!0):(b('Vk删除墙验证失败'),s.error(`Error:${o?.statusText}(${o?.status})`),!1)}catch(t){return b('处理Vk删除墙任务时发生错误',{error:t}),S(t,'Vk.deleteWall'),!1}}async#L(t,e){try{b('开始获取Vk ID',{name:t,doTask:e});let s=`https://vk.com/${t}`;if(/^wall-/.test(t)){if(e){return{type:'sendWall'}}if(!this.#e[t]){return{type:'unSupport'}}s=`https://vk.com/${this.#x}?w=wall${this.#e[t]}`}const a=E({type:'gettingVkId',text:t,before:'[Vk]'}),{result:r,statusText:i,status:o,data:n}=await I({url:s,method:'GET'});if('Success'!==r){return b('获取Vk ID请求失败',{result:r,statusText:i,status:o}),a.error(`${r}:${i}(${o})`),!1}if(200!==n?.status){return b('获取Vk ID状态错误',{status:n?.status,statusText:n?.statusText}),a.error(`Error:${n?.statusText}(${n?.status})`),!1}const[,c,u,,l]=n.responseText.match(/Groups.(enter|leave)\(.*?,.*?([\d]+?), (&#39;|')(.*?)(&#39;|')/)||[],d=n.responseText.match(/"enterHash":"(.*?)"/)?.[1],h=n.responseText.match(/"public_id":([\d]+?),/)?.[1],p=!n.responseText.includes('Public.subscribe');if(c&&u&&l){return b('获取到Vk群组ID',{groupAct:c,groupId:u,groupHash:l}),a.success(),{groupAct:c,groupId:u,groupHash:l,type:'group'}}if(d&&h){return b('获取到Vk公共页面ID',{publicHash:d,publicPid:h,publicJoined:p}),a.success(),{publicHash:d,publicPid:h,publicJoined:p,type:'public'}}if(t.includes('action=like')){const e=n.responseText.match(/data-reaction-hash="(.*?)"/)?.[1],s=n.responseText.match(/data-post-track-code="(.*?)"/)?.[1],r=t.match(/wall-[\w_]+/)?.[0];if(e&&s&&r){return b('获取到Vk点赞ID',{hash:e,trackCode:s,object:r}),a.success(),{type:'likeWall',hash:e,trackCode:s,object:r}}}if(n.responseText.includes('wall.deletePost')&&!e){const t=n.responseText.match(/wall\.deletePost\(this, '.*?', '(.*?)'\)/)?.[1];if(t){return b('获取到Vk删除墙ID',{wallHash:t}),a.success(),{type:'deleteWall',wallHash:t}}}return t.includes('wall')&&e?(b('获取到Vk墙ID'),a.success(),{type:'sendWall'}):(b('未找到Vk ID参数'),a.error('Error: Parameters not found!'),!1)}catch(t){return b('获取Vk ID时发生错误',{error:t}),S(t,'Vk.getId'),!1}}async#E(t){let{name:e,doTask:s=!0}=t;try{if(b('开始处理Vk任务',{name:e,doTask:s}),!s&&this.whiteList.names.includes(e)){return b('Vk任务在白名单中，跳过',{name:e}),E({type:'whiteList',text:'Vk.undoTask',id:e,before:'[Vk]'}),!0}const t=e.replace(/\/$/,''),a=await this.#L(t,s);if(!a){return!1}switch(a.type){case'group':return await this.#S(t,a,s);case'public':return await this.#C(t,a,s);case'likeWall':return await this.#I(t,a,s);case'sendWall':return!s||await this.#D(t);case'deleteWall':return!!s||await this.#G(t,a);default:return b('未知的Vk任务类型',{type:a.type}),!1}}catch(t){return b('处理Vk任务时发生错误',{error:t}),S(t,'Vk.toggleVk'),!1}}async toggle(t){let{doTask:e=!0,nameLinks:s=[]}=t;try{if(b('开始处理Vk链接任务',{doTask:e,nameLinksCount:s.length}),!this.#a){return b('Vk模块未初始化'),E({text:f('needInit'),before:'[Vk]'}),!1}const t=[];if(e&&!g.doTask.vk.names||!e&&!g.undoTask.vk.names){b('根据全局选项跳过Vk任务',{doTask:e}),E({type:'globalOptionsSkip',text:'vk.names',before:'[Vk]'})}else{const a=this.getRealParams('names',s,e,(t=>t.match(/https:\/\/vk\.com\/([^/]+)/)?.[1]));if(b('处理后的Vk链接列表',{count:a.length,names:a}),a.length>0){for(const s of a){t.push(this.#E({name:s,doTask:e})),await P(1e3)}}}return Promise.all(t).then((()=>!0))}catch(t){return b('处理Vk链接任务时发生错误',{error:t}),S(t,'Vk.toggle'),!1}}#c(t,e){try{b('设置Vk缓存',{name:t,postId:e}),this.#e[t]=e,GM_setValue('vkCache',this.#e)}catch(t){b('设置Vk缓存时发生错误',{error:t}),S(t,'Vk.setCache')}}}const J=async function(t,e){try{b('开始获取YouTube信息',{link:t,type:e});const s=E({text:f('gettingYtbToken'),before:'[Youtube]'}),{result:a,statusText:r,status:i,data:o}=await I({url:t,method:'GET'});if('Success'!==a){return b('获取YouTube信息请求失败',{result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),{}}if(200!==o?.status){return b('获取YouTube信息状态错误',{status:o?.status,statusText:o?.statusText}),s.error(`Error:${o?.statusText}(${o?.status})`),{}}if(o.responseText.includes('accounts.google.com/ServiceLogin?service=youtube')){return b('获取YouTube信息失败：需要登录'),s.error(`Error:${f('loginYtb')}`,!0),{needLogin:!0}}const n=o.responseText.match(/"INNERTUBE_API_KEY":"(.*?)"/)?.[1],c=(o.responseText.match(/\(\{"INNERTUBE_CONTEXT":([\w\W]*?)\}\)/)||o.responseText.match(/"INNERTUBE_CONTEXT":([\w\W]*?\}),"INNERTUBE/))?.[1]||'{}',{client:u,request:l}=JSON.parse(c);if(!n||!u||!l){return b('获取YouTube信息失败：缺少必要参数'),s.error('Error: Parameter "apiKey" not found!'),{}}if(u.hl='en','channel'===e){const t=o.responseText.match(/"channelId":"(.+?)"/)?.[1];return t?(b('成功获取YouTube频道信息',{channelId:t}),s.success(),{params:{apiKey:n,client:u,request:l,channelId:t}}):(b('获取YouTube频道ID失败'),s.error('Error: Get "channelId" failed!'),{})}if('likeVideo'===e){const t=o.responseText.match(/<link rel="shortlinkUrl" href="https:\/\/youtu\.be\/(.*?)">/)?.[1],e=o.responseText.match(/"likeParams":"(.*?)"/)?.[1];return t?(b('成功获取YouTube视频信息',{videoId:t}),s.success(),{params:{apiKey:n,client:u,request:l,videoId:t,likeParams:e}}):(b('获取YouTube视频ID失败'),s.error('Error: Get "videoId" failed!'),{})}return b('未知的YouTube信息类型',{type:e}),s.error('Error: Unknown type'),{}}catch(t){return b('获取YouTube信息时发生错误',{error:t}),S(t,'Youtube.getInfo'),{}}};class X extends R{tasks;whiteList;#t=(()=>GM_getValue('youtubeAuth')||{})();#a=!1;#B=(()=>`https://www.youtube.com/channel/${g.other.youtubeVerifyChannel}`)();constructor(){super();const t={channels:[],likes:[]};b('初始化YouTube实例'),this.tasks=t,this.whiteList={...t,...GM_getValue('whiteList')?.youtube||{}}}async init(){try{if(b('开始初始化YouTube模块'),this.#a){return b('YouTube模块已初始化'),!0}if(!this.#t.PAPISID){return b('YouTube授权信息不完整，需要更新授权'),!!await this.#r()&&(this.#a=!0,!0)}return await this.#i()?(b('YouTube授权验证成功'),E({before:'[Youtube]'}).success(f('initSuccess','Youtube')),this.#a=!0,!0):(b('YouTube授权失效，尝试重新获取'),GM_setValue('youtubeAuth',null),await this.#r()?(b('YouTube重新授权成功'),E({before:'[Youtube]'}).success(f('initSuccess','Youtube')),this.#a=!0,!0):(b('YouTube初始化失败'),E({before:'[Youtube]'}).error(f('initFailed','Youtube')),!1))}catch(t){return b('YouTube初始化发生错误',{error:t}),S(t,'Youtube.init'),!1}}async#i(){try{return b('开始验证YouTube授权'),await this.#w({link:this.#B,doTask:!0,verify:!0})}catch(t){return b('YouTube授权验证发生错误',{error:t}),S(t,'Youtube.verifyAuth'),!1}}async#r(){try{b('开始更新YouTube授权');const t=E({text:f('updatingAuth','Youtube'),before:'[Youtube]'});return await new Promise((e=>{GM_cookie.list({url:'https://www.youtube.com/@YouTube'},(async(s,a)=>{if(a){b('获取YouTube授权失败',{error:a}),t.error('Error: Update youtube auth failed!'),e(!1)}else{const a=s.find((t=>'__Secure-3PAPISID'===t.name))?.value;a?(b('成功获取YouTube新授权信息'),GM_setValue('youtubeAuth',{PAPISID:a}),this.#t={PAPISID:a},t.success(),e(await this.#i())):(b('获取YouTube授权失败：未登录'),t.error(f('needLogin')),e(!1))}}))}))}catch(t){return b('更新YouTube授权时发生错误',{error:t}),S(t,'Youtube.updateAuth'),!1}}#P(t,e){return b('调用获取YouTube信息方法',{link:t,type:e}),J(t,e)}async#w(t){let{link:e,doTask:s=!0,verify:a=!1}=t;try{b('开始处理YouTube频道任务',{link:e,doTask:s,verify:a});const{params:t,needLogin:r}=await this.#P(e,'channel'),{apiKey:i,client:o,request:n,channelId:c}=t||{};if(r){return b('YouTube频道操作失败：需要登录'),E({html:f('loginYtb'),before:'[Youtube]'}),!1}if(!(i&&o&&n&&c)){return b('YouTube频道操作失败：获取参数失败'),E({text:'"getYtbToken" failed',before:'[Youtube]'}),!1}if(!s&&!a&&this.whiteList.channels.includes(c)){return b('YouTube频道在白名单中，跳过取消订阅',{channelId:c}),E({type:'whiteList',text:'Youtube.unfollowChannel',id:c,before:'[Youtube]'}),!0}const u=E(a?{text:f('verifyingAuth','Youtube'),before:'[Youtube]'}:{type:s?'followingYtbChannel':'unfollowingYtbChannel',text:c,before:'[Youtube]'}),l=parseInt(String((new Date).getTime()/1e3),10),{result:d,statusText:h,status:p,data:g}=await I({url:`https://www.youtube.com/youtubei/v1/subscription/${s?'':'un'}subscribe?key=${i}&prettyPrint=false`,method:'POST',headers:{origin:'https://www.youtube.com',referer:`https://www.youtube.com/channel/${c}`,'content-type':'application/json','x-goog-authuser':'0','x-goog-visitor-id':o?.visitorData,'x-origin':'https://www.youtube.com',authorization:`SAPISIDHASH ${l}_${sha1(`${l} ${this.#t.PAPISID} https://www.youtube.com`)}`},data:JSON.stringify({context:{client:o,request:{sessionId:n?.sessionId,internalExperimentFlags:[],consistencyTokenJars:[]},user:{}},channelIds:[c],params:s?'EgIIAhgA':'CgIIAhgA'})});if('Success'!==d){return b('YouTube频道操作请求失败',{result:d,statusText:h,status:p}),u.error(`${d}:${h}(${p})`),!1}if(200!==g?.status){return b('YouTube频道操作状态错误',{status:g?.status,statusText:g?.statusText}),u.error(`Error:${g?.statusText}(${g?.status})`),!1}const m=s&&(/"subscribed":true/.test(g.responseText)||g.responseText.includes('The subscription already exists')),w=!s&&/"subscribed":false/.test(g.responseText),A=a&&g.responseText.includes('You may not subscribe to yourself');return m||w||A?(b('YouTube频道操作成功',{doTask:s,verify:a}),u.success(),s&&!a&&(this.tasks.channels=B([...this.tasks.channels,e])),!0):(b('YouTube频道操作失败，需要更新授权'),u.error(f('tryUpdateYtbAuth'),!0),!1)}catch(t){return b('处理YouTube频道任务时发生错误',{error:t}),S(t,'Youtube.toggleChannel'),!1}}async#F(t){let{link:e,doTask:s=!0}=t;try{b('开始处理YouTube视频点赞任务',{link:e,doTask:s});const{params:t,needLogin:a}=await this.#P(e,'likeVideo'),{apiKey:r,client:i,request:o,videoId:n,likeParams:c}=t||{};if(a){return b('YouTube视频点赞失败：需要登录'),E({html:`${f('loginYtb')}`,before:'[Youtube]'}),!1}if(!(r&&i&&o&&n&&c)){return b('YouTube视频点赞失败：获取参数失败'),E({text:'"getYtbToken" failed',before:'[Youtube]'}),!1}if(!s&&this.whiteList.likes.includes(n)){return b('YouTube视频在白名单中，跳过取消点赞',{videoId:n}),E({type:'whiteList',text:'Youtube.unlikeVideo',id:n,before:'[Youtube]'}),!0}const u=E({type:s?'likingYtbVideo':'unlikingYtbVideo',text:n,before:'[Youtube]'}),l=parseInt(String((new Date).getTime()/1e3),10),d={context:{client:i,request:{sessionId:o.sessionId,internalExperimentFlags:[],consistencyTokenJars:[]},user:{}},target:{videoId:n}};if(s&&!c){return b('YouTube视频点赞失败：缺少likeParams参数'),u.error('Empty likeParams'),!1}s&&(d.params=c);const{result:h,statusText:p,status:g,data:m}=await I({url:`https://www.youtube.com/youtubei/v1/like/${s?'':'remove'}like?key=${r}`,method:'POST',headers:{origin:'https://www.youtube.com',referer:`https://www.youtube.com/watch?v=${n}`,'content-type':'application/json','x-goog-authuser':'0','x-goog-visitor-id':i.visitorData,'x-origin':'https://www.youtube.com',authorization:`SAPISIDHASH ${l}_${sha1(`${l} ${this.#t.PAPISID} https://www.youtube.com`)}`},data:JSON.stringify(d)});if('Success'!==h){return b('YouTube视频点赞请求失败',{result:h,statusText:p,status:g}),u.error(`${h}:${p}(${g})`),!1}if(200!==m?.status){return b('YouTube视频点赞状态错误',{status:m?.status,statusText:m?.statusText}),u.error(`Error:${m?.statusText}(${m?.status})`),!1}const w=s&&m.responseText.includes('Added to Liked videos'),A=!s&&(m.responseText.includes('Removed from Liked videos')||m.responseText.includes('Dislike removed'));return w||A?(b('YouTube视频点赞操作成功',{doTask:s}),u.success(),s&&(this.tasks.likes=B([...this.tasks.likes,e])),!0):(b('YouTube视频点赞失败，需要更新授权'),u.error(f('tryUpdateYtbAuth'),!0),!1)}catch(t){return b('处理YouTube视频点赞任务时发生错误',{error:t}),S(t,'Youtube.toggleLikeVideo'),!1}}async toggle(t){let{doTask:e=!0,channelLinks:s=[],videoLinks:a=[]}=t;try{if(b('开始处理YouTube链接任务',{doTask:e,channelLinksCount:s.length,videoLinksCount:a.length}),!this.#a){return b('YouTube模块未初始化'),E({text:f('needInit'),before:'[Youtube]'}),!1}const t=[],r=e&&g.doTask.youtube.channels||!e&&g.undoTask.youtube.channels,i=e&&g.doTask.youtube.likes||!e&&g.undoTask.youtube.likes;if(r){const a=this.getRealParams('channels',s,e,(t=>/^https:\/\/(www\.)?google\.com.*?\/url\?.*?url=https:\/\/www\.youtube\.com\/.*/.test(t)?t.match(/url=(https:\/\/www\.youtube\.com\/.*)/)?.[1]:t));if(b('处理后的YouTube频道链接列表',{count:a.length,channels:a}),a.length>0){for(const s of a){t.push(this.#w({link:s,doTask:e})),await P(1e3)}}}else{b('根据全局选项跳过YouTube频道任务',{doTask:e}),E({type:'globalOptionsSkip',text:'youtube.channels',before:'[Youtube]'})}if(i){const s=this.getRealParams('likes',a,e,(t=>/^https:\/\/(www\.)?google\.com.*?\/url\?.*?url=https:\/\/www\.youtube\.com\/.*/.test(t)?t.match(/url=(https:\/\/www\.youtube\.com\/.*)/)?.[1]:t));if(b('处理后的YouTube视频链接列表',{count:s.length,videos:s}),s.length>0){for(const a of s){t.push(this.#F({link:a,doTask:e})),await P(1e3)}}}else{b('根据全局选项跳过YouTube视频任务',{doTask:e}),E({type:'globalOptionsSkip',text:'youtube.likes',before:'[Youtube]'})}return Promise.all(t).then((()=>!0))}catch(t){return b('处理YouTube链接任务时发生错误',{error:t}),S(t,'Youtube.toggle'),!1}}}class Z{#M;#O='asf';#R;#U;#Y;constructor(t){let{AsfIpcUrl:e,AsfIpcPassword:s,AsfBotname:a,steamWebApiKey:r}=t;b('初始化SteamASF实例',{AsfIpcUrl:e,AsfBotname:a});const i=new URL('/Api/Command/',e);this.#M={url:i.href,method:'POST',responseType:'json',headers:{accept:'application/json','Content-Type':'application/json',Host:i.host,Origin:i.origin,Referer:i.href,Authentication:s}},a&&(this.#O=a),r&&(this.#U=r),b('SteamASF实例初始化完成',{botName:this.#O})}async init(){try{b('开始初始化ASF');const t=E({text:f('initingASF'),before:'[ASF]'}),{result:e,statusText:s,status:a,data:r}=await I({...this.#M,data:'{"Command":"!stats"}'});return'Success'!==e?(b('ASF初始化请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),!1):!0===r?.response?.Success&&'OK'===r.response.Message&&r.response.Result?(b('ASF初始化成功'),t.success(),!0):r?.response?.Result||r?.response?.Message?(b('ASF初始化失败',{result:r?.response?.Result,message:r?.response?.Message}),t.error(r?.response?.Result||r.response.Message),!1):(b('ASF初始化失败',{statusText:r?.statusText,status:r?.status}),t.error(`Error:${r?.statusText}(${r?.status})`),!1)}catch(t){return b('ASF初始化发生错误',{error:t}),S(t,'SteamASF.init'),!1}}async joinGroup(t){try{b('开始加入Steam组',{groupName:t});const e=E({type:'joiningSteamGroup',text:t,before:'[ASF]'}),{result:s,statusText:a,status:r,data:i}=await I({...this.#M,data:JSON.stringify({Command:`!JOINGROUP ${this.#O} ${t}`})});return'Success'!==s?(b('加入Steam组请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):200===i?.status&&['已加入','已申请','Joined','Applied','Присоединился','costs'].find((t=>i.response?.Result?.includes(t)))?(b('成功加入Steam组',{groupName:t}),e.success(),!0):(b('加入Steam组失败',{result:i?.response?.Result,message:i?.response?.Message}),e.error(`Error:${i?.response?.Result||i?.response?.Message||i?.statusText}(${i?.status})`),!1)}catch(e){return b('加入Steam组时发生错误',{error:e,groupName:t}),S(e,'SteamASF.joinGroup'),!1}}joinOfficialGroup=this.joinGroup;leaveOfficialGroup=this.leaveGroup;async leaveGroup(t){try{if(b('开始退出Steam组',{groupName:t}),!this.#R&&(b('未找到组信息，尝试获取组ID'),!await this.#V())){return!1}const e=await this.#R[t];if(!e){return b('未找到组ID',{groupName:t}),!1}const s=E({type:'leavingSteamGroup',text:t,before:'[ASF]'}),{result:a,statusText:r,status:i,data:o}=await I({...this.#M,data:JSON.stringify({Command:`!LEAVEGROUP ${this.#O} ${e}`})});return'Success'!==a?(b('退出Steam组请求失败',{result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),!1):200===o?.status&&['成功','Success','Успех'].find((t=>o.response?.Result?.includes(t)))?(b('成功退出Steam组',{groupName:t}),s.success(),!0):(b('退出Steam组失败',{result:o?.response?.Result,message:o?.response?.Message}),s.error(`Error:${o?.response?.Result||o?.response?.Message||o?.statusText}(${o?.status})`),!1)}catch(e){return b('退出Steam组时发生错误',{error:e,groupName:t}),S(e,'SteamASF.leaveGroup'),!1}}async#V(){try{b('开始获取Steam组ID列表');const t=E({type:'gettingSteamGroupId',text:'All',before:'[ASF]'}),{result:e,statusText:s,status:a,data:r}=await I({...this.#M,data:JSON.stringify({Command:`!GROUPLIST ${this.#O}`})});return'Success'!==e?(b('获取Steam组ID列表请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),!1):200===r?.status&&r.response?.Result?.includes('|')?(this.#R=Object.fromEntries(r.response.Result.split('\n').map((t=>{const[,e,s]=t.trim().split('|');return e&&s?[e,s]:null})).filter((t=>t))),b('成功获取Steam组ID列表',{groupCount:Object.keys(this.#R).length}),t.success(),!0):(b('获取Steam组ID列表失败',{result:r?.response?.Result,message:r?.response?.Message}),t.error(`Error:${r?.response?.Result||r?.response?.Message||r?.statusText}(${r?.status})`),!1)}catch(t){return b('获取Steam组ID列表时发生错误',{error:t}),S(t,'SteamASF.getGroupID'),!1}}async addToWishlist(t){try{b('开始添加游戏到愿望单',{gameId:t});const e=E({type:'addingToWishlist',text:t,before:'[ASF]'});if(!0===(await this.#Q(t)).wishlist){return b('游戏已在愿望单中',{gameId:t}),e.success(),!0}const{result:s,statusText:a,status:r,data:i}=await I({...this.#M,data:JSON.stringify({Command:`!ADDWISHLIST ${this.#O} ${t}`})});return'Success'!==s?(b('添加游戏到愿望单请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):200===i?.status&&['成功','Success','Успех'].find((t=>i.response?.Result?.includes(t)))?(b('成功添加游戏到愿望单',{gameId:t}),e.success(),!0):(b('添加游戏到愿望单失败',{result:i?.response?.Result,message:i?.response?.Message}),e.error(`Error:${i?.response?.Result||i?.response?.Message||i?.statusText}(${i?.status})`),!1)}catch(e){return b('添加游戏到愿望单时发生错误',{error:e,gameId:t}),S(e,'SteamASF.addToWishlist'),!1}}async removeFromWishlist(t){try{b('开始从愿望单移除游戏',{gameId:t});const e=E({type:'removingFromWishlist',text:t,before:'[ASF]'});if(!1===(await this.#Q(t)).wishlist){return b('游戏已不在愿望单中',{gameId:t}),e.success(),!0}const{result:s,statusText:a,status:r,data:i}=await I({...this.#M,data:JSON.stringify({Command:`!REMOVEWISHLIST ${this.#O} ${t}`})});return'Success'!==s?(b('从愿望单移除游戏请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):200===i?.status&&['成功','Success','Успех'].find((t=>i.response?.Result?.includes(t)))?(b('成功从愿望单移除游戏',{gameId:t}),e.success(),!0):(b('从愿望单移除游戏失败',{result:i?.response?.Result,message:i?.response?.Message}),e.error(`Error:${i?.response?.Result||i?.response?.Message||i?.statusText}(${i?.status})`),!1)}catch(e){return b('从愿望单移除游戏时发生错误',{error:e,gameId:t}),S(e,'SteamASF.removeFromWishlist'),!1}}async toggleFollowGame(t,e){try{b('开始处理游戏关注状态',{gameId:t,doTask:e});const s=E({type:(e?'':'un')+'followingGame',text:t,before:'[ASF]'}),a=await this.#Q(t);if(e&&!0===a.followed||!e&&!1===a.followed){return b('游戏关注状态已符合要求',{gameId:t,doTask:e,currentStatus:a.followed}),s.success(),!0}const{result:r,statusText:i,status:o,data:n}=await I({...this.#M,data:JSON.stringify({Command:`!${e?'':'UN'}FOLLOWGAME ${this.#O} ${t}`})});return'Success'!==r?(b('处理游戏关注状态请求失败',{result:r,statusText:i,status:o}),s.error(`${r}:${i}(${o})`),!1):200===n?.status&&['成功','Success','Успех'].find((t=>n.response?.Result?.includes(t)))?(b('成功处理游戏关注状态',{gameId:t,doTask:e}),s.success(),!0):(b('处理游戏关注状态失败',{result:n?.response?.Result,message:n?.response?.Message}),s.error(`Error:${n?.response?.Result||n?.response?.Message||n?.statusText}(${n?.status})`),!1)}catch(s){return b('处理游戏关注状态时发生错误',{error:s,gameId:t,doTask:e}),S(s,'SteamASF.toggleFollowGame'),!1}}async#Q(t){try{b('开始检查游戏状态',{gameId:t});const{result:e,data:s}=await I({...this.#M,data:JSON.stringify({Command:`!CHECK ${this.#O} ${t}`})});if('Success'!==e){return b('检查游戏状态请求失败',{result:e}),{}}if(200!==s?.status||!s.response?.Result?.includes(t)){return b('检查游戏状态响应无效',{status:s?.status}),{}}const a=s.response.Result.split('\n').find((e=>e.includes(t)))?.split('|');if(!a||a.length<=3){return b('未找到游戏状态信息',{gameId:t}),{}}const r={wishlist:'√'===a.at(-3).trim()||'√'===a.at(-2).trim(),followed:'√'===a.at(-1).trim()};return b('成功获取游戏状态',{gameId:t,status:r}),r}catch(e){return b('检查游戏状态时发生错误',{error:e,gameId:t}),S(e,'SteamASF.checkGame'),{}}}async toggleCurator(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{b('开始处理鉴赏家关注状态',{curatorId:t,doTask:e});const s=E({type:e?'followingCurator':'unfollowingCurator',text:t,before:'[ASF]'}),{result:a,statusText:r,status:i,data:o}=await I({...this.#M,data:JSON.stringify({Command:`!${e?'':'UN'}FOLLOWCURATOR ${this.#O} ${t}`})});return'Success'!==a?(b('处理鉴赏家关注状态请求失败',{result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),!1):200===o?.status&&['成功','Success','Успех'].find((t=>o.response?.Result?.includes(t)))?(b('成功处理鉴赏家关注状态',{curatorId:t,doTask:e}),s.success(),!0):200===o?.status?(b('处理鉴赏家关注状态失败',{result:o?.response?.Result,message:o?.response?.Message}),s.error(f('curatorLimitNotice')),!1):(b('处理鉴赏家关注状态失败',{result:o?.response?.Result,message:o?.response?.Message}),s.error(`Error:${o?.response?.Result||o?.response?.Message||o?.statusText}(${o?.status})`),!1)}catch(s){return b('处理鉴赏家关注状态时发生错误',{error:s,curatorId:t,doTask:e}),S(s,'Steam.toggleCurator'),!1}}async addLicense(t){try{b('开始添加许可证',{id:t});const[e,s]=t.split('-'),a=s.split(',');if('appid'===e){const t=E({type:'addingFreeLicense',text:s,before:'[ASF]'}),{result:e,statusText:r,status:i,data:o}=await I({...this.#M,data:JSON.stringify({Command:`!addlicense ${this.#O} ${a.map((t=>`app/${t}`)).join(',')}`})});return'Success'!==e?(b('添加应用许可证请求失败',{result:e,statusText:r,status:i}),t.error(`${e}:${r}(${i})`),!1):200===o?.status&&['AlreadyPurchased','OK'].find((t=>o.response?.Result?.includes(t)))?(b('成功添加应用许可证',{ids:s}),t.success(),!0):(b('添加应用许可证失败',{result:o?.response?.Result,message:o?.response?.Message}),t.error(`Error:${o?.response?.Result||o?.response?.Message||o?.statusText}(${o?.status})`),!1)}if('subid'===e){const t=E({type:'addingFreeLicenseSubid',text:s,before:'[ASF]'}),{result:e,statusText:r,status:i,data:o}=await I({...this.#M,data:JSON.stringify({Command:`!addlicense ${this.#O} ${a.map((t=>`sub/${t}`)).join(',')}`})});if('Success'!==e){return b('添加订阅许可证请求失败',{result:e,statusText:r,status:i}),t.error(`${e}:${r}(${i})`),!1}if(200===o?.status&&o.response?.Result){const t=o.response.Result.split('\n');return b('处理订阅许可证结果',{resultLines:t}),a.forEach((e=>{const s=t.find((t=>t.includes(e)));s&&['成功','Success','Успех'].find((t=>s.includes(t)))?(b('成功添加订阅许可证',{subid:e}),E({before:'[ASF]'}).success(s)):(b('添加订阅许可证失败',{subid:e,targetLine:s}),E({before:'[ASF]'}).error(s))})),!0}return b('添加订阅许可证失败',{result:o?.response?.Result,message:o?.response?.Message}),t.error(`Error:${o?.response?.Result||o?.response?.Message||o?.statusText}(${o?.status})`),!1}return b('无效的许可证类型',{type:e}),!1}catch(e){return b('添加许可证时发生错误',{error:e,id:t}),S(e,'SteamASF.addLicense'),!1}}async requestPlayTestAccess(t){try{b('开始请求游戏试玩权限',{id:t});const e=E({type:'requestingPlayTestAccess',text:t,before:'[ASF]'}),{result:s,statusText:a,status:r,data:i}=await I({...this.#M,data:JSON.stringify({Command:`!REQUESTACCESS ${this.#O} ${t}`})});return'Success'!==s?(b('请求游戏试玩权限请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):200===i?.status&&['成功','Success','Успех'].find((t=>i.response?.Result?.includes(t)))?(b('成功请求游戏试玩权限',{id:t}),e.success(),!0):(b('请求游戏试玩权限失败',{result:i?.response?.Result,message:i?.response?.Message}),e.error(`Error:${i?.response?.Result||i?.response?.Message||i?.statusText}(${i?.status})`),!1)}catch(e){return b('请求游戏试玩权限时发生错误',{error:e,id:t}),S(e,'SteamASF.requestPlayTestAccess'),!1}}async playGames(t){try{b('开始挂游戏时长',{ids:t});const e=E({text:f('playingGames',t),before:'[ASF]'}),{result:s,statusText:a,status:r,data:i}=await I({...this.#M,data:JSON.stringify({Command:`!play ${this.#O} ${t}`})});return'Success'!==s?(b('挂游戏时长请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):200===i?.status&&['正在运行','正在掛','Playing','Играет'].find((t=>i.response?.Result?.includes(t)))?(b('成功开始挂游戏时长',{ids:t}),e.success(),!0):(b('开始挂游戏时长失败',{result:i?.response?.Result,message:i?.response?.Message}),e.error(`Error:${i?.response?.Result||i?.response?.Message||i?.statusText}(${i?.status})`),!1)}catch(e){return b('挂游戏时长时发生错误',{error:e,ids:t}),S(e,'SteamASF.playGames'),!1}}async getSteamIdASF(){try{b('开始获取Steam ID');const t=E({text:f('gettingSteamId'),before:'[ASF]'}),{result:e,statusText:s,status:a,data:r}=await I({...this.#M,data:JSON.stringify({Command:`!steamid ${this.#O}`})});if('Success'!==e||200!==r?.status){return b('获取Steam ID请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),''}if(r.response?.Result){const e=r.response.Result.trim()?.split(/\s+/)?.at(-1);if(e){return b('成功获取Steam ID',e),t.success(),e}}return b('获取Steam ID失败',{result:r?.response?.Result,message:r?.response?.Message}),t.error(`Error:${r?.response?.Result||r?.response?.Message||r?.statusText}(${r?.status})`),''}catch(t){return b('获取Steam ID时发生错误',{error:t}),S(t,'SteamASF.getSteamIdASF'),''}}async getSteamIdWeb(){try{b('开始获取Steam ID');const t=E({text:f('gettingSteamId'),before:'[Web]'}),{result:e,statusText:s,status:a,data:r}=await I({url:'https://store.steampowered.com',method:'GET',headers:{host:'store.steampowered.com'}});if('Success'!==e||200!==r?.status){return b('获取Steam ID请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),''}const i=r.responseText.match(/steamid&quot;:&quot;(\d+)/)?.[1];return i?(b('成功获取Steam ID',i),t.success(),i):(b('获取Steam ID失败',{data:r}),t.error(`${e}:${s}(${a})`),'')}catch(t){return b('获取Steam ID时发生错误',{error:t}),S(t,'SteamASF.getSteamIdWeb'),''}}async getSteamId(){const t=await this.getSteamIdWeb();return t||this.getSteamIdASF()}async checkPlayStatus(t){try{if(b('开始检查挂游戏时长状态'),!this.#U){return b('未设置Steam Web API Key'),'skip'}if(!this.#Y){const t=await this.getSteamId();if(!t){return b('未获取到Steam ID'),'skip'}this.#Y=t}const e=E({text:f('checkingPlayStatus'),before:'[Web]'}),{result:s,statusText:a,status:r,data:i}=await I({url:`https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=${this.#U}&steamids=${this.#Y}`,method:'GET',headers:{'Content-Type':'application/json'}});if('Success'!==s){return b('检查挂游戏时长状态请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1}if(200===i?.status){b('挂游戏时长状态正常',{data:i});const s=new Set(i.responseText?.match(/\d+/g));return new Set(t.match(/\d+/g)).intersection(s).size>0?(e.success(),!0):(e.warning(f('noPlayStatus')),!1)}return b('挂游戏时长状态异常',{data:i}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}catch(t){return b('检查挂游戏时长状态时发生错误',{error:t}),S(t,'SteamASF.checkPlayStatus'),!1}}async stopPlayGames(){try{b('开始停止挂游戏时长');const t=E({text:f('stoppingPlayGames'),before:'[ASF]'}),{result:e,statusText:s,status:a,data:r}=await I({...this.#M,data:JSON.stringify({Command:`!resume ${this.#O}`})});return'Success'!==e?(b('停止挂游戏时长请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),!1):200===r?.status&&['已经恢复','已恢复','已經繼續','已繼續','resumed','возобновлён'].find((t=>r.response?.Result?.includes(t)))?(b('成功停止挂游戏时长'),t.success(),!0):(b('停止挂游戏时长失败',{result:r?.response?.Result,message:r?.response?.Message}),t.error(`Error:${r?.response?.Result||r?.response?.Message||r?.statusText}(${r?.status})`),!1)}catch(t){return b('停止挂游戏时长时发生错误',{error:t}),S(t,'SteamASF.stopPlayGames'),!1}}async#j(t){try{return b('尝试使用不支持的功能',{name:t}),E({before:'[ASF]'}).warning(f('ASFNotSupportted',t)),!1}catch(e){return b('处理不支持的功能时发生错误',{error:e,name:t}),S(e,'SteamASF.unsupportted'),!1}}async toggleForum(){return this.#j('toggleForum')}async toggleFavoriteWorkshop(){return this.#j('toggleFavoriteWorkshop')}async voteUpWorkshop(){return this.#j('voteUpWorkshop')}async likeAnnouncement(){return this.#j('likeAnnouncement')}}class _{#e={group:{},officialGroup:{},forum:{},workshop:{},curator:{},...GM_getValue('steamCache')};#t={};#H=!1;#N=!1;#K='CN';#W;#z='end';constructor(){b('初始化SteamWeb实例')}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'all';try{b('开始初始化SteamWeb',{type:t});const e=await this.initStore();if(b('Steam商店初始化完成',{initStoreResult:e}),'store'===t){return e}const s=await this.initCommunity(e);return b('Steam社区初始化完成',{initCommunityResult:s}),s}catch(e){return b('SteamWeb初始化发生错误',{error:e,type:t}),S(e,'SteamWeb.init'),!1}}async initStore(){try{if(b('开始初始化Steam商店'),this.#H){return!0}let t=await this.#q();return t||(t=await this.#J()),this.#H=t,this.#H?(E({before:'[Web]'}).success(f('initSuccess','SteamStore')),b('Steam商店初始化完成'),!0):(E({before:'[Web]'}).error(f('initFailed','Steam')),!1)}catch(t){return b('Steam商店初始化发生错误',{error:t}),S(t,'SteamWeb.initStore'),!1}}async initCommunity(t){try{if(b('开始初始化Steam社区'),this.#N){return!0}let e=await this.#X(t);return e||(e=await this.#$(),GM_setValue('steamCommunityAuth',null)),this.#N=e,this.#N?(E({before:'[Web]'}).success(f('initSuccess','SteamCommunity')),b('Steam社区初始化完成'),!0):(E({before:'[Web]'}).error(f('initFailed','Steam')),!1)}catch(t){return b('Steam社区初始化发生错误',{error:t}),S(t,'SteamWeb.initCommunity'),!1}}async#Z(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'steamStore';try{b('开始刷新令牌',{type:t});const e={steamStore:'store.steampowered.com',steamCommunity:'steamcommunity.com'},s=E({text:f('refreshingToken',f(t)),before:'[Web]'});b('准备刷新令牌请求数据');const a=new FormData;a.append('redir',`https://${e[t]}/`),b('发送刷新令牌请求');const{result:r,statusText:i,status:o,data:n}=await I({url:'https://login.steampowered.com/jwt/ajaxrefresh',method:'POST',responseType:'json',headers:{Host:'login.steampowered.com',Origin:`https://${e[t]}`,Referer:`https://${e[t]}/`},data:a});return b('收到刷新令牌响应',{result:r,status:o,statusText:i}),'Success'!==r?(b('请求失败',{result:r,statusText:i,status:o}),s.error(`${r}:${i}(${o})`),!1):n?.response?.success?(b('开始设置新令牌'),await this.#_(n.response,t)?(b('成功刷新令牌'),s.success(),!0):(b('设置新令牌失败'),s.error('Error'),!1)):(b('响应不成功',{status:n?.status,statusText:n?.statusText}),s.error(`Error:${n?.statusText}(${n?.status})`),!1)}catch(t){return b('刷新令牌时发生错误',{error:t}),S(t,'SteamWeb.refreshToken'),!1}}async#_(t,e){try{const s={steamStore:'store.steampowered.com',steamCommunity:'steamcommunity.com'};b('开始设置Steam令牌',{type:e});const a=E({text:f('settingToken',f(e)),before:'[Web]'});b('准备表单数据');const r=new FormData;r.append('steamID',t.steamID),r.append('nonce',t.nonce),r.append('redir',t.redir),r.append('auth',t.auth),b('表单数据准备完成',{steamID:t.steamID,nonce:t.nonce,redir:t.redir}),b('发送设置令牌请求');const{result:i,statusText:o,status:n,data:c}=await I({url:`https://${s[e]}/login/settoken`,method:'POST',headers:{Accept:'application/json, text/plain, */*',Host:s[e],Origin:`https://${s[e]}`},data:r});return b('收到设置令牌响应',{result:i,status:n,statusText:o}),'Success'!==i?(b('请求失败',{result:i,statusText:o,status:n}),a.error(`${i}:${o}(${n})`),!1):200!==c?.status?(b('响应状态错误',{status:c?.status,statusText:c?.statusText}),a.error(`Error:${c?.statusText}(${c?.status})`),!1):(b('成功设置令牌'),a.success(),!0)}catch(t){return b('设置令牌时发生错误',{error:t,type:e}),S(t,'SteamWeb.setToken'),!1}}async#q(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{b('开始更新Steam商店身份验证');const e=E({text:f('updatingAuth',f('steamStore')),before:'[Web]'}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://store.steampowered.com/',method:'GET',headers:{Accept:'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9','Sec-Fetch-Dest':'document','Sec-Fetch-Mode':'navigate','Upgrade-Insecure-Requests':'1'},redirect:'manual'});if(b('收到Steam商店身份验证响应',{result:s,statusText:a,status:r}),200!==i?.status){return[301,302].includes(i?.status)?await this.#Z('steamStore')?t?(b('Steam商店身份验证重试失败'),e.error(`Error:${f('needLoginSteamStore')}`,!0),!1):(b('Steam商店身份验证重试中'),e.warning(f('retry')),this.#q(!0)):(b('Steam商店身份验证刷新失败'),e.error(`Error:${f('needLoginSteamStore')}`,!0),!1):(b('Steam商店身份验证状态错误',{status:i?.status}),e.error(`${s}:${a}(${r})`),!1)}if(!i.responseText.includes('data-miniprofile=')){return await this.#Z('steamStore')?(b('Steam商店身份验证需要重试'),e.warning(f('retry')),t?(b('Steam商店身份验证重试次数超限'),e.error(`Error:${f('needLoginSteamStore')}`,!0),!1):this.#q(!0)):(b('Steam商店身份验证失败：需要登录'),e.error(`Error:${f('needLoginSteamStore')}`,!0),!1)}const o=i.responseText.match(/g_sessionID = "(.+?)";/)?.[1];return o?(this.#t.storeSessionID=o,b('Steam商店身份验证更新成功',{storeSessionID:o}),e.success(),!0):(b('Steam商店身份验证失败：获取sessionID失败'),e.error('Error: Get "sessionID" failed'),!1)}catch(t){return b('更新Steam商店身份验证时发生错误',{error:t}),S(t,'SteamWeb.updateStoreAuth'),!1}}async#J(){try{b('开始通过新标签页更新Steam商店身份验证');const t=E({text:f('updatingAuth',f('steamStoreTab')),before:'[Web]'});return await new Promise((e=>{GM_deleteValue('steamStoreAuth'),GM_setValue('ATv4_updateStoreAuth',!0);const s=GM_openInTab('https://store.steampowered.com/',{active:!0,setParent:!0});b('打开Steam商店新标签页'),s.name='ATv4_updateStoreAuth';const a=GM_addValueChangeListener('steamStoreAuth',((r,i,o)=>{if(b('监听到Steam商店身份验证值变化',{oldValue:i,newValue:o}),GM_removeValueChangeListener(a),GM_deleteValue('ATv4_updateStoreAuth'),s?.close(),window.focus(),o&&JSON.stringify(o)!==JSON.stringify(i)){return this.#t.storeSessionID=o.storeSessionID,b('Steam商店身份验证更新成功',{storeSessionID:o.storeSessionID}),t.success(),void e(!0)}b('Steam商店身份验证更新失败'),t.error('Failed'),e(!1)}));s.onclose=()=>{b('Steam商店新标签页已关闭'),GM_deleteValue('ATv4_updateStoreAuth')}}))}catch(t){return b('通过新标签页更新Steam商店身份验证时发生错误',{error:t}),S(t,'SteamWeb.updateStoreAuthTab'),!1}}async#$(){try{b('开始通过新标签页更新Steam社区身份验证');const t=E({text:f('updatingAuth',f('steamCommunityTab')),before:'[Web]'});return await new Promise((e=>{GM_deleteValue('steamCommunityAuth'),GM_setValue('ATv4_updateCommunityAuth',!0);const s=GM_openInTab('https://steamcommunity.com/my',{active:!0,setParent:!0});b('打开Steam社区新标签页'),s.name='ATv4_updateCommunityAuth';const a=GM_addValueChangeListener('steamCommunityAuth',((r,i,o)=>{if(b('监听到Steam社区身份验证值变化',{oldValue:i,newValue:o}),GM_removeValueChangeListener(a),GM_deleteValue('ATv4_updateCommunityAuth'),s?.close(),window.focus(),o&&JSON.stringify(o)!==JSON.stringify(i)){return this.#t.steam64Id=o.steam64Id,this.#t.communitySessionID=o.communitySessionID,b('Steam社区身份验证更新成功',{steam64Id:o.steam64Id,communitySessionID:o.communitySessionID}),t.success(),void e(!0)}b('Steam社区身份验证更新失败'),t.error('Failed'),e(!1)}));s.onclose=()=>{b('Steam社区新标签页已关闭'),GM_deleteValue('ATv4_updateCommunityAuth')}}))}catch(t){return b('通过新标签页更新Steam社区身份验证时发生错误',{error:t}),S(t,'SteamWeb.updateCommunityAuthTab'),!1}}async#X(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{b('开始更新Steam社区身份验证');const s=E({text:f('gettingUserInfo'),before:'[Web]'}),{result:a,statusText:r,status:i,data:o}=await I({url:'https://steamcommunity.com/my',method:'GET',headers:{Accept:'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7',Host:'steamcommunity.com','Sec-Fetch-Dest':'document','Sec-Fetch-Mode':'navigate'},redirect:'follow'});if(b('收到Steam社区身份验证响应',{result:a,statusText:r,status:i}),200!==o?.status){return b('Steam社区身份验证状态错误',{status:o?.status}),s.error(`${a}:${r}(${i})`),!1}if(o.finalUrl.includes('https://steamcommunity.com/login/home')){return t&&await this.#Z('steamCommunity')?(b('Steam社区身份验证需要重试'),s.warning(f('retry')),e?(b('Steam社区身份验证重试次数超限'),s.error(`Error:${f('needLoginSteamCommunity')}`,!0),!1):this.#X(t,e)):(b('Steam社区身份验证失败：需要登录'),s.error(`Error:${f('needLoginSteamCommunity')}`,!0),!1)}const n=o.responseText.match(/g_steamID = "(.+?)";/)?.[1],c=o.responseText.match(/g_sessionID = "(.+?)";/)?.[1];return n&&c?(this.#t.steam64Id=n,this.#t.communitySessionID=c,b('Steam社区身份验证更新成功',{steam64Id:n,communitySessionID:c}),s.success(),!0):(b('Steam社区身份验证失败：获取身份信息失败'),s.error('Error: Get "sessionID" failed'),!1)}catch(t){return b('更新Steam社区身份验证时发生错误',{error:t}),S(t,'SteamWeb.updateCommunityAuth'),!1}}async#tt(){try{b('开始获取Steam地区信息');const t=E({text:f('gettingAreaInfo'),before:'[Web]'}),{result:e,statusText:s,status:a,data:r}=await I({url:'https://store.steampowered.com/cart/',method:'GET'});if(b('获取地区信息请求结果',{result:e,statusText:s,status:a}),'Success'!==e||200!==r?.status){return b('获取地区信息失败',{result:e,status:r?.status,statusText:r?.statusText}),t.error('Success'===e?`Error:${r?.statusText}(${r?.status})`:`${e}:${s}(${a})`),{}}const i=r.responseText.match(/data-cart_config="(.*?)"/)?.[1];b('cartConfigRaw提取结果',{cartConfigRaw:i});const o=document.createElement('div');o.innerHTML=i||'{}';const n=o.textContent||o.innerText;let c;try{c=JSON.parse(n),b('cartConfig解析成功',{cartConfig:c})}catch(e){return b('cartConfig解析失败',{error:e}),t.error('Error: get country info filed'),console.error(e),{}}if(!c.rgUserCountryOptions){return b('未找到可更换地区'),t.warning('Warning: Area cannot be changed'),{}}const u=r.responseText.match(/data-userinfo="(.*?)"/)?.[1];b('userInfoRaw提取结果',{userInfoRaw:u});const l=document.createElement('div');l.innerHTML=u||'{}';const d=l.textContent||l.innerText;let h;try{h=JSON.parse(d),b('userInfo解析成功',{userInfo:h})}catch(e){return b('userInfo解析失败',{error:e}),t.error('Error: get country info filed'),console.error(e),{}}const p=h.country_code,g=Object.keys(c.rgUserCountryOptions).filter((t=>'help'!==t));return b('地区信息提取',{currentArea:p,areas:g}),p&&0!==g.length?(this.#K=p,b('获取地区信息成功',{currentArea:p,areas:g}),t.success(),{currentArea:p,areas:g}):(b('未获取到当前地区或可更换地区为空',{currentArea:p,areas:g}),t.error('Error: get country info filed'),{})}catch(t){return b('获取地区信息时发生异常',{error:t}),S(t,'SteamWeb.getAreaInfo'),{}}}async#et(t){try{if(b('开始更换Steam地区',{area:t}),'waiting'===this.#z&&(b('当前地区状态为waiting，等待状态改变'),await new Promise((t=>{const e=setInterval((()=>{'waiting'!==this.#z&&(clearInterval(e),t(!0))}))}))),this.#K===t||!t&&'CN'!==this.#K){return b('无需更换地区',{currentArea:this.#K,targetArea:t}),!0}this.#z='waiting';let e=t;if(!e){b('未指定目标地区，自动获取可用地区');const{currentArea:t,areas:s}=await this.#tt();if(b('获取到地区信息',{currentArea:t,areas:s}),!t||!s){return b('获取地区信息失败',{currentArea:t,areas:s}),this.#z='error',!1}if('CN'!==t){return b('当前地区不是CN，无需更换',{currentArea:t}),this.#z='skip',E({text:f('notNeededChangeArea'),before:'[Web]'}),'skip'}const a=s.filter((t=>t&&'CN'!==t));if(b('可更换的其他地区',{anotherArea:a}),!a||0===a.length){return b('没有可用的其他地区'),this.#z='noAnotherArea',E({text:f('noAnotherArea'),before:'[Web]'}),!1}[e]=a,b('选定目标地区',{aimedArea:e})}const s=E({text:f('changingArea',e),before:'[Web]'});b('发送更换地区请求',{aimedArea:e});const{result:a,statusText:r,status:i,data:o}=await I({url:'https://store.steampowered.com/country/setcountry',method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({cc:e,sessionid:this.#t.storeSessionID})});if(b('更换地区请求结果',{result:a,statusText:r,status:i}),'Success'!==a||200!==o?.status||'true'!==o.responseText){return b('更换地区失败',{result:a,status:o?.status,statusText:o?.statusText,responseText:o?.responseText}),this.#z='error',s.error('Success'===a?`Error:${o?.statusText}(${o?.status})`:`${a}:${r}(${i})`),'CN'}const{currentArea:n}=await this.#tt();return b('更换后获取到的当前地区',{currentArea:n}),n&&(this.#K=n,this.#W||(this.#W=n)),n!==e?(b('更换后当前地区与目标地区不符',{currentArea:n,aimedArea:e}),this.#z='error',s.error('Error: change country filed'),'CN'):(this.#z='success',b('更换地区成功',{currentArea:n}),s.success(),n)}catch(t){return b('更换地区时发生异常',{error:t}),this.#z='error',S(t,'SteamWeb.changeArea'),!1}}async joinGroup(t){try{b('开始加入Steam组',{groupName:t});const e=E({type:'joiningSteamGroup',text:t,before:'[Web]'}),{result:s,statusText:a,status:r,data:i}=await I({url:`https://steamcommunity.com/groups/${t}`,method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({action:'join',sessionID:this.#t.communitySessionID})});return'Success'!==s?(b('加入Steam组请求失败',{result:s}),e.error(`${s}:${a}(${r})`),!1):200!==i?.status||i.responseText.includes('grouppage_join_area')?(b('加入Steam组失败',{status:i?.status}),e.error(`Error:${i?.statusText}(${i?.status})`),!1):(b('成功加入Steam组',{groupName:t}),e.success(),!0)}catch(e){return b('加入Steam组时发生错误',{error:e,groupName:t}),S(e,'SteamWeb.joinGroup'),!1}}async leaveGroup(t){try{b('开始退出Steam组',{groupName:t});const e=await this.#V(t);if(!e){return!1}const s=E({type:'leavingSteamGroup',text:t,before:'[Web]'}),{result:a,statusText:r,status:i,data:o}=await I({url:`https://steamcommunity.com/profiles/${this.#t.steam64Id}/home_process`,method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({sessionID:this.#t.communitySessionID,action:'leaveGroup',groupId:e})});if('Success'!==a){return b('退出Steam组请求失败',{result:a}),s.error(`${a}:${r}(${i})`),!1}if(200!==o?.status||!o.finalUrl.includes('groups')){return b('退出Steam组失败',{status:o?.status}),s.error(`Error:${o?.statusText}(${o?.status})`),!1}return $(o.responseText.replace(/<img.*?>/g,'').toLowerCase()).find(`a[href='https://steamcommunity.com/groups/${t.toLowerCase()}']`).length>0?(b('Error: Group link still exists'),!1):(b('成功退出Steam组',{groupName:t}),s.success(),!0)}catch(e){return b('退出Steam组时发生错误',{error:e,groupName:t}),S(e,'SteamWeb.leaveGroup'),!1}}async#V(t){try{b('开始获取Steam组ID',{groupName:t});const e=E({type:'gettingSteamGroupId',text:t,before:'[Web]'}),s=this.#e.group[t];if(s){return b('从缓存中获取到组ID',{groupName:t,cachedGroupId:s}),e.success(),s}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://steamcommunity.com/groups/${t}`,method:'GET',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'}});if(b('获取组ID请求结果',{result:a,statusText:r,status:i}),'Success'!==a){return b('获取组ID请求失败',{result:a}),e.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('获取组ID响应状态错误',{status:o?.status,statusText:o?.statusText}),e.error(`Error:${o?.statusText}(${o?.status})`),!1}const n=o.responseText.match(/OpenGroupChat\( '([0-9]+)'/)?.[1];return b('正则提取组ID结果',{matchedGroupId:n}),n?(this.#c('group',t,n),b('组ID已缓存',{groupName:t,matchedGroupId:n}),e.success(),n):(b('未能提取到组ID',{groupName:t}),e.error(`Error:${o.statusText}(${o.status})`),!1)}catch(e){return b('获取组ID时发生异常',{error:e,groupName:t}),S(e,'SteamWeb.getGroupID'),!1}}async joinOfficialGroup(t){try{b('开始加入Steam官方组',{gameId:t});const e=E({type:'joiningSteamOfficialGroup',text:t,before:'[Web]'}),{result:s,statusText:a,status:r,data:i}=await I({url:`https://steamcommunity.com/games/${t}?action=join&sessionID=${this.#t.communitySessionID}`,method:'GET',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'}});if('Success'!==s){return b('加入Steam官方组请求失败',{result:s}),e.error(`${s}:${a}(${r})`),!1}if(200!==i?.status||i.responseText.includes('id="publicGroupJoin"')){return b('加入Steam官方组失败',{status:i?.status}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}const o=i.responseText.match(/steam:\/\/friends\/joinchat\/([0-9]+)/)?.[1];return o&&this.#c('officialGroup',t,o),b('成功加入Steam官方组',{gameId:t}),e.success(),!0}catch(e){return b('加入Steam官方组时发生错误',{error:e,gameId:t}),S(e,'SteamWeb.joinOfficialGroup'),!1}}async leaveOfficialGroup(t){try{b('开始退出Steam官方组',{gameId:t});const e=await this.#st(t);if(!e){return!1}const s=E({type:'leavingSteamOfficialGroup',text:t,before:'[Web]'}),{result:a,statusText:r,status:i,data:o}=await I({url:`https://steamcommunity.com/profiles/${this.#t.steam64Id}/home_process`,method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({sessionID:this.#t.communitySessionID,action:'leaveGroup',groupId:e})});if('Success'!==a){return b('退出Steam官方组请求失败',{result:a}),s.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('退出Steam官方组失败',{status:o?.status}),s.error(`Error:${o?.statusText}(${o?.status})`),!1}const{result:n,statusText:c,status:u,data:l}=await I({url:`https://steamcommunity.com/games/${t}`,method:'GET',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'}});return'Success'!==n?(b('退出Steam官方组时发生错误',{error:n,status:u,statusText:c}),s.error(`${n}:${c}(${u})`),!1):200===l?.status&&l.responseText.includes('id="publicGroupJoin"')?(b('成功退出Steam官方组',{gameId:t}),s.success(),!0):(b('退出Steam官方组失败',{status:l?.status}),s.error(`Error:${l?.statusText}(${l?.status})`),!1)}catch(e){return b('退出Steam官方组时发生错误',{error:e,gameId:t}),S(e,'SteamWeb.leaveOfficialGroup'),!1}}async#st(t){try{b('开始获取Steam官方群组ID',{gameId:t});const e=E({type:'gettingSteamOfficialGroupId',text:t,before:'[Web]'}),s=this.#e.officialGroup[t];if(s){return b('从缓存中获取到官方群组ID',{gameId:t,cachedGroupId:s}),e.success(),s}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://steamcommunity.com/games/${t}`,method:'GET',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'}});if(b('获取官方群组ID请求结果',{result:a,statusText:r,status:i}),'Success'!==a){return b('获取官方群组ID请求失败',{result:a}),e.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('获取官方群组ID响应状态错误',{status:o?.status,statusText:o?.statusText}),e.error(`Error:${o?.statusText}(${o?.status})`),!1}const n=o.responseText.match(/steam:\/\/friends\/joinchat\/([0-9]+)/)?.[1];return b('正则提取官方群组ID结果',{matchedGroupId:n}),n?(this.#c('officialGroup',t,n),b('官方群组ID已缓存',{gameId:t,matchedGroupId:n}),e.success(),n):(b('未能提取到官方群组ID',{gameId:t}),e.error(`Error:${o.statusText}(${o.status})`),!1)}catch(e){return b('获取官方群组ID时发生异常',{error:e,gameId:t}),S(e,'SteamWeb.getGroupID'),!1}}async addToWishlist(t){try{b('开始添加游戏到愿望单',{gameId:t});const e=E({type:'addingToWishlist',text:t,before:'[Web]'}),{result:s,data:a}=await I({url:'https://store.steampowered.com/api/addtowishlist',method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({sessionid:this.#t.storeSessionID,appid:t}),dataType:'json'});if('Success'===s&&200===a?.status&&!0===a.response?.success){return b('成功添加游戏到愿望单',{gameId:t}),e.success(),!0}const{result:r,statusText:i,status:o,data:n}=await I({url:`https://store.steampowered.com/app/${t}`,method:'GET'});return'Success'!==r?(b('添加游戏到愿望单请求失败',{result:r,status:o,statusText:i}),e.error(`${r}:${i}(${o})`),!1):200!==n?.status?(b('添加游戏到愿望单失败',{status:n?.status}),e.error(`Error:${n?.statusText}(${n?.status})`),!1):'CN'===this.#K&&n.responseText.includes('id="error_box"')?(b('changeAreaNotice'),!!await this.#et()&&await this.addToWishlist(t)):n.responseText.includes('class="queue_actions_ctn"')&&n.responseText.includes('class="already_in_library"')?(b('成功添加游戏到愿望单',{gameId:t}),e.success(),!0):n.responseText.includes('class="queue_actions_ctn"')&&n.responseText.includes('id="add_to_wishlist_area_success" style="display: none;')||!n.responseText.includes('class="queue_actions_ctn"')?(b('添加游戏到愿望单失败',{status:n.statusText}),e.error(`Error:${n.statusText}(${n.status})`),!1):(b('成功添加游戏到愿望单',{gameId:t}),e.success(),!0)}catch(e){return b('添加游戏到愿望单时发生错误',{error:e,gameId:t}),S(e,'SteamWeb.addToWishlist'),!1}}async removeFromWishlist(t){try{b('开始从愿望单移除游戏',{gameId:t});const e=E({type:'removingFromWishlist',text:t,before:'[Web]'}),{result:s,data:a}=await I({url:'https://store.steampowered.com/api/removefromwishlist',method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({sessionid:this.#t.storeSessionID,appid:t}),dataType:'json'});if('Success'===s&&200===a?.status&&!0===a.response?.success){return b('成功从愿望单移除游戏',{gameId:t}),e.success(),!0}const{result:r,statusText:i,status:o,data:n}=await I({url:`https://store.steampowered.com/app/${t}`,method:'GET'});if('Success'!==r){return b('从愿望单移除游戏请求失败',{result:r,status:o,statusText:i}),e.error(`${r}:${i}(${o})`),!1}if(200!==n?.status){return b('从愿望单移除游戏失败',{status:n?.status}),e.error(`Error:${n?.statusText}(${n?.status})`),!1}if('CN'===this.#K&&n.responseText.includes('id="error_box"')){b('changeAreaNotice');const e=await this.#et();return!(!e||'CN'===e||'skip'===e)&&await this.removeFromWishlist(t)}return n.responseText.includes('class="queue_actions_ctn"')&&(n.responseText.includes('ds_owned_flag ds_flag')||n.responseText.includes('add_to_wishlist_area'))?(b('成功从愿望单移除游戏',{gameId:t}),e.success(),!0):(b('从愿望单移除游戏请求失败',{result:r,status:o,statusText:i}),e.error(`Error:${n.statusText}(${n.status})`),!1)}catch(e){return b('从愿望单移除游戏时发生错误',{error:e,gameId:t}),S(e,'SteamWeb.removeFromWishlist'),!1}}async toggleFollowGame(t,e){try{b('开始处理游戏关注状态',{gameId:t,doTask:e});const s=E({type:(e?'':'un')+'followingGame',text:t,before:'[Web]'}),a={sessionid:this.#t.storeSessionID,appid:t};e||(a.unfollow='1');const{result:r,data:i}=await I({url:'https://store.steampowered.com/explore/followgame/',method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param(a)});if('Success'===r&&200===i?.status&&'true'===i.responseText){return b('成功处理游戏关注状态',{gameId:t,doTask:e}),s.success(),!0}const o=await this.#at(t);return'CN'===this.#K&&'areaLocked'===o?(b('changeAreaNotice'),!!await this.#et()&&await this.toggleFollowGame(t,e)):e===o?(b('成功处理游戏关注状态',{gameId:t,doTask:e}),s.success(),!0):(b('处理游戏关注状态请求失败',{result:r}),s.error(`Error:${i?.statusText}(${i?.status})`),!1)}catch(s){return b('处理游戏关注状态时发生错误',{error:s,gameId:t,doTask:e}),S(s,'SteamWeb.toggleFollowGame'),!1}}async#at(t){try{b('开始判断Steam游戏是否已关注',{gameId:t});const{result:e,data:s}=await I({url:`https://store.steampowered.com/app/${t}`,method:'GET'});if(b('获取游戏页面请求结果',{result:e,status:s?.status}),'Success'!==e){return b('请求失败',{result:e}),!1}if(200!==s?.status){return b('响应状态错误',{status:s?.status}),!1}if('CN'===this.#K&&s.responseText.includes('id="error_box"')){return b('地区锁定，返回areaLocked',{area:this.#K}),'areaLocked'}const a='none'!==$(s.responseText.replace(/<img.*?>/g,'')).find('.queue_control_button.queue_btn_follow>.btnv6_blue_hoverfade.btn_medium.queue_btn_active').css('display');return b('关注状态判断结果',{isFollowed:a}),a}catch(e){return b('判断游戏关注状态时发生异常',{error:e,gameId:t}),S(e,'SteamWeb.isFollowedGame'),!1}}async toggleForum(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{b('开始处理论坛订阅状态',{gameId:t,doTask:e});const s=await this.#rt(t);if(!s){return!1}const a=E({type:(e?'':'un')+'subscribingForum',text:t,before:'[Web]'}),[r,i]=s.split('_'),{result:o,statusText:n,status:c,data:u}=await I({url:`https://steamcommunity.com/forum/${r}/General/${e?'':'un'}subscribe/${i||'0'}/`,method:'POST',responseType:'json',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({sessionid:this.#t.communitySessionID})});return'Success'!==o?(b('处理论坛订阅状态请求失败',{result:o}),a.error(`${o}:${n}(${c})`),!0):200!==u?.status||1!==u.response?.success&&29!==u.response?.success?(b('处理论坛订阅状态失败',{status:u?.status}),a.error(`Error:${u?.statusText}(${u?.status})`),!0):(b('成功处理论坛订阅状态',{gameId:t,doTask:e}),a.success(),!0)}catch(s){return b('处理论坛订阅状态时发生错误',{error:s,gameId:t,doTask:e}),S(s,'SteamWeb.toggleForum'),!1}}async#rt(t){try{b('开始获取Steam论坛ID',{gameId:t});const e=E({type:'gettingForumId',text:t,before:'[Web]'}),s=this.#e.forum[t];if(s){return b('从缓存中获取到论坛ID',{gameId:t,cachedForumId:s}),e.success(),s}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://steamcommunity.com/app/${t}/discussions/`,method:'GET'});if(b('获取论坛ID请求结果',{result:a,statusText:r,status:i}),'Success'!==a){return b('获取论坛ID请求失败',{result:a}),e.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('获取论坛ID响应状态错误',{status:o?.status,statusText:o?.statusText}),e.error(`Error:${o?.statusText}(${o?.status})`),!1}const n=o.responseText?.match(/General_([\d]+(_[\d]+)?)/)?.[1];return b('正则提取论坛ID结果',{matchedForumId:n}),n?(this.#c('forum',t,n),b('论坛ID已缓存',{gameId:t,matchedForumId:n}),e.success(),n):(b('未能提取到论坛ID',{gameId:t}),e.error(`Error:${o.statusText}(${o.status})`),!1)}catch(e){return b('获取论坛ID时发生异常',{error:e,gameId:t}),S(e,'SteamWeb.getForumId'),!1}}async toggleFavoriteWorkshop(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{b('开始处理创意工坊收藏状态',{id:t,doTask:e});const s=await this.#it(t);if(!s){return!1}const a=E({type:e?'favoritingWorkshop':'unfavoritingWorkshop',text:t,before:'[Web]'}),{result:r,statusText:i,status:o,data:n}=await I({url:`https://steamcommunity.com/sharedfiles/${e?'':'un'}favorite`,method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({id:t,appid:s,sessionid:this.#t.communitySessionID})});return'Success'!==r?(b('处理创意工坊收藏状态请求失败',{result:r}),a.error(`${r}:${i}(${o})`),!1):200!==n?.status||n.responseText?(b('处理创意工坊收藏状态失败',{status:n?.status}),a.error(`Error:${n?.statusText}(${n?.status})`),!1):(b('成功处理创意工坊收藏状态',{id:t,doTask:e}),a.success(),!0)}catch(s){return b('处理创意工坊收藏状态时发生错误',{error:s,id:t,doTask:e}),S(s,'SteamWeb.toggleFavoriteWorkshop'),!1}}async#it(t){try{b('开始获取Steam创意工坊AppId',{id:t});const e=E({type:'gettingWorkshopAppId',text:t,before:'[Web]'}),s=this.#e.workshop[t];if(s){return b('从缓存中获取到AppId',{id:t,cachedAppId:s}),e.success(),s}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://steamcommunity.com/sharedfiles/filedetails/?id=${t}`,method:'GET'});if(b('获取创意工坊AppId请求结果',{result:a,statusText:r,status:i}),'Success'!==a){return b('获取创意工坊AppId请求失败',{result:a}),e.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('获取创意工坊AppId响应状态错误',{status:o?.status,statusText:o?.statusText}),e.error(`Error:${o?.statusText}(${o?.status})`),!1}const n=o.responseText.match(/<input type="hidden" name="appid" value="([\d]+?)" \/>/)?.[1];return b('正则提取AppId结果',{matchedAppId:n}),n?(b('AppId已缓存',{id:t,matchedAppId:n}),n):(b('未能提取到AppId',{id:t}),e.error('Error: getWorkshopAppId failed'),!1)}catch(e){return b('获取创意工坊AppId时发生异常',{error:e,id:t}),S(e,'SteamWeb.getWorkshopAppId'),!1}}async voteUpWorkshop(t){try{b('开始点赞创意工坊物品',{id:t});const e=E({type:'votingUpWorkshop',text:t,before:'[Web]'}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://steamcommunity.com/sharedfiles/voteup',method:'POST',responseType:'json',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({id:t,sessionid:this.#t.communitySessionID})});return'Success'!==s?(b('点赞创意工坊物品请求失败',{result:s}),e.error(`${s}:${a}(${r})`),!0):200!==i?.status||1!==i.response?.success?(b('点赞创意工坊物品失败',{status:i?.status}),e.error(`Error:${i?.statusText}(${i?.status})`),!0):(b('成功点赞创意工坊物品',{id:t}),e.success(),!0)}catch(e){return b('点赞创意工坊物品时发生错误',{error:e,id:t}),S(e,'SteamWeb.voteUpWorkshop'),!1}}async toggleCurator(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{b('开始处理鉴赏家关注状态',{curatorId:t,doTask:e});const s=E({type:e?'followingCurator':'unfollowingCurator',text:t,before:'[Web]'}),{result:a,statusText:r,status:i,data:o}=await I({url:'https://store.steampowered.com/curators/ajaxfollow',method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:$.param({clanid:t,sessionid:this.#t.storeSessionID,follow:e}),dataType:'json'});return'Success'!==a?(b('处理鉴赏家关注状态请求失败',{result:a}),s.error(`${a}:${r}(${i})`),!1):25===o?.response?.success?.success?(b('处理鉴赏家关注状态失败',{status:o?.status,success:o?.response?.success,message:o?.response?.msg}),s.error(f('curatorLimitNotice')),!1):200!==o?.status||1!==o.response?.success?.success?(b('处理鉴赏家关注状态失败',{status:o?.status,success:o?.response?.success}),s.error(`Error:${o?.statusText}(${o?.response?.success}`||`${o?.status})`),!1):(b('成功处理鉴赏家关注状态',{curatorId:t,doTask:e}),s.success(),!0)}catch(s){return b('处理鉴赏家关注状态时发生错误',{error:s,curatorId:t,doTask:e}),S(s,'SteamWeb.toggleCurator'),!1}}async#ot(t,e){try{b('开始获取Steam公告参数',{appId:t,viewId:e});const s=E({type:'gettingAnnouncementParams',text:t,id:e,before:'[Web]'}),{result:a,statusText:r,status:i,data:o}=await I({url:`https://store.steampowered.com/events/ajaxgetpartnerevent?appid=${t}&announcement_gid=${e}&lang_list=6_0&last_modified_time=0&origin=https:%2F%2Fstore.steampowered.com&for_edit=false`,method:'GET',responseType:'json',headers:{Host:'store.steampowered.com',Referer:`https://store.steampowered.com/news/app/${t}/view/${e}`}});if(b('获取公告参数请求结果',{result:a,statusText:r,status:i}),'Success'!==a){return b('获取公告参数请求失败',{result:a}),s.error(`${a}:${r}(${i})`),{}}if(200!==o?.status||1!==o?.response?.success){return b('获取公告参数响应状态错误',{status:o?.status,statusText:o?.statusText,response:o?.response}),s.error(`Error:${o?.statusText}(${o?.status})`),{}}const{clanid:n,gid:c}=o.response.event?.announcement_body||{};return b('公告参数提取',{clanid:n,gid:c}),n?(s.success(),b('获取公告参数成功',{clanId:n,gid:c}),{clanId:n,gid:c}):(b('未能提取到clanid',{appId:t,viewId:e}),s.error(`Error:${o.statusText}(${o.status})`),{})}catch(s){return b('获取公告参数时发生异常',{error:s,appId:t,viewId:e}),S(s,'SteamWeb.likeAnnouncement'),{}}}async likeAnnouncement(t){try{b('开始点赞公告',{id:t});const[e,s]=t.split('/');if(!e||!s){return E({before:'[Web]'}).error(`${f('missParams')}(id)`),!1}const{clanId:a,gid:r}=await this.#ot(e,s);if(!a){return!1}const i=E({type:'likingAnnouncement',text:e,id:s,before:'[Web]'}),{result:o,statusText:n,status:c,data:u}=await I({url:`https://store.steampowered.com/updated/ajaxrateupdate/${r||s}`,method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',Host:'store.steampowered.com',Origin:'https://store.steampowered.com',Referer:`https://store.steampowered.com/news/app/${e}/view/${s}`},data:$.param({sessionid:this.#t.storeSessionID,voteup:1,clanid:a,ajax:1}),dataType:'json'});return'Success'!==o?(b('点赞公告请求失败',{result:o}),i.error(`${o}:${n}(${c})`),!1):200!==u?.status||1!==u.response.success?(b('点赞公告失败',{status:u?.status}),i.error(`Error:${u?.statusText}(${u?.status})`),!1):(b('成功点赞公告',{id:t}),i.success(),!0)}catch(e){return b('点赞公告时发生错误',{error:e,id:t}),S(e,'SteamWeb.likeAnnouncement'),!1}}async#nt(t){try{b('开始将AppId转换为SubId',{id:t});const e=E({type:'gettingSubid',text:t,before:'[Web]'}),{result:s,statusText:a,status:r,data:i}=await I({url:`https://store.steampowered.com/app/${t}`,method:'GET',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'}});if(b('获取App页面请求结果',{result:s,statusText:a,status:r}),'Success'!==s){return b('获取App页面请求失败',{result:s}),e.error(`${s}:${a}(${r})`),!1}if(200!==i?.status){return b('获取App页面响应状态错误',{status:i?.status,statusText:i?.statusText}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}if(i.responseText.includes('ds_owned_flag ds_flag')||i.responseText.includes('class="already_in_library"')){return b('App已拥有',{id:t}),e.success(f('owned')),!0}if('CN'===this.#K&&i.responseText.includes('id="error_box"')){b('地区锁定，尝试更换地区',{area:this.#K}),e.warning(f('changeAreaNotice'));const s=await this.#et();return s&&'CN'!==s&&'skip'!==s?await this.#nt(t):(b('更换地区失败或未更换',{result:s}),!1)}let o=i.responseText.match(/name="subid" value="([\d]+?)"/)?.[1];return b('正则提取subid结果1',{subid:o}),o?(e.success(),o):(o=i.responseText.match(/AddFreeLicense\(\s*(\d+)/)?.[1],b('正则提取subid结果2',{subid:o}),o?(e.success(),o):(b('未能提取到subid',{id:t}),e.error(`Error:${f('noSubid')}`),!1))}catch(e){return b('AppId转SubId时发生异常',{error:e,id:t}),S(e,'SteamWeb.appid2subid'),!1}}async#ct(){try{b('开始获取Steam用户许可证信息');const t=E({text:f('gettingLicenses'),before:'[Web]'}),{result:e,statusText:s,status:a,data:r}=await I({url:`https://store.steampowered.com/dynamicstore/userdata/?t=${(new Date).getTime()}`,method:'GET',responseType:'json'});return b('获取许可证请求结果',{result:e,statusText:s,status:a}),'Success'!==e?(b('获取许可证请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),!1):200!==r?.status?(b('获取许可证响应状态错误',{status:r?.status,statusText:r?.statusText}),t.error(`Error:${r?.statusText}(${r?.status})`),!1):(b('获取到的许可证列表',{licenses:r.response?.rgOwnedPackages}),t.remove(),r.response?.rgOwnedPackages)}catch(t){return b('获取许可证时发生异常',{error:t}),S(t,'SteamWeb.getLicenses'),!1}}async addLicense(t){try{b('开始添加许可证',{id:t});const[e,s]=t.split('-');if(b('解析许可证ID',{type:e,ids:s}),'appid'!==e&&'subid'!==e){return b('无效的许可证类型',{type:e}),!1}if('appid'===e){b('处理appid类型许可证',{ids:s});const t=await this.#nt(s);if(b('appid转换为subid结果',{appid:s,subid:t}),!t){return b('appid转换失败',{appid:s}),!1}if(!0===t){return b('appid已拥有',{appid:s}),!0}const e=E({type:'addingFreeLicense',text:s,before:'[Web]'});if(b('开始添加免费许可证',{subid:t}),!await this.#ut(t,e)){return b('添加免费许可证失败',{subid:t}),!1}const{result:a,statusText:r,status:i,data:o}=await I({url:`https://store.steampowered.com/app/${s}`,method:'GET'});return b('验证许可证添加状态',{result:a,status:i,statusText:r}),'Success'!==a?(b('验证请求失败',{result:a,status:i,statusText:r}),e.error(`${a}:${r}(${i})`),!1):200!==o?.status?(b('验证响应状态错误',{status:o?.status,statusText:o?.statusText}),e.error(`Error:${o?.statusText}(${o?.status})`),!1):o.responseText.includes('ds_owned_flag ds_flag')||o.responseText.includes('class="already_in_library"')?(b('appid许可证添加成功',{appid:s}),e.success(),!0):(b('未找到游戏拥有标记',{status:o.status,statusText:o.statusText}),e.error(`Error:${o.statusText}(${o.status})`),!1)}'CN'===this.#K&&(b('当前区域为CN，尝试更改区域',{currentArea:this.#K}),E({before:'[Web]'}).success(f('tryChangeAreaNotice')),await this.#et());const a={},r=s.split(',');b('处理subid类型许可证',{idsArr:r});for(const t of r){b('开始处理单个subid',{subid:t});const e=E({type:'addingFreeLicense',text:t,before:'[Web]'});if(!await this.#ut(t,e)){return b('添加subid许可证失败',{subid:t}),!1}a[t]=e}const i=await this.#ct();if(b('获取许可证列表',{licenses:i}),!i){return b('获取许可证列表失败'),!1}for(const t of r){const e=i.includes(parseInt(t,10));b('验证许可证添加状态',{subid:t,hasLicense:e}),e?a[t].success():a[t].error()}return b('所有subid许可证处理完成',{idsArr:r}),!0}catch(e){return b('添加许可证过程发生错误',{error:e,id:t}),S(e,'SteamWeb.addLicense'),!1}}async#ut(t,e){try{b('开始添加免费Steam游戏许可证',{id:t});const s=e||E({type:'addingFreeLicenseSubid',text:t,before:'[Web]'}),{result:a,statusText:r,status:i,data:o}=await I({url:`https://store.steampowered.com/freelicense/addfreelicense/${t}`,method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',Host:'store.steampowered.com',Origin:'https://store.steampowered.com',Referer:'https://store.steampowered.com/account/licenses/'},data:$.param({ajax:!0,sessionid:this.#t.storeSessionID}),dataType:'json'});if(b('添加免费许可证请求结果',{result:a,statusText:r,status:i}),'Success'!==a){return b('添加免费许可证请求失败',{result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),!1}if(200!==o?.status){return b('添加免费许可证响应状态错误',{status:o?.status,statusText:o?.statusText}),s.error(`Error:${o?.statusText}(${o?.status})`),!1}if('CN'===this.#K&&o.responseText.includes('id="error_box"')){b('地区锁定，尝试更换地区',{area:this.#K}),s.warning(f('changeAreaNotice'));const e=await this.#et();return!e||['CN','skip'].includes(e)?(b('更换地区失败或未更换',{result:e}),!1):await this.#ut(t)}return b('成功添加免费许可证',{id:t}),s.success(),!0}catch(e){return b('添加免费许可证时发生异常',{error:e,id:t}),S(e,'SteamWeb.addFreeLicense'),!1}}async requestPlayTestAccess(t){b('开始请求游戏试玩权限',{id:t});try{b('开始请求游戏试玩权限',{id:t});const e=E({type:'requestingPlayTestAccess',text:t,before:'[Web]'});b('准备发送试玩权限请求',{id:t});const{result:s,statusText:a,status:r,data:i}=await I({url:`https://store.steampowered.com/ajaxrequestplaytestaccess/${t}`,method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',Host:'store.steampowered.com',Origin:'https://store.steampowered.com',Referer:`https://store.steampowered.com/app/${t}`},data:$.param({sessionid:this.#t.storeSessionID}),dataType:'json'});return b('收到试玩权限请求响应',{result:s,status:r,statusText:a,responseData:i}),'Success'!==s?(b('请求失败',{result:s,status:r,statusText:a}),e.error(`${s}:${a}(${r})`),!1):200!==i?.status||1!==i?.response?.success?(b('响应状态错误',{status:i?.status,statusText:i?.statusText,success:i?.response?.success}),e.error(`Error:${i?.statusText}(${i?.status})`),!1):(b('成功请求游戏试玩权限',{id:t}),e.success(),!0)}catch(e){return b('请求游戏试玩权限时发生错误',{error:e,id:t}),S(e,'SteamWeb.requestPlayTestAccess'),!1}}async resetArea(){try{if(b('检查区域设置状态',{currentArea:this.#K,oldArea:this.#W,needReset:Boolean(this.#W&&this.#K!==this.#W)}),this.#W&&this.#K!==this.#W){b('需要重置区域',{fromArea:this.#K,toArea:this.#W}),E({before:'[Web]'}).warning(f('steamFinishNotice')+this.#W);const t=await this.#et(this.#W);b('区域重置结果',{success:t,targetArea:this.#W})}else{b('无需重置区域',{currentArea:this.#K,oldArea:this.#W})}return b('区域重置流程完成'),!0}catch(t){return b('重置区域时发生错误',{error:t}),S(t,'SteamWeb.resetArea'),!1}}#c(t,e,s){try{b('开始设置缓存',{type:t,name:e,id:s}),this.#e[t][e]=s,GM_setValue('steamCache',this.#e),b('设置缓存成功',{type:t,name:e,id:s})}catch(a){b('设置缓存时发生异常',{error:a,type:t,name:e,id:s}),S(a,'SteamWeb.setCache')}}}class tt extends R{tasks;whiteList;#e={group:{},officialGroup:{},forum:{},workshop:{},curator:{},...GM_getValue('steamCache')};#lt=[];constructor(){super(),b('初始化Steam实例');const t={groups:[],officialGroups:[],wishlists:[],follows:[],forums:[],workshops:[],workshopVotes:[],curators:[],curatorLikes:[],announcements:[],licenses:[],playtests:[],playTime:[]};this.tasks=t,this.whiteList={...t,...GM_getValue('whiteList')?.steam||{}},this.#lt=this.#dt(g.ASF.AsfEnabled,g.ASF.steamWeb,g.ASF.preferASF),b('Steam实例初始化完成',{taskExecutorCount:this.#lt.length})}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'all';try{b('开始初始化Steam模块',{type:t});for(let e=0;e<this.#lt.length;e++){b(`初始化执行器 ${e+1}/${this.#lt.length}`),await this.#lt[e].init(t)||(b(`执行器 ${e+1} 初始化失败，移除该执行器`),this.#lt.splice(e,1))}return b('Steam模块初始化完成',{remainingExecutors:this.#lt.length}),this.#lt.length>0}catch(t){return b('Steam初始化发生错误',{error:t}),S(t,'Steam.init'),!1}}async#ht(t){try{b('开始加入Steam组',{groupName:t});for(const e of this.#lt){if(await e.joinGroup(t)){return b('成功加入Steam组',{groupName:t}),this.tasks.groups=B([...this.tasks.groups,t]),!0}}return b('加入Steam组失败',{groupName:t}),!1}catch(e){return b('加入Steam组时发生错误',{error:e,groupName:t}),S(e,'Steam.joinGroup'),!1}}async#pt(t){try{if(b('开始退出Steam组',{groupName:t}),this.whiteList.groups.includes(t)){return b('Steam组在白名单中，跳过退出',{groupName:t}),E({type:'whiteList',text:'Steam.leaveGroup',id:t}),!0}for(const e of this.#lt){if(await e.leaveGroup(t)){return b('成功退出Steam组',{groupName:t}),!0}}return b('退出Steam组失败',{groupName:t}),!1}catch(e){return b('退出Steam组时发生错误',{error:e,groupName:t}),S(e,'Steam.leaveGroup'),!1}}async#gt(t){try{b('开始加入Steam官方组',{gameId:t});for(const e of this.#lt){if(await e.joinOfficialGroup(t)){return b('成功加入Steam官方组',{gameId:t}),!0}}return b('加入Steam官方组失败',{gameId:t}),!1}catch(e){return b('加入Steam官方组时发生错误',{error:e,gameId:t}),S(e,'Steam.joinOfficialGroup'),!1}}async#mt(t){try{if(b('开始退出Steam官方组',{gameId:t}),this.whiteList.officialGroups.includes(t)){return b('Steam官方组在白名单中，跳过退出',{gameId:t}),E({type:'whiteList',text:'Steam.leaveOfficialGroup',id:t}),!0}for(const e of this.#lt){if(await e.leaveOfficialGroup(t)){return b('成功退出Steam官方组',{gameId:t}),this.tasks.officialGroups=B([...this.tasks.officialGroups,t]),!0}}return b('退出Steam官方组失败',{gameId:t}),!1}catch(e){return b('退出Steam官方组时发生错误',{error:e,gameId:t}),S(e,'Steam.leaveOfficialGroup'),!1}}async#wt(t){try{b('开始添加游戏到愿望单',{gameId:t});for(const e of this.#lt){if(await e.addToWishlist(t)){return b('成功添加游戏到愿望单',{gameId:t}),this.tasks.wishlists=B([...this.tasks.wishlists,t]),!0}}return b('添加游戏到愿望单失败',{gameId:t}),!1}catch(e){return b('添加游戏到愿望单时发生错误',{error:e,gameId:t}),S(e,'Steam.addToWishlist'),!1}}async#ft(t){try{if(b('开始从愿望单移除游戏',{gameId:t}),this.whiteList.wishlists.includes(t)){return b('游戏在愿望单白名单中，跳过移除',{gameId:t}),E({type:'whiteList',text:'Steam.removeFromWishlist',id:t}),!0}for(const e of this.#lt){if(await e.removeFromWishlist(t)){return b('成功从愿望单移除游戏',{gameId:t}),!0}}return b('从愿望单移除游戏失败',{gameId:t}),!1}catch(e){return b('从愿望单移除游戏时发生错误',{error:e,gameId:t}),S(e,'Steam.removeFromWishlist'),!1}}async#At(t,e){try{if(b('开始处理游戏关注状态',{gameId:t,doTask:e}),!e&&this.whiteList.follows.includes(t)){return b('游戏在关注白名单中，跳过取关',{gameId:t}),E({type:'whiteList',text:'Steam.unfollowGame',id:t}),!0}for(const s of this.#lt){if(await s.toggleFollowGame(t,e)){return e?(b('成功关注游戏',{gameId:t}),this.tasks.follows=B([...this.tasks.follows,t])):b('成功取关游戏',{gameId:t}),!0}}return b('处理游戏关注状态失败',{gameId:t,doTask:e}),!1}catch(s){return b('处理游戏关注状态时发生错误',{error:s,gameId:t,doTask:e}),S(s,'Steam.toggleFollowGame'),!1}}async#kt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(b('开始处理论坛订阅状态',{gameId:t,doTask:e}),!e&&this.whiteList.forums.includes(t)){return b('论坛在白名单中，跳过取消订阅',{gameId:t}),E({type:'whiteList',text:'Steam.unsubscribeForum',id:t}),!0}for(const s of this.#lt){if(await s.toggleForum(t,e)){return e?(b('成功订阅论坛',{gameId:t}),this.tasks.forums=B([...this.tasks.forums,t])):b('成功取消订阅论坛',{gameId:t}),!0}}return b('处理论坛订阅状态失败',{gameId:t,doTask:e}),!1}catch(s){return b('处理论坛订阅状态时发生错误',{error:s,gameId:t,doTask:e}),S(s,'Steam.toggleForum'),!0}}async#yt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(b('开始处理创意工坊收藏状态',{id:t,doTask:e}),!e&&this.whiteList.workshops.includes(t)){return b('创意工坊物品在白名单中，跳过取消收藏',{id:t}),E({type:'whiteList',text:'Steam.unfavoriteWorkshop',id:t}),!0}for(const s of this.#lt){if(await s.toggleFavoriteWorkshop(t)){return e?(b('成功收藏创意工坊物品',{id:t}),this.tasks.workshops=B([...this.tasks.workshops,t])):b('成功取消收藏创意工坊物品',{id:t}),!0}}return b('处理创意工坊收藏状态失败',{id:t,doTask:e}),!1}catch(s){return b('处理创意工坊收藏状态时发生错误',{error:s,id:t,doTask:e}),S(s,'Steam.toggleFavoriteWorkshop'),!1}}async#Tt(t){try{b('开始点赞创意工坊物品',{id:t});for(const e of this.#lt){if(await e.voteUpWorkshop(t)){return b('成功点赞创意工坊物品',{id:t}),!0}}return b('点赞创意工坊物品失败',{id:t}),!1}catch(e){return b('点赞创意工坊物品时发生错误',{error:e,id:t}),S(e,'Steam.voteupWorkshop'),!0}}async#bt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(b('开始处理鉴赏家关注状态',{curatorId:t,doTask:e}),!e&&this.whiteList.curators.includes(t)){return b('鉴赏家在白名单中，跳过取关',{curatorId:t}),E({type:'whiteList',text:'Steam.unfollowCurator',id:t}),!0}for(const s of this.#lt){if(await s.toggleCurator(t,e)){return e?(b('成功关注鉴赏家',{curatorId:t}),this.tasks.curators=B([...this.tasks.curators,t])):b('成功取关鉴赏家',{curatorId:t}),!0}}return b('处理鉴赏家关注状态失败',{curatorId:t,doTask:e}),!1}catch(s){return b('处理鉴赏家关注状态时发生错误',{error:s,curatorId:t,doTask:e}),S(s,'Steam.toggleCurator'),!1}}async getCuratorId(t,e){try{b('开始获取鉴赏家ID',{path:t,name:e});const s=E({type:'gettingCuratorId',text:`${t}/${e}`,before:'[Web]'}),a=this.#e.curator[`${t}/${e}`];if(a){return b('从缓存获取到鉴赏家ID',{path:t,name:e,curatorId:a}),s.success(),a}const{result:r,statusText:i,status:o,data:n}=await I({url:`https://store.steampowered.com/${t}/${e}`,method:'GET',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'}});if('Success'===r){if(200===n?.status){const a=n.responseText.match(/g_pagingData.*?"clanid":([\d]+)/)?.[1];return a?(b('成功获取鉴赏家ID',{path:t,name:e,curatorId:a}),this.#c('curator',`${t}/${e}`,a),s.success(),a):(b('未找到鉴赏家ID',{path:t,name:e,status:n.status}),s.error(`Error:${n.statusText}(${n.status})`),!1)}return b('获取鉴赏家页面失败',{path:t,name:e,status:n?.status}),s.error(`Error:${n?.statusText}(${n?.status})`),!1}return b('请求鉴赏家页面失败',{path:t,name:e,result:r,status:o}),s.error(`${r}:${i}(${o})`),!1}catch(s){return b('获取鉴赏家ID时发生错误',{error:s,path:t,name:e}),S(s,'SteamWeb.getCuratorID'),!1}}async#vt(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{b('开始处理鉴赏家点赞状态',{link:t,doTask:e});const[s,a]=t.split('/');if(!s||!a){return b('无效的鉴赏家链接',{link:t}),E({text:f('errorLink',t),before:'[Web]'}),!1}const r=await this.getCuratorId(s,a);return r?(b('获取到鉴赏家ID，开始处理点赞',{curatorId:r,doTask:e}),await this.#bt(r,e)):(b('未获取到鉴赏家ID',{link:t}),!1)}catch(s){return b('处理鉴赏家点赞状态时发生错误',{error:s,link:t,doTask:e}),S(s,'Steam.toggleCuratorLike'),!1}}async#xt(t){try{b('开始点赞公告',{id:t});for(const e of this.#lt){if(await e.likeAnnouncement(t)){return b('成功点赞公告',{id:t}),!0}}return b('点赞公告失败',{id:t}),!1}catch(e){return b('点赞公告时发生错误',{error:e,id:t}),S(e,'Steam.likeAnnouncement'),!1}}async#St(t){try{b('开始添加许可证',{id:t});for(const e of this.#lt){if(await e.addLicense(t)){return b('成功添加许可证',{id:t}),!0}}return b('添加许可证失败',{id:t}),!1}catch(e){return b('添加许可证时发生错误',{error:e,id:t}),S(e,'Steam.addLicense'),!1}}async#Ct(t){try{b('开始请求游戏试玩权限',{id:t});for(const e of this.#lt){if(await e.requestPlayTestAccess(t)){return b('成功请求游戏试玩权限',{id:t}),!0}}return b('请求游戏试玩权限失败',{id:t}),!1}catch(e){return b('请求游戏试玩权限时发生错误',{error:e,id:t}),S(e,'Steam.requestPlayTestAccess'),!1}}async#It(t){try{b('开始获取游戏试玩ID',{id:t});const e=E({type:'gettingDemoAppid',text:t,before:'[Web]'}),{result:s,statusText:a,status:r,data:i}=await I({url:`https://store.steampowered.com/app/${t}`,method:'GET',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',Host:'store.steampowered.com',Origin:'https://store.steampowered.com',Referer:`https://store.steampowered.com/app/${t}`}});if('Success'===s){if(200===i?.status){const s=i.responseText.match(/steam:\/\/(install|run)\/(\d+)/)?.[2];return b('成功获取游戏试玩ID',{id:t,demoAppid:s}),e.success(),s||!1}return b('获取游戏页面失败',{id:t,status:i?.status}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}return b('请求游戏页面失败',{id:t,result:s,status:r}),e.error(`${s}:${a}(${r})`),!1}catch(e){return b('获取游戏试玩ID时发生错误',{error:e,id:t}),S(e,'Steam.getDemoAppid'),!1}}async#Dt(t,e){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(b('开始处理游戏挂时长',{ids:t,playTime:e,doTask:s}),e<=0){return b('游戏时长小于等于0，跳过挂时长'),!0}const a=this.#lt.find((t=>t instanceof Z));if(!a){return b('未找到ASF实例'),E({}).warning(f('noASFInstance')),!1}if(!s){return b('停止挂时长'),await a.stopPlayGames()}const r=await Promise.all(t.split(',').map((async t=>{try{const e=await this.#It(t);return e?`${t},${e}`:t}catch(e){return b('获取游戏试玩ID失败',{error:e,id:t}),t}}))),i=B(r.join(',').split(','));b('处理后的游戏ID列表',{uniqueIds:i}),b('开始尝试入库游戏',{uniqueIds:i}),await Promise.all(i.map((async t=>{for(const e of this.#lt){if(await e.addLicense(`appid-${t}`)){return b('成功入库游戏',{id:t}),!0}}return!1}))),await a.playGames(i.join(','));if(!0!==await a.checkPlayStatus(i.join(','))){await P(3e3),await a.playGames(i.join(','));if(!await a.checkPlayStatus(i.join(','))){return b('启动游戏失败'),!1}}const o=Date.now()+60*(e+10)*1e3,n=GM_getValue('stopPlayTime',0)||0;GM_setValue('stopPlayTime',Math.max(o,n));const c=GM_getValue('playedGames',[])||[];GM_setValue('playedGames',B([...c,...i]));const u=GM_getValue('taskLink',[])||[];return GM_setValue('taskLink',B([...u,window.location.href])),b('游戏挂时长状态更新完成'),!0}catch(s){return b('处理游戏挂时长时发生错误',{error:s,ids:t,playTime:e}),S(s,'Steam.playGames'),!1}}async toggle(t){let{doTask:e=!0,groupLinks:s=[],officialGroupLinks:a=[],wishlistLinks:r=[],followLinks:i=[],forumLinks:o=[],workshopLinks:n=[],workshopVoteLinks:c=[],curatorLinks:u=[],curatorLikeLinks:l=[],announcementLinks:d=[],licenseLinks:h=[],playtestLinks:p=[],playTimeLinks:m=[]}=t;try{b('开始处理Steam任务',{doTask:e,linksCount:{groups:s.length,officialGroups:a.length,wishlists:r.length,follows:i.length,forums:o.length,workshops:n.length,workshopVotes:c.length,curators:u.length,curatorLikes:l.length,announcements:d.length,licenses:h.length,playtests:p.length,playTime:m.length}});if([...s,...a,...o,...n,...c,...r,...i,...u,...l,...d,...h,...p,...m].length>0&&0===this.#lt.length){return b('Steam模块未初始化'),E({text:f('needInit')}),!1}const t=[];if(this.shouldProcessTask('groups',e)){b('开始处理群组任务');const a=this.getRealParams('groups',s,e,(t=>t.match(/groups\/(.+)\/?/)?.[1]?.split('/')?.[0]));b('处理后的群组列表',{count:a.length,groups:a});for(const s of a){t.push(e?this.#ht(s):this.#pt(s)),await P(1e3)}}if(this.shouldProcessTask('officialGroups',e)){const s=this.getRealParams('officialGroups',a,e,(t=>t.match(/games\/(.+)\/?/)?.[1]));for(const a of s){t.push(e?this.#gt(a):this.#mt(a)),await P(1e3)}}if(this.shouldProcessTask('wishlists',e)){const s=this.getRealParams('wishlists',r,e,(t=>t.match(/app\/([\d]+)/)?.[1]));for(const a of s){t.push(e?this.#wt(a):this.#ft(a)),await P(1e3)}}if(this.shouldProcessTask('follows',e)){const s=this.getRealParams('follows',i,e,(t=>t.match(/app\/([\d]+)/)?.[1]));for(const a of s){t.push(this.#At(a,e)),await P(1e3)}}if(this.shouldProcessTask('playTime',e)){const s=this.getRealParams('playTime',m,e,(t=>`${t.split('-')[0]}-${t.match(/app\/([\d]+)/)?.[1]||''}`));if(s.length>0){const a=Math.max(...s.map((t=>parseInt(t.split('-')[0],10)||0))),r=s.filter((t=>{const[e,s]=t.split('-');return(parseInt(e,10)||0)>0&&s})).map((t=>t.split('-')[1]));t.push(this.#Dt(r.join(','),a,e)),await P(1e3)}}if(this.shouldProcessTask('forums',e)){const s=this.getRealParams('forums',o,e,(t=>t.match(/app\/([\d]+)/)?.[1]));for(const a of s){t.push(this.#kt(a,e)),await P(1e3)}}if(this.shouldProcessTask('workshops',e)){const s=this.getRealParams('workshops',n,e,(t=>t.match(/\?id=([\d]+)/)?.[1]));for(const a of s){t.push(this.#yt(a,e)),await P(1e3)}}if(e&&g.doTask.steam.workshopVotes){const s=this.getRealParams('workshopVotes',c,e,(t=>t.match(/\?id=([\d]+)/)?.[1]));for(const e of s){t.push(this.#Tt(e)),await P(1e3)}}if(this.shouldProcessTask('curators',e)){const s=this.getRealParams('curators',u,e,(t=>t.match(/curator\/([\d]+)/)?.[1])),a=this.getRealParams('curatorLikes',l,e,(t=>t.match(/https?:\/\/store\.steampowered\.com\/(.*?)\/([^/?]+)/)?.slice(1,3).join('/')));for(const a of s){t.push(this.#bt(a,e)),await P(1e3)}for(const s of a){t.push(this.#vt(s,e)),await P(1e3)}}if(e&&g.doTask.steam.announcements){const s=this.getRealParams('announcements',d,e,(t=>t.includes('store.steampowered.com')?t.match(/store\.steampowered\.com\/news\/app\/([\d]+)\/view\/([\d]+)/)?.slice(1,3).join('/'):t.match(/steamcommunity\.com\/games\/([\d]+)\/announcements\/detail\/([\d]+)/)?.slice(1,3).join('/')));for(const e of s){t.push(this.#xt(e)),await P(1e3)}}if(e&&g.doTask.steam.licenses&&h.length>0){for(const e of h){const[s,a]=e.split('-'),r=a.split(',');for(const e of r){t.push(this.#St(`${s}-${e}`)),await P(1e3)}}}if(e&&g.doTask.steam.playtests){const s=this.getRealParams('playtests',p,e,(t=>t.match(/app\/([\d]+)/)?.[1]));for(const e of s){t.push(this.#Ct(e)),await P(1e3)}}b('开始执行所有任务');const w=await Promise.all(t);return this.#lt.find((t=>t instanceof _))?.resetArea(),b('所有任务执行完成',{success:w.every((t=>t))}),w.every((t=>t))}catch(t){return b('处理Steam任务时发生错误',{error:t}),S(t,'Steam.toggle'),!1}}shouldProcessTask(t,e){if(b('检查是否处理任务',{taskType:t,doTask:e}),e){const e=g.doTask.steam[t];return b('检查doTask配置',{taskType:t,result:e}),g.doTask.steam[t]}const s=t;return s in g.undoTask.steam&&g.undoTask.steam[s]}#c(t,e,s){try{this.#e[t][e]=s,GM_setValue('steamCache',this.#e)}catch(t){S(t,'SteamWeb.setCache')}}#dt(t,e,s){return t?e?s?[new Z(g.ASF),new _]:[new _,new Z(g.ASF)]:[new Z(g.ASF)]:[new _]}}class et{undoneTasks;socialTasks;giveawayId;socialInitialized={discord:!1,instagram:!1,reddit:!1,twitch:!1,twitter:!1,vk:!1,youtube:!1,steamStore:!1,steamCommunity:!1};initialized=!1;steamTaskType={steamStore:!1,steamCommunity:!1};social={};async#Gt(t,e){try{b('开始绑定社交媒体',{name:t});const s=await e;return b('绑定结果',{name:t,result:s}),{name:t,result:s}}catch(e){return b('绑定失败',{name:t,error:e}),S(e,'Website.bind'),{name:t,result:!1}}}async initSocial(t){try{b('开始初始化社交媒体',{action:t});const e=[],s='do'===t?this.undoneTasks:this.socialTasks;if(s.discord){const a=Object.values(s.discord).reduce(((t,e)=>[...t,...e])).length>0;b('检查 Discord 任务',{hasDiscord:a}),!a||this.socialInitialized.discord&&this.social.discord||(b('初始化 Discord'),this.social.discord=new U,e.push(this.#Gt('discord',this.social.discord.init(t))))}if(s.reddit){const t=Object.values(s.reddit).reduce(((t,e)=>[...t,...e])).length>0;b('检查 Reddit 任务',{hasReddit:t}),!t||this.socialInitialized.reddit&&this.social.reddit||(b('初始化 Reddit'),this.social.reddit=new Y,e.push(this.#Gt('reddit',this.social.reddit.init())))}if(s.twitch){const t=Object.values(s.twitch).reduce(((t,e)=>[...t,...e])).length>0;b('检查 Twitch 任务',{hasTwitch:t}),!t||this.socialInitialized.twitch&&this.social.twitch||(b('初始化 Twitch'),this.social.twitch=new V,e.push(this.#Gt('twitch',this.social.twitch.init())))}if(s.twitter){const t=Object.values(s.twitter).reduce(((t,e)=>[...t,...e])).length>0;b('检查 Twitter 任务',{hasTwitter:t}),!t||this.socialInitialized.twitter&&this.social.twitter||(b('初始化 Twitter'),this.social.twitter=new z,e.push(this.#Gt('twitter',this.social.twitter.init())))}if(s.vk){const t=Object.values(s.vk).reduce(((t,e)=>[...t,...e])).length>0;b('检查 VK 任务',{hasVk:t}),!t||this.socialInitialized.vk&&this.social.vk||(b('初始化 VK'),this.social.vk=new q,e.push(this.#Gt('vk',this.social.vk.init())))}if(s.youtube){const t=Object.values(s.youtube).reduce(((t,e)=>[...t,...e])).length>0;b('检查 YouTube 任务',{hasYoutube:t}),!t||this.socialInitialized.youtube&&this.social.youtube||(b('初始化 YouTube'),this.social.youtube=new X,e.push(this.#Gt('youtube',this.social.youtube.init())))}if(s.steam){const t=Object.values(s.steam).reduce(((t,e)=>[...t,...e])).length;if(b('检查 Steam 任务',{steamLength:t}),t>0){this.social.steam||(b('创建 Steam 实例'),this.social.steam=new tt);const a=Object.keys(s.steam).map((t=>['groupLinks','officialGroupLinks','forumLinks','workshopLinks','workshopVoteLinks'].includes(t)&&s.steam?.[t]?.length||0)).reduce(((t,e)=>t+e),0);b('Steam 社区任务数量',{steamCommunityLength:a}),t-a>0&&(this.steamTaskType.steamStore=!0,this.socialInitialized.steamStore||(b('初始化 Steam 商店'),e.push(this.#Gt('steamStore',this.social.steam.init('store'))))),a>0&&(this.socialInitialized.steamCommunity||(this.steamTaskType.steamCommunity=!0,b('初始化 Steam 社区'),e.push(this.#Gt('steamCommunity',this.social.steam.init('community')))))}}return s.links&&s.links.length>0&&(b('初始化链接访问',{linksCount:s.links.length}),this.social.visitLink=M),b('等待所有社交媒体初始化完成'),await Promise.all(e).then((t=>{let e=!0;for(const s of t){s.result?(b('社交媒体初始化成功',{name:s.name}),this.socialInitialized[s.name]=s.result):(b('社交媒体初始化失败',{name:s.name}),e=!1)}return b('社交媒体初始化完成',{allSuccess:e}),e}))}catch(t){return b('初始化社交媒体失败',{error:t}),S(t,'Website.initSocial'),!1}}uniqueTasks(t){try{b('开始去重任务');const e={};for(const[s,a]of Object.entries(t)){b('处理社交媒体任务',{social:s}),e[s]={};for(const[t,r]of Object.entries(a)){b('处理任务类型',{social:s,type:t}),e[s][t]=B(r)}}return b('任务去重完成'),e}catch(e){return b('任务去重失败',{error:e}),S(e,'Website.uniqueTasks'),t}}async toggleTask(t){try{if(b('开始切换任务状态',{action:t}),!this.initialized&&!this.init()){return b('初始化失败'),!1}if(!await this.classifyTask(t)){return b('任务分类失败'),!1}b('初始化社交媒体'),await this.initSocial(t);const e=[],s='do'===t,a=s?this.undoneTasks:this.socialTasks;if(!0===this.socialInitialized.discord&&this.social.discord&&(b('处理 Discord 任务'),e.push(this.social.discord.toggle({doTask:s,...a.discord}))),!0===this.socialInitialized.reddit&&this.social.reddit&&(b('处理 Reddit 任务'),e.push(this.social.reddit.toggle({doTask:s,...a.reddit}))),!0===this.socialInitialized.twitch&&this.social.twitch&&(b('处理 Twitch 任务'),e.push(this.social.twitch.toggle({doTask:s,...a.twitch}))),!0===this.socialInitialized.twitter&&this.social.twitter&&(b('处理 Twitter 任务'),e.push(this.social.twitter.toggle({doTask:s,...a.twitter}))),!0===this.socialInitialized.vk&&this.social.vk&&(b('处理 VK 任务'),e.push(this.social.vk.toggle({doTask:s,...a.vk}))),!0===this.socialInitialized.youtube&&this.social.youtube&&(b('处理 YouTube 任务'),e.push(this.social.youtube.toggle({doTask:s,...a.youtube}))),this.steamTaskType.steamCommunity&&!0!==this.socialInitialized.steamCommunity||this.steamTaskType.steamStore&&!0!==this.socialInitialized.steamStore||!this.social.steam||(b('处理 Steam 任务'),e.push(this.social.steam.toggle({doTask:s,...a.steam}))),this.social.visitLink&&a.links&&s){b('处理链接任务',{linksCount:a.links.length});for(const t of a.links){e.push(this.social.visitLink(t))}}if(s&&a.extra&&this.extraDoTask){Object.values(a.extra).reduce(((t,e)=>[...t,...e])).length>0&&(b('处理额外任务'),e.push(this.extraDoTask(a.extra)))}return b('等待所有任务完成'),await Promise.all(e),b('所有任务完成'),E({}).success(f('allTasksComplete')),!0}catch(t){return b('切换任务失败',{error:t}),S(t,'Website.toggleTask'),!1}}async doTask(){try{b('开始执行任务');const t=await this.toggleTask('do');return b('任务执行完成',{success:t}),t}catch(t){return b('执行任务失败',{error:t}),S(t,'Website.doTask'),!1}}async undoTask(){try{b('开始撤销任务');const t=await this.toggleTask('undo');return b('任务撤销完成',{success:t}),t}catch(t){return b('撤销任务失败',{error:t}),S(t,'Website.undoTask'),!1}}}const st=JSON.stringify({steam:{groupLinks:[],wishlistLinks:[],curatorLinks:[],followLinks:[],playTimeLinks:[]},discord:{serverLinks:[]},vk:{nameLinks:[]},youtube:{channelLinks:[]},extra:{website:[]}});const at={steam:{groupLinks:[],wishlistLinks:[],curatorLinks:[],curatorLikeLinks:[],followLinks:[],forumLinks:[],announcementLinks:[],workshopVoteLinks:[],playtestLinks:[],playTimeLinks:[]},discord:{serverLinks:[]},vk:{nameLinks:[]},twitch:{channelLinks:[]},reddit:{redditLinks:[]},youtube:{channelLinks:[],likeLinks:[]},twitter:{userLinks:[],retweetLinks:[]}};class rt extends et{name='GiveawaySu';socialTasks=(()=>at)();undoneTasks=(()=>at)();buttons=['doTask','undoTask'];static test(){const t=window.location.href,e=/^https?:\/\/giveaway\.su\/giveaway\/view\/[\d]+/.test(t);return b('检查网站匹配',{url:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('登录检查失败'),E({}).warning(f('checkLoginFailed'))),await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed'))),b('显示网站通知'),E({}).warning(f('gsNotice'))}catch(t){b('后续操作失败',{error:t}),S(t,'Giveawaysu.after')}}init(){try{b('初始化 GiveawaySu');const t=E({text:f('initing')});if($('a.steam-login').length>0){return b('发现未登录状态，重定向到 Steam 登录'),window.open('/steam/redirect','_self'),t.warning(f('needLogin')),!1}return this.#Bt()?(this.initialized=!0,b('初始化完成'),t.success(),!0):(b('获取抽奖ID失败'),!1)}catch(t){return b('初始化失败',{error:t}),S(t,'Giveawaysu.init'),!1}}async classifyTask(t){try{b('开始分类任务',{action:t});const e=E({text:f('getTasksInfo')});if('undo'===t){return b('恢复已保存的任务信息'),this.socialTasks=GM_getValue(`gasTasks-${this.giveawayId}`)?.tasks||at,!0}const s=$('#actions tr');if(!s.length){return b('未找到任务'),e.warning(f('noTasks')),!0}b('检查并处理 Discord 和 Twitch 绑定'),$('div.bind-discord').is(':visible')&&(b('点击 Discord 绑定按钮'),$('div.bind-discord a')[0]?.click()),$('div.bind-twitch').is(':visible')&&(b('点击 Twitch 绑定按钮'),$('div.bind-twitch a')[0]?.click());const a=async t=>{const e=$(t).find('td:not(".hidden")'),s=e.eq(1).find('a:not([data-trigger="link"])'),a=e.eq(2).find('a:not([data-trigger="link"])'),r=s.length>0?s:a;if(!r.length){return b('跳过无效任务'),!0}const i=e.eq(0).find('i').attr('class')||'',o=r.text().trim(),n=r.attr('href');if(b('处理任务',{taskIcon:i,taskName:o,taskHref:n}),i.includes('ban')||/disable adblock/gi.test(o)){return b('跳过禁用任务'),!0}if(!n){return b('任务链接为空'),!1}try{b('获取重定向链接');const t=await F(n);return t?(b('分类任务',{taskLink:t,taskIcon:i,taskName:o}),this.#Pt(t,i,o),!0):(b('获取重定向链接失败'),!1)}catch(t){return b('获取重定向链接失败',{error:t}),S(t,'Giveawaysu.classifyTask->getRedirectLink'),!1}};b('开始处理所有任务');const r=await Promise.all(Array.from(s).map(a));return r.some((t=>t))?(b('任务处理完成'),e.success(),this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.undoneTasks,b('保存任务信息'),GM_setValue(`gasTasks-${this.giveawayId}`,{tasks:this.socialTasks,time:(new Date).getTime()}),!0):(b('所有任务处理失败'),e.error(f('allTasksFailed')),!1)}catch(t){return b('任务分类失败',{error:t}),S(t,'Giveawaysu.classifyTask'),!1}}static TASK_PATTERNS={wishlist:/wishlist.*game|add.*wishlist/gim,follow:/follow.*button/gim,twitter:/(on twitter)|(Follow.*on.*Facebook)/gim,vkGroup:/join.*vk.*group/gim,youtubeVideo:/(watch|like).*video/gim,youtubeChannel:/subscribe.*youtube.*channel/gim,watchArt:/watch.*art/gim,reddit:/subscribe.*subreddit|follow.*reddit/gim,twitchChannel:/follow.*twitch.*channel/gim,instagram:/follow.*instagram/gim,discord:/join.*discord/gim,playtest:/request.*playtest/gim,steamForum:/subscribe.*steam.*forum/gim,curator:/(follow|subscribe).*curator/gim,curatorLink:/^https?:\/\/store\.steampowered\.com\/curator\//,announcement:/like.*announcement/gim,steamGroup:/join/gi};#Pt(t,e,s){try{b('开始分类任务',{taskLink:t,taskIcon:e,taskName:s});const{TASK_PATTERNS:a}=rt;if(e.includes('steam')&&a.steamGroup.test(s)){return b('添加 Steam 组任务'),void this.undoneTasks.steam.groupLinks.push(t)}if(a.announcement.test(s)){return b('添加 Steam 公告任务'),void this.undoneTasks.steam.announcementLinks.push(t)}if(a.curator.test(s)&&a.curatorLink.test(t)){return b('添加 Steam 鉴赏家关注任务'),void this.undoneTasks.steam.curatorLinks.push(t)}if(e.includes('steam')&&/follow|subscribe/gim.test(s)){return b('添加 Steam 鉴赏家点赞任务'),void this.undoneTasks.steam.curatorLikeLinks.push(t)}if(a.steamForum.test(s)){return b('添加 Steam 论坛任务'),void this.undoneTasks.steam.forumLinks.push(t)}if(e.includes('thumbs-up')&&/^https?:\/\/steamcommunity\.com\/sharedfiles\/filedetails\/\?id=[\d]+/.test(t)){return b('添加 Steam 创意工坊投票任务'),void this.undoneTasks.steam.workshopVoteLinks.push(t)}if(e.includes('plus')&&a.playtest.test(s)){return b('添加 Steam 游戏测试任务'),void this.undoneTasks.steam.playtestLinks.push(t)}if(e.includes('discord')||a.discord.test(s)){return b('添加 Discord 服务器任务'),void this.undoneTasks.discord.serverLinks.push(t)}if(e.includes('instagram')||a.instagram.test(s)){return void b('跳过 Instagram 任务')}if(e.includes('twitch')||a.twitchChannel.test(s)){return b('添加 Twitch 频道任务'),void this.undoneTasks.twitch.channelLinks.push(t)}if(e.includes('reddit')||a.reddit.test(s)){return b('添加 Reddit 任务'),void this.undoneTasks.reddit.redditLinks.push(t)}if(a.watchArt.test(s)){return b('添加创意工坊物品任务'),void this.undoneTasks.steam.workshopVoteLinks.push(t)}if(a.youtubeChannel.test(s)){return b('添加 YouTube 频道任务'),void this.undoneTasks.youtube.channelLinks.push(t)}if(a.youtubeVideo.test(s)||(e.includes('youtube')||e.includes('thumbs-up'))&&a.youtubeVideo.test(s)){return b('添加 YouTube 视频任务'),void this.undoneTasks.youtube.likeLinks.push(t)}if(e.includes('vk')||a.vkGroup.test(s)){return b('添加 VK 任务'),void this.undoneTasks.vk.nameLinks.push(t)}if(a.twitter.test(s)){return void b('跳过 Twitter 任务')}if(a.wishlist.test(s)&&(b('添加 Steam 愿望单任务'),this.undoneTasks.steam.wishlistLinks.push(t)),a.follow.test(s)){return b('添加 Steam 关注任务'),void this.undoneTasks.steam.followLinks.push(t)}b('未识别的任务类型',{taskLink:t,taskIcon:e,taskName:s})}catch(t){b('任务分类失败',{error:t}),S(t,'Giveawaysu.classifyTaskByType')}}#Lt(){try{if(b('检查登录状态'),!g.other.checkLogin){return b('跳过登录检查'),!0}const t=$('a.steam-login').length>0;return t&&(b('未登录，重定向到 Steam 登录'),window.open('/steam/redirect','_self')),b('登录检查完成',{needLogin:t}),!0}catch(t){return b('登录检查失败',{error:t}),S(t,'Giveawaysu.checkLogin'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=$('.giveaway-ended').length>0,s=0===$('.giveaway-key').length;if(b('检查抽奖状态',{isEnded:e,hasNoKeys:s}),!e||!s){return!0}b('没有剩余密钥，显示确认对话框');const{value:a}=await t.fire({icon:'warning',title:f('notice'),text:f('noKeysLeft'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return a&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'Giveawaysu.checkLeftKey'),!1}}#Bt(){try{b('从URL获取抽奖ID');const t=window.location.href.match(/\/view\/([\d]+)/)?.[1];return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({text:f('getFailed','GiveawayId')}),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'Giveawaysu.getGiveawayId'),!1}}}const it=JSON.stringify({steam:{groupLinks:[],officialGroupLinks:[],wishlistLinks:[],curatorLinks:[]},discord:{serverLinks:[]},extra:{videoTasks:[]},links:[]});const ot=JSON.stringify({steam:{groupLinks:[],wishlistLinks:[],curatorLinks:[],curatorLikeLinks:[]},twitter:{userLinks:[]},vk:{nameLinks:[]},discord:{serverLinks:[]}});const nt={maxPoint:'99999999'};const ct={async classify(t){try{b('开始分类链接',{link:t});let e=!1;return/^https?:\/\/giveaway\.su\/giveaway\/view\/[\d]+/.test(t)?(b('匹配到 giveaway.su 链接'),e=await this.giveawaySu(t)):/^https?:\/\/givee\.club\/[\w]+?\/event\/[\d]+/.test(t)?(b('匹配到 givee.club 链接'),e=await this.giveeClub(t)):/^https?:\/\/gleam\.io\/.+?\/.+/.test(t)?(b('匹配到 gleam.io 链接'),e=await this.gleam(t)):/^https?:\/\/www\.indiedb\.com\/giveaways\/.+/.test(t)?(b('匹配到 indiedb.com 链接'),e=await this.indieDb(t)):/^https?:\/\/key-hub\.eu\/giveaway\/[\d]+/.test(t)?(b('匹配到 key-hub.eu 链接'),e=await this.keyhub(t)):/^https?:\/\/opquests\.com\/quests\/[\d]+/.test(t)?(b('匹配到 opquests.com 链接'),e=await this.opquests(t)):/^https?:\/\/itch\.io\/s\/[\d]+?\/.*/.test(t)?(b('匹配到 itch.io 链接'),e=await this.itch(t)):/^https?:\/\/freeanywhere\.net\/game\?n=[\d]+/.test(t)?(b('匹配到 freeanywhere.net 链接'),e=await this.freeanywhere(t)):b('未匹配到支持的链接格式'),b('链接分类完成',{result:e}),e}catch(t){return b('链接分类出错',{error:t}),S(t,'leftKeyChecker.classify'),!1}},async giveawaySu(t){try{b('开始检查 giveaway.su 链接',{link:t});const{result:e,data:s}=await I({url:t,method:'GET'});return'Success'!==e||200!==s?.status?(b('请求失败',{result:e,status:s?.status}),!1):s.responseText.includes('class="steam-login"')?(b('检测到未登录状态'),!1):s.responseText.includes('class="giveaway-ended"')?(b('检测到抽奖已结束'),'Ended'):(b('检测到抽奖进行中'),'Active')}catch(t){return b('检查 giveaway.su 链接出错',{error:t}),S(t,'leftKeyChecker.giveawaySu'),!1}},async giveeClub(t){try{b('开始检查 givee.club 链接',{link:t});const{result:e,data:s}=await I({url:t,method:'GET'});return'Success'!==e||200!==s?.status?(b('请求失败',{result:e,status:s?.status}),!1):s.responseText.includes('class="event-winner"')?(b('检测到已中奖'),'Won'):s.responseText.includes('class="event-ended"')?(b('检测到活动已结束'),'Ended'):(b('检测到活动进行中'),'Active')}catch(t){return b('检查 givee.club 链接出错',{error:t}),S(t,'leftKeyChecker.giveeClub'),!1}},async gleam(t){try{b('开始检查 gleam.io 链接',{link:t});const{result:e,data:s}=await I({url:t,method:'GET'});if('Success'!==e||200!==s?.status){return b('请求失败',{result:e,status:s?.status}),!1}if(/incentives&quot;:{&quot;[\d]+?&quot;:\[&quot;.+?&quot;\]/.test(s.responseText)){return b('检测到已中奖'),'Won'}const a=s.responseText.match(/<div class='popup-blocks-container'[\w\W]+?'>/)?.[0];if(!a){return b('未找到活动信息'),!1}const r=$(a).attr('ng-init')?.match(/initCampaign\(([\w\W]+?)\)$/)?.[1];if(!r){return b('未找到活动初始化数据'),!1}const{campaign:i}=JSON.parse(r);return b('解析活动数据',{campaign:i}),i.banned?(b('检测到活动已被禁止'),'Banned'):i.finished?(b('检测到活动已结束'),'Ended'):i.paused?(b('检测到活动已暂停'),'Paused'):(new Date).getTime()<1e3*i.starts_at?(b('检测到活动未开始'),'NotStart'):(b('检测到活动进行中'),'Active')}catch(t){return b('检查 gleam.io 链接出错',{error:t}),S(t,'leftKeyChecker.gleam'),!1}},async indieDb(t){try{b('开始检查 indiedb.com 链接',{link:t});const{result:e,data:s}=await I({url:t,method:'GET'});return'Success'!==e||200!==s?.status?(b('请求失败',{result:e,status:s?.status}),!1):s.responseText.includes('Congrats you WON')?(b('检测到已中奖'),'Won'):s.responseText.includes('Giveaway is closed')||s.responseText.includes('next time')?(b('检测到抽奖已结束'),'Ended'):(b('检测到抽奖进行中'),'Active')}catch(t){return b('检查 indiedb.com 链接出错',{error:t}),S(t,'leftKeyChecker.indieDb'),!1}},async keyhub(t){try{b('开始检查 key-hub.eu 链接',{link:t});const{result:e,data:s}=await I({url:t,method:'GET'});if('Success'!==e||200!==s?.status){return b('请求失败',{result:e,status:s?.status}),!1}const a=s.responseText.match(/<span id="keysleft">([\d]+?)<\/span>/)?.[1];return a?(b('检测到剩余密钥数量',{keysleft:a}),'0'===a?(b('检测到密钥已用完'),'Ended'):(b('检测到活动进行中'),`Active(${a})`)):(b('未找到剩余密钥信息'),!1)}catch(t){return b('检查 key-hub.eu 链接出错',{error:t}),S(t,'leftKeyChecker.keyhub'),!1}},async opquests(t){try{b('开始检查 opquests.com 链接',{link:t});const{result:e,data:s}=await I({url:t,method:'GET'});if(404===s?.status){return b('检测到活动不存在'),'Ended'}if('Success'!==e||200!==s?.status){return b('请求失败',{result:e,status:s?.status}),!1}const a=s.responseText.match(/<div class="">[\s]*?([\d]+?)[\s]*?of/)?.[1];return a?(b('检测到剩余密钥数量',{keysleft:a}),'0'===a?(b('检测到密钥已用完'),'Ended'):(b('检测到活动进行中'),`Active(${a})`)):(b('未找到剩余密钥信息'),!1)}catch(t){return b('检查 opquests.com 链接出错',{error:t}),S(t,'leftKeyChecker.opquests'),!1}},async itch(t){try{b('开始检查 itch.io 链接',{link:t});const{result:e,data:s}=await I({url:t,method:'GET'});if('Success'!==e||200!==s?.status){return b('请求失败',{result:e,status:s?.status}),!1}const a=s.responseText.match(/{"start_date":"[0-9A-Z-:]+?".*?"end_date":"([0-9A-Z-:]+?)".*?}/)?.[1];if(!a){return b('未找到结束日期信息'),!1}if(b('检测到活动结束日期',{endDate:a}),(new Date).getTime()>new Date(a).getTime()){return b('检测到活动已结束'),'Ended'}const i=r(a).format('YYYY-MM-DD HH:mm:ss');return b('检测到活动进行中',{formattedEndDate:i}),`Active(${i})`}catch(t){return b('检查 itch.io 链接出错',{error:t}),S(t,'leftKeyChecker.itch'),!1}},async freeanywhere(t){try{b('开始检查 freeanywhere.net 链接',{link:t});const{result:e,data:s}=await I({url:t,method:'GET'});if('Success'!==e||200!==s?.status){return b('请求失败',{result:e,status:s?.status}),!1}return s.responseText.includes('Giveaway ended')?(b('检测到活动已结束'),'Ended'):(b('检测到活动进行中'),'Active')}catch(t){return b('检查 freeanywhere.net 链接出错',{error:t}),S(t,'leftKeyChecker.freeanywhere'),!1}}},ut=JSON.stringify({steam:{groupLinks:[],wishlistLinks:[],curatorLinks:[],curatorLikeLinks:[],followLinks:[],forumLinks:[],announcementLinks:[],workshopVoteLinks:[],licenseLinks:[]},discord:{serverLinks:[]},vk:{nameLinks:[]},twitch:{channelLinks:[]},reddit:{redditLinks:[]},twitter:{userLinks:[],retweetLinks:[]},youtube:{channelLinks:[],likeLinks:[]}});class lt extends et{name='Keylol';socialTasks=(()=>JSON.parse(ut))();undoneTasks=(()=>JSON.parse(ut))();buttons=['doTask','undoTask','selectAll','selectNone','invertSelect'];static CONFIG={LINK_PATTERNS:{DISCORD:/^https?:\/\/discord\.com\/invite\/.+/,REDDIT:/^https?:\/\/www\.reddit\.com\/(r|user)\/.+/,INSTAGRAM:/^https:\/\/www\.instagram\.com\/.+/,TWITTER:/^https:\/\/(twitter|x)\.com\/.+/,TWITTER_RETWEET:/https:\/\/(twitter|x)\.com\/.*?\/status\/[\d]+/,TWITCH:/^https:\/\/(www\.)?twitch\.tv\/.+/,VK:/^https:\/\/vk\.com\/.+/,STEAM_CURATOR:/curator\/[\d]+/,STEAM_PUBLISHER:/(publisher|developer|franchise)\/.+/,STEAM_NEWS:/news(hub)?\/app\/[\d]+\/view\/[\d]+/,STEAM_APP:/app\/[\d]+/,STEAM_GROUP:/groups\/.+/,STEAM_ANNOUNCEMENT:/announcements\/detail\/[\d]+/,YOUTUBE:/youtube\.com/},SELECTORS:{MAIN_POST:{KEYLOL:'#postlist>div[id^="post_"]:first',DEFAULT:'div.container'}}};static test(){const{host:t}=window.location,e=$('.subforum_left_title_left_up a').eq(3).attr('href'),s=!('keylol.com'!==t||!e?.includes('319')&&!e?.includes('234'));return b('检查网站匹配',{host:t,link:e,isMatch:s}),s}init(){return b('初始化 Keylol'),!0}after(){try{b('开始处理页面链接');const t=$('Keylol'===this.name?lt.CONFIG.SELECTORS.MAIN_POST.KEYLOL:lt.CONFIG.SELECTORS.MAIN_POST.DEFAULT),e=t.find('a');b('找到所有链接',{count:e.length}),e.each(((t,e)=>{const s=$(e),a=s.attr('href');a&&this.#Ft(s,a)})),b('开始处理抽奖链接'),this.#Mt(t),'Keylol'===this.name&&(b('开始处理 Keylol 特定链接'),this.#Ot(t)),b('设置 MutationObserver'),this.#Rt()}catch(t){b('处理页面链接失败',{error:t}),S(t,'keylol.after')}}#Ft(t,e){b('分类处理链接',{href:e});const{LINK_PATTERNS:s}=lt.CONFIG;switch(!0){case s.DISCORD.test(e):b('发现 Discord 链接'),this.#Ut(t[0],'discord','serverLinks',e);break;case s.REDDIT.test(e):b('发现 Reddit 链接'),this.#Ut(t[0],'reddit','redditLinks',e);break;case s.TWITTER.test(e):s.TWITTER_RETWEET.test(e)?(b('发现 Twitter 转发链接'),this.#Ut(t[0],'twitter','retweetLinks',e)):(b('发现 Twitter 用户链接'),this.#Ut(t[0],'twitter','userLinks',e));break;case s.TWITCH.test(e):b('发现 Twitch 链接'),this.#Ut(t[0],'twitch','channelLinks',e);break;case s.VK.test(e):b('发现 VK 链接'),this.#Ut(t[0],'vk','nameLinks',e);break;case e.includes('store.steampowered.com'):b('发现 Steam 商店链接'),this.#Yt(t[0],e);break;case e.includes('steamcommunity.com'):b('发现 Steam 社区链接'),this.#Vt(t[0],e);break;case s.YOUTUBE.test(e):b('发现 YouTube 链接'),this.#Ut(t[0],'youtube','channelLinks',e),this.#Ut(t[0],'youtube','likeLinks',e)}}#Yt(t,e){b('处理 Steam 商店链接',{href:e});const{LINK_PATTERNS:s}=lt.CONFIG;s.STEAM_CURATOR.test(e)?(b('发现 Steam 鉴赏家链接'),this.#Ut(t,'steam','curatorLinks',e)):s.STEAM_PUBLISHER.test(e)?(b('发现 Steam 发行商链接'),this.#Ut(t,'steam','curatorLikeLinks',e)):s.STEAM_NEWS.test(e)?(b('发现 Steam 新闻链接'),this.#Ut(t,'steam','announcementLinks',e)):s.STEAM_APP.test(e)&&(b('发现 Steam 应用链接'),this.#Ut(t,'steam','followLinks',e),this.#Ut(t,'steam','wishlistLinks',e))}#Vt(t,e){b('处理 Steam 社区链接',{href:e});const{LINK_PATTERNS:s}=lt.CONFIG;s.STEAM_GROUP.test(e)?(b('发现 Steam 组链接'),this.#Ut(t,'steam','groupLinks',e)):s.STEAM_ANNOUNCEMENT.test(e)&&(b('发现 Steam 公告链接'),this.#Ut(t,'steam','announcementLinks',e))}#Mt(t){b('开始处理抽奖链接');const e=t.find('a[href*="giveaway.su/giveaway/view/"],a[href*="givee.club/"],a[href*="gleam.io/"],a[href*="www.indiedb.com/giveaways/"],a[href*="key-hub.eu/giveaway/"],a[href*="opquests.com/quests/"],a[href*="freeanywhere.net/game?n="],a[href*="itch.io/s/"]:visible');b('找到抽奖链接',{count:e.length}),e.each(((t,e)=>{const s=$(e).attr('href');s&&(b('检查抽奖链接状态',{href:s}),ct.classify(s).then((t=>{if(!t){return}const e=/^Active/.test(t)?'active':'not-active',a=/^Active/.test(t)?f('Active'):f(t);b('更新抽奖链接状态',{href:s,status:t,statusClass:e}),$(`a[href="${s}"]`).after(`<font class="auto-task-giveaway-status ${e}" title="${a}">${t}</font>`)})).catch((t=>{b('检查抽奖链接状态失败',{href:s,error:t}),S(t,'keylol.after -> leftKeyChecker')})))}))}#Ot(t){b('开始处理 Keylol 特定链接');const e=t.find('a[href^="#asf"]:visible');b('找到 ASF 链接',{count:e.length}),e.each(((t,e)=>{const s=$(e).attr('href');if(!s){return}b('处理 ASF 链接',{href:s});const a=$(`a[href="${s}"]`);a.after('<span style="color: #ccc; margin: 0 -5px 0 5px"> | </span>'),this.#Ut(a.next()[0],'steam','licenseLinks',`appid-${s.replace('#asf','')}`)}));const s=t.find('a[href*="steamdb.info/sub/"]:visible');b('找到 SteamDB 链接',{count:s.length}),s.each(((t,e)=>{const s=$(e).attr('href');if(!s){return}const a=s.match(/^https:\/\/steamdb\.info\/sub\/([\d]+)/)?.[1];a&&(b('处理 SteamDB 链接',{href:s,subid:a}),this.#Ut(e,'steam','licenseLinks',`subid-${a}`))}));const a=t.find('.blockcode:contains("addlicense"):visible');b('找到 ASF 代码块',{count:a.length}),a.each(((t,e)=>{const s=[...e.innerText.matchAll(/a(pp)?\/([\d]+)/g)].map((t=>t?.[2])).filter((t=>t));s.length>0&&(b('处理 ASF 代码块 appid',{appid:s}),this.#Ut($(e).children('em')[0],'steam','licenseLinks',`appid-${s.join(',')}`));const a=e.innerText.match(/[\d]+/g)?.filter((t=>!s.includes(t)));a?.length&&(b('处理 ASF 代码块 subid',{subid:a}),this.#Ut($(e).children('em')[0],'steam','licenseLinks',`subid-${a.join(',')}`))}))}#Rt(){if(b('设置 MutationObserver'),$('#threadindex').length>0){const[t]=$('#postlist').children('div[id^="post_"]'),e=new MutationObserver((()=>{b('检测到 DOM 变化，重新处理页面'),e.disconnect(),this.after()}));e.observe(t,{childList:!0}),b('MutationObserver 设置完成')}}classifyTask(t){try{b('开始分类任务',{action:t}),this.socialTasks=JSON.parse(ut),this.undoneTasks=JSON.parse(ut);const e=$('.auto-task-keylol[selected="selected"]:visible').get();b('找到选中的按钮',{count:e.length});for(const s of e){const e=s.getAttribute('data-social'),a=s.getAttribute('data-type'),r=s.getAttribute('data-link');b('处理任务按钮',{social:e,type:a,link:r}),e&&a&&r?e in this.undoneTasks?('do'===t&&a in this.undoneTasks[e]&&(b('添加到未完成任务',{social:e,type:a,link:r}),this.undoneTasks[e][a].push(r)),'undo'===t&&a in this.socialTasks[e]&&(b('添加到社交任务',{social:e,type:a,link:r}),this.socialTasks[e][a].push(r))):b('跳过未知社交平台',{social:e}):b('跳过无效任务按钮')}return this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.uniqueTasks(this.socialTasks),b('任务分类完成',{undoneTasks:this.undoneTasks,socialTasks:this.socialTasks}),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'Keylol.classifyTask'),!1}}selectAll(){try{b('选择所有可见任务');const t=$('.auto-task-keylol:visible');t.attr('selected','selected'),b('选择完成',{count:t.length})}catch(t){b('选择所有任务失败',{error:t}),S(t,'Keylol.selectAll')}}selectNone(){try{b('取消选择所有可见任务');const t=$('.auto-task-keylol:visible');t.removeAttr('selected'),b('取消选择完成',{count:t.length})}catch(t){b('取消选择所有任务失败',{error:t}),S(t,'Keylol.selectNone')}}invertSelect(){try{b('反转选择所有可见任务');const t=$('.auto-task-keylol:visible');t.each(((t,e)=>{const s=$(e);s.attr('selected')?s.removeAttr('selected'):s.attr('selected','selected')})),b('反转选择完成',{count:t.length})}catch(t){b('反转选择任务失败',{error:t}),S(t,'Keylol.invertSelect')}}#Ut(t,e,s,a){try{if(b('添加任务按钮',{social:e,linkType:s,link:a}),!(t&&e&&s&&a)){return void b('跳过无效按钮参数')}const r=$('<a>',{href:'javascript:void(0);',class:'auto-task-keylol',target:'_self','data-social':e,'data-type':s,'data-link':a,text:s.replace('Links',''),onclick:'this.getAttribute("selected") ? this.removeAttribute("selected") : this.setAttribute("selected", "selected")'});$(t).after(r),b('按钮添加成功')}catch(t){b('添加按钮失败',{error:t,social:e,linkType:s}),S(t,`keylol.addBtn: ${e}/${s}`)}}}const dt={steam:{groupLinks:[],wishlistLinks:[],followLinks:[],curatorLikeLinks:[],playTimeLinks:[]},twitter:{userLinks:[],retweetLinks:[]},discord:{serverLinks:[]}};const ht=JSON.stringify({steam:{groupLinks:[],wishlistLinks:[],followLinks:[],curatorLinks:[],curatorLikeLinks:[],playTimeLinks:[]},twitter:{userLinks:[],retweetLinks:[]},twitch:{channelLinks:[]},discord:{serverLinks:[]},youtube:{channelLinks:[]},extra:{gleam:[]}});const pt={username:'',email:''};const gt=()=>{b('开始生成全局选项表单');const t=Object.entries(g).map((t=>{let[e,s]=t;return b('处理选项类型',{type:e,optionsCount:Object.keys(s).length}),Object.entries(s).map(((t,a)=>{let[r,i]=t;const o=['other','position','hotKey','ASF'].includes(e)?Object.keys(s).length:Object.values(s).reduce(((t,e)=>t+Object.keys(e).length),0);return((t,e,s,a,r)=>{b('开始生成表单行',{type:t,option:e,isFirstOption:a,totalOptions:r});const i=`${O(t)}44`,o=`${O(t)}66`;if(['other','position','hotKey','ASF'].includes(t)){const n=a?`<th rowspan="${r}" style="background-color: ${o}">${f(t)}</th>`:'';return'boolean'==typeof s?(b('生成布尔类型选项行',{type:t,option:e,value:s}),`\n        <tr style="background-color: ${i}">\n          ${n}\n          <td>${f(e)}</td>\n          <td>\n            <label>\n              <input type="checkbox" name="${t}.${e}"${s?' checked="checked"':''}/>\n              <span><i></i></span>\n            </label>\n          </td>\n        </tr>`):(b('生成文本类型选项行',{type:t,option:e,value:s}),`\n      <tr style="background-color: ${i}">\n        ${n}\n        <td>${f(e)}</td>\n        <td>\n          <input class="editOption" type="text" name="${t}.${e}" value="${s}"/>\n        </td>\n      </tr>`)}return b('生成社交媒体选项行',{type:t,option:e,dataKeys:Object.keys(s)}),Object.entries(s).map((s=>{let[i,n]=s;return`\n    <tr style="background-color: ${O(e)}66">\n      ${a?`<th rowspan="${r}" style="background-color: ${o}">${f(t)}</th>`:''}\n      <td>${e}.${f(i)}</td>\n      <td>\n        <label>\n          <input type="checkbox" name="${t}.${e}.${i}"${n?' checked="checked"':''}/>\n          <span><i></i></span>\n        </label>\n      </td>\n    </tr>`})).join('')})(e,r,i,0===a,o)})).join('')})).join('');return b('表单生成完成'),`\n    <form id="globalOptionsForm" class="auto-task-form">\n      <table class="auto-task-table">\n        <thead>\n          <tr>\n            <td>${f('type')}</td>\n            <td>${f('option')}</td>\n            <td>${f('value')}</td>\n          </tr>\n        </thead>\n        <tbody>\n          ${t}\n        </tbody>\n      </table>\n    </form>`},mt=()=>{try{b('开始保存全局选项数据');const e=$('#globalOptionsForm').serializeArray();b('获取表单数据',{formDataLength:e.length});const s=(t=>{b('开始处理表单数据',{formDataLength:t.length});const e={};return t.forEach((t=>{e[t.name]=t.value})),b('表单数据处理完成',{processedData:e}),e})(e);b('开始更新全局选项'),$.makeArray($('#globalOptionsForm input')).forEach((t=>{((t,e)=>{const s=$(t).attr('name');if(!s){return void b('元素缺少name属性',{element:t})}b('开始更新全局选项',{name:s});const a=s.split('.'),r=e[s],i=r?'on'===r||r:r??!1;b('处理选项值',{keys:a,originalValue:r,processedValue:i}),3===a.length?(g[a[0]][a[1]][a[2]]=i,b('更新三级选项',{path:a.join('.'),value:i})):2===a.length&&(g[a[0]][a[1]]=i,b('更新二级选项',{path:a.join('.'),value:i}))})(t,s)})),GM_setValue('globalOptions',g),b('全局选项保存完成'),t.fire({title:f('changeGlobalOptionsSuccess'),icon:'success'})}catch(t){b('保存全局选项时发生错误',{error:t}),S(t,'saveData')}},wt=e=>{try{b('开始显示全局选项配置界面',{showType:e});const s=gt();'swal'===e?(b('使用弹窗显示选项'),t.fire({title:f('globalOptions'),html:s,showConfirmButton:!0,confirmButtonText:f('save'),showCancelButton:!0,cancelButtonText:f('close')}).then((t=>{let{isConfirmed:e}=t;e?(b('用户确认保存选项'),mt()):b('用户取消保存选项')}))):(b('使用页面内显示选项'),$('body').append(`<h2>${f('globalOptions')}</h2>${s}`))}catch(t){b('显示全局选项配置界面时发生错误',{error:t}),S(t,'changeGlobalOptions')}},ft={discord:{servers:[]},instagram:{users:[]},twitch:{channels:[]},twitter:{users:[],retweets:[],likes:[]},vk:{names:[]},youtube:{channels:[],likes:[]},reddit:{reddits:[]},steam:{groups:[],officialGroups:[],wishlists:[],follows:[],forums:[],workshops:[],curators:[],workshopVotes:[],curatorLikes:[],announcements:[],licenses:[],playtests:[],playTime:[]}},At={DISCORD_INVITE:/invite\/(.+)/,INSTAGRAM_USER:/https:\/\/www\.instagram\.com\/(.+)?\//,TWITCH_CHANNEL:/https:\/\/(www\.)?twitch\.tv\/(.+)/,TWITTER_USER:/https:\/\/twitter\.com\/(.+)/,TWITTER_STATUS:/https:\/\/twitter\.com\/.*?\/status\/([\d]+)/,VK_NAME:/https:\/\/vk\.com\/([^/]+)/,REDDIT_USER:/https?:\/\/www\.reddit\.com\/user\/([^/]*)/,REDDIT_SUBREDDIT:/https?:\/\/www\.reddit\.com\/r\/([^/]*)/,STEAM_GROUP:/groups\/(.+)\/?/,STEAM_APP:/app\/([\d]+)/,STEAM_WORKSHOP:/\?id=([\d]+)/,STEAM_CURATOR:/curator\/([\d]+)/,STEAM_STORE:/https?:\/\/store\.steampowered\.com\/(.*?)\/([^/?]+)/},kt={steam:['workshopVotes','curatorLikes','announcements'],twitter:['likes']},yt=function(e){try{b('开始显示白名单选项',{showType:e});const s=(t=>{try{b('开始合并白名单');const e={};for(const[s,a]of Object.entries(ft)){e[s]={...a,...t[s]}}return b('白名单合并完成'),e}catch(t){return b('合并白名单时发生错误',{error:t}),S(t,'assignWhiteList'),ft}})(GM_getValue('whiteList')||{});let a=`<form id="whiteListForm" class="auto-task-form">\n      <table class="auto-task-table">\n        <thead>\n          <tr>\n            <td>${f('website')}</td>\n            <td>${f('type')}</td>\n            <td>${f('edit')}</td>\n          </tr>\n        </thead>\n        <tbody>`;for(const[t,e]of Object.entries(s)){const s=Object.keys(e).filter((e=>!kt[t]?.includes(e)));a+=s.map(((e,a)=>{const r=`${O(t)}66`;return`\n          <tr style="background-color: ${r}">\n            ${0===a?`<th rowspan="${s.length}" style="background-color: ${r}">${t}</th>`:''}\n            <td>${f(e)}</td>\n            <td><button type="button" class="editWhiteList" data-value="${t}.${e}">${f('edit')}</button></td>\n          </tr>`})).join('')}a+='</tbody></table></form>','swal'===e||(b('使用页面显示白名单选项'),$('body').append(`<h2>${f('whiteList')}</h2>${a}`)),$('.editWhiteList').on('click',(function(){const e=$(this).attr('data-value');if(!e){return}const[a,r]=e.split('.'),i=s[a]?.[r];if(!i){return b('未找到白名单配置',{social:a,type:r}),void E({}).warning(f('whiteListNotFound',e))}b('编辑白名单',{social:a,type:r}),t.fire({title:f('changeWhiteListOption',e),input:'textarea',html:`\n          <input id="socialLink" class="swal2-input" placeholder="在此处输入链接获取id">\n          <button id="link2id" data-type="${e}" class="swal2-confirm swal2-styled">获取id</button>\n          <p style="margin-bottom:0 !important;">在下方填写白名单，每行一个</p>\n        `,inputValue:i.join('\n'),showConfirmButton:!0,confirmButtonText:f('save'),showCancelButton:!0,cancelButtonText:f('close'),showDenyButton:!0,denyButtonText:f('return')}).then((e=>{let{isDenied:i,isConfirmed:o,value:n}=e;i?b('返回白名单选项'):o&&n&&(b('保存白名单更改',{social:a,type:r,value:n}),s[a][r]=n.split('\n').filter(Boolean),GM_setValue('whiteList',s),t.fire({title:f('changeWhiteListSuccess'),icon:'success'}))})),$('#link2id').on('click',(async function(){const t=$(this).attr('data-type');if(!t){return}b('从链接获取ID按钮点击',{type:t});const e=await async function(t){try{b('开始从链接获取ID',{type:t});const e=$('#socialLink').val();let s='';switch(t){case'discord.servers':s=At.DISCORD_INVITE.exec(e)?.[1]||'';break;case'instagram.users':s=At.INSTAGRAM_USER.exec(e)?.[1]||'';break;case'twitch.channels':s=At.TWITCH_CHANNEL.exec(e)?.[2]||'';break;case'twitter.users':s=At.TWITTER_USER.exec(e)?.[1]||'';break;case'twitter.retweets':s=At.TWITTER_STATUS.exec(e)?.[1]||'';break;case'vk.names':s=At.VK_NAME.exec(e)?.[1]||'';break;case'youtube.channels':s=(await J(e,'channel'))?.params?.channelId||'';break;case'youtube.likes':s=(await J(e,'likeVideo'))?.params?.videoId||'';break;case'reddit.reddits':{const t=At.REDDIT_USER.exec(e),a=At.REDDIT_SUBREDDIT.exec(e);s=t?.[1]||a?.[1]||'';break}case'steam.groups':s=At.STEAM_GROUP.exec(e)?.[1]||'';break;case'steam.wishlists':case'steam.follows':case'steam.forums':case'steam.playtests':case'steam.playTime':s=At.STEAM_APP.exec(e)?.[1]||'';break;case'steam.workshops':s=At.STEAM_WORKSHOP.exec(e)?.[1]||'';break;case'steam.curators':if(e.includes('curator')){s=At.STEAM_CURATOR.exec(e)?.[1]||''}else{const t=At.STEAM_STORE.exec(e);if(!t){break}const[,a,r]=t,i=new tt;await i.init()&&(s=await i.getCuratorId(a,r)||'')}}return b('从链接获取ID结果',{type:t,id:s}),s}catch(t){return b('从链接获取ID时发生错误',{error:t}),S(t,'link2id'),f('getFailed','id')}}(t);$('#socialLink').val(e)}))}))}catch(t){b('显示白名单选项时发生错误',{error:t}),S(t,'whiteListOptions')}},Tt=async function(t,e,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{b('开始获取Gist数据',{gistId:e,fileName:s,test:a});const r=E({text:f('gettingData')}),{result:i,statusText:o,status:n,data:c}=await I({url:`https://api.github.com/gists/${e}`,headers:{Accept:'application/vnd.github.v3+json',Authorization:`token ${t}`},responseType:'json',method:'GET',timeout:3e4});if('Success'!==i){return b('获取Gist数据失败',{result:i,statusText:o,status:n}),r.error(`${i}:${o}(${n})`),!1}if(200!==c?.status){return b('获取Gist数据状态码错误',{status:c?.status}),r.error(`Error:${c?.statusText}(${c?.status})`),!1}const u=c.response?.files?.[s]?.content;if(!u){return b('获取的Gist数据为空'),r.error(`Error:${f('noRemoteData')}`),!1}if(a){return b('Gist数据测试成功'),r.success(),!0}try{const t=JSON.parse(u);return b('Gist数据解析成功',{contentLength:Object.keys(t).length}),r.success(),t}catch(t){return b('Gist数据解析失败',{error:t}),r.error(`Error:${f('errorRemoteDataFormat')}`),console.log('%c%s','color:white;background:red',`Auto-Task[Error]: getGistData\n${t.stack}`),!1}}catch(t){return b('获取Gist数据发生错误',{error:t}),S(t,'getGistData'),!1}},bt=async()=>{try{b('开始同步选项配置');const e={TOKEN:'',GIST_ID:'',FILE_NAME:'',SYNC_HISTORY:!0};let s=GM_getValue('gistOptions')||e;b('获取已保存的同步选项',s);const a=t=>`\n      <div class="gist-options-form">\n        <p>\n          <label for="github-token">Github Token</label>\n          <input\n            id="github-token"\n            class="swal2-input"\n            placeholder="Github Token"\n            value="${t.TOKEN}"\n            autocomplete="off"\n            spellcheck="false"\n          />\n        </p>\n        <p>\n          <label for="gist-id">Gist ID</label>\n          <input\n            id="gist-id"\n            class="swal2-input"\n            placeholder="Gist ID"\n            value="${t.GIST_ID}"\n            autocomplete="off"\n            spellcheck="false"\n          />\n        </p>\n        <p>\n          <label for="file-name">${f('fileName')}</label>\n          <input\n            id="file-name"\n            class="swal2-input"\n            placeholder="${f('fileName')}"\n            value="${t.FILE_NAME}"\n            autocomplete="off"\n            spellcheck="false"\n          />\n        </p>\n        <p class="sync-history-wrapper">\n          <label for="sync-history" class="swal2-checkbox-custom">\n            <input\n              id="sync-history"\n              type="checkbox"\n              ${t.SYNC_HISTORY?'checked="checked"':''}\n            />\n            <span class="swal2-label">${f('syncHistory')}</span>\n          </label>\n        </p>\n        <div class="button-group">\n          <button id="upload-data" type="button" class="swal2-confirm swal2-styled" onclick="handleUpload()">\n            ${f('upload2gist')}\n          </button>\n          <button id="download-data" type="button" class="swal2-confirm swal2-styled" onclick="handleDownload()">\n            ${f('downloadFromGist')}\n          </button>\n        </div>\n      </div>\n    `,r=async()=>{b('显示配置对话框');const e=await t.fire({title:f('gistOptions'),html:a(s),focusConfirm:!1,showLoaderOnConfirm:!0,footer:`<a href="https://auto-task-doc.js.org/guide/#%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5" target="_blank">${f('help')}</a>`,preConfirm:async()=>{const t={TOKEN:$('#github-token').val().trim(),GIST_ID:$('#gist-id').val().trim(),FILE_NAME:$('#file-name').val().trim(),SYNC_HISTORY:$('#sync-history').prop('checked')};return b('保存新的同步选项',t),GM_setValue('gistOptions',t),s=t,await Tt(t.TOKEN,t.GIST_ID,t.FILE_NAME,!0)},allowOutsideClick:()=>!t.isLoading(),confirmButtonText:f('saveAndTest'),showCancelButton:!0,cancelButtonText:f('close')});e.value?(b('配置测试成功'),await t.fire({icon:'success',title:f('testSuccess'),timer:2e3,timerProgressBar:!0}),await r()):void 0!==e.value&&(b('配置测试失败'),await t.fire({icon:'error',title:f('testFailed'),timer:2e3,timerProgressBar:!0}),await r())},i=async()=>{b('开始处理数据上传');const e=GM_getValue('gistOptions');if(!e?.TOKEN||!e?.GIST_ID||!e?.FILE_NAME){return b('配置信息不完整'),await t.fire({icon:'error',title:f('saveAndTestNotice')}),void await r()}b('显示数据处理提示'),t.fire({icon:'info',title:f('processingData'),allowOutsideClick:!1});const s={},a=GM_listValues(),i=$('#sync-history').prop('checked');b('开始收集数据',{namesCount:a.length,syncHistory:i});for(const t of a){'gistOptions'===t||/^[\w]+?Auth$/.test(t)||!i&&/^[\w]+?Tasks-/.test(t)||(s[t]=GM_getValue(t))}b('数据收集完成',{dataKeysCount:Object.keys(s).length}),t.update({icon:'info',title:f('updatingData')});const o=await(async(t,e,s,a)=>{try{b('开始设置Gist数据',{gistId:e,fileName:s});const r=E({text:f('settingData')}),i=JSON.stringify({files:{[s]:{content:JSON.stringify(a)}}});b('准备发送的数据',{contentData:i});const{result:o,statusText:n,status:c,data:u}=await I({url:`https://api.github.com/gists/${e}`,headers:{Accept:'application/vnd.github.v3+json',Authorization:`token ${t}`},data:i,responseType:'json',method:'POST',timeout:3e4});if('Success'!==o){return b('设置Gist数据失败',{result:o,statusText:n,status:c}),r.error(`${o}:${n}(${c})`),!1}const l=JSON.stringify(a);return 200!==u?.status||u?.response?.files?.[s]?.content!==l?(b('设置Gist数据验证失败',{status:u?.status,content:u?.response?.files?.[s]?.content}),r.error(`Error:${u?.statusText}(${u?.status})`),!1):(b('设置Gist数据成功'),r.success(),!0)}catch(t){return b('设置Gist数据发生错误',{error:t}),S(t,'setGistData'),!1}})(e.TOKEN,e.GIST_ID,e.FILE_NAME,s);b('数据上传完成',{success:o}),await t.fire({icon:o?'success':'error',title:f(o?'syncDataSuccess':'syncDataFailed'),timer:2e3,timerProgressBar:!0})},o=async()=>{b('开始处理数据下载');const e=GM_getValue('gistOptions');if(!e?.TOKEN||!e?.GIST_ID||!e?.FILE_NAME){return b('配置信息不完整'),await t.fire({icon:'error',title:f('saveAndTestNotice')}),void await r()}b('显示数据下载提示'),t.fire({icon:'info',title:f('downloadingData'),allowOutsideClick:!1});const s=await Tt(e.TOKEN,e.GIST_ID,e.FILE_NAME);if(!s||'boolean'==typeof s){return b('未检测到远程数据'),await t.fire({icon:'error',title:f('checkedNoData')}),void await r()}b('开始保存数据'),t.update({icon:'info',title:f('savingData')});const a=$('#sync-history').prop('checked');let i=0;for(const[t,e]of Object.entries(s)){!a&&/^[\w]+?Tasks-/.test(t)||(GM_setValue(t,e),i+=1)}b('数据保存完成',{savedCount:i}),await t.fire({icon:'success',title:f('syncDataSuccess'),timer:2e3,timerProgressBar:!0})};unsafeWindow.handleUpload=i,unsafeWindow.handleDownload=o,await r()}catch(e){b('同步选项发生错误',{error:e}),S(e,'syncOptions'),await t.fire({icon:'error',title:f('error'),text:e instanceof Error?e.message:'Unknown error occurred',timer:3e3,timerProgressBar:!0})}},vt=['right','left'],xt=['top','bottom'];const St=JSON.stringify({steam:{groupLinks:[],wishlistLinks:[],followLinks:[],curatorLinks:[],curatorLikeLinks:[]},twitter:{userLinks:[],retweetLinks:[]},twitch:{channelLinks:[]},discord:{serverLinks:[]},youtube:{channelLinks:[]},extra:{giveawayHopper:[]}});const Ct=JSON.stringify({steam:{groupLinks:[],curatorLinks:[],wishlistLinks:[],followLinks:[]},youtube:{channelLinks:[]}});const It=[class extends et{name='FreeAnyWhere';tasks=[];socialTasks=(()=>JSON.parse(st))();undoneTasks=(()=>JSON.parse(st))();games;buttons=['doTask','undoTask','verifyTask','getKey'];static test(){const t='freeanywhere.net'===window.location.host;return b('检查网站匹配',{host:window.location.host,isMatch:t}),t}async init(){try{b('初始化 FreeAnyWhere',{url:window.location.href});const t=E({text:f('initing')});if(b('检测登录状态'),0===$('div.header__login a[href*=logout]').length){return b('未登录，准备跳转到登录页面'),window.open('https://freeanywhere.net/game.php?steam_login','_self'),t.warning(f('needLogin')),!1}if(b('检测是否为登录页面'),window.location.href.includes('/login')){return t.warning(f('needLogin')),!1}await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed')));const e=this.#Bt();return b('获取抽奖ID结果',{success:e,id:this.giveawayId}),this.initialized=!0,t.success(),!0}catch(t){return b('初始化失败',{error:t}),S(t,'Freeanywhere.init'),!1}}async classifyTask(t){try{b('开始分类任务',{action:t});const e=E({text:f('getTasksInfo')});'undo'===t&&(b('获取已保存的任务信息'),this.socialTasks=GM_getValue(`fawTasks-${this.giveawayId}`)?.tasks||JSON.parse(st));const s=$('div.game__content-tasks__task').map(((t,e)=>({id:$(e).attr('data-id'),social:$(e).find('div.task-img img').attr('alt'),link:$(e).find('div.task-link a').attr('href'),title:$(e).find('div.task-link').text().trim(),type:$(e).attr('data-type'),data:$(e).attr('data-data'),isSuccess:$(e).hasClass('done')}))).toArray();if(b('获取到的任务列表',{tasksCount:s.length,tasks:s}),0===s.length){return e.success(),!1}'verify'===t&&(this.tasks=[]);for(const e of s){await this.#Qt(e,t)}return e.success(),this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.uniqueTasks(this.socialTasks),b('任务分类结果',{undoneTasks:this.undoneTasks,socialTasks:this.socialTasks}),GM_setValue(`fawTasks-${this.giveawayId}`,{tasks:this.socialTasks,time:(new Date).getTime()}),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'Freeanywhere.classifyTask'),!1}}async#Qt(t,e){try{b('处理任务',{task:t,action:e});const{id:s,social:a,title:r,type:i,link:o,data:n,isSuccess:c}=t,u={id:s,title:r,social:a,type:i,data:n};if('verify'===e&&!c){return b('添加到验证任务列表',u),void this.tasks.push(u)}switch(b('处理特定类型任务',{type:i,action:e,isSuccess:c}),i){case'steam_account_verify':case'site_email_verify':b('跳过任务',{type:i});break;case'steam_game_sub':'undo'===e&&o&&this.socialTasks.steam.followLinks.push(o),'do'===e&&!c&&o&&this.undoneTasks.steam.followLinks.push(o);break;case'steam_game_wishlist':'undo'===e&&o&&this.socialTasks.steam.wishlistLinks.push(o),'do'===e&&!c&&o&&this.undoneTasks.steam.wishlistLinks.push(o);break;case'steam_group_sub':'undo'===e&&o&&this.socialTasks.steam.groupLinks.push(o),'do'===e&&!c&&o&&this.undoneTasks.steam.groupLinks.push(o);break;case'site_visit':'do'!==e||c||this.undoneTasks.extra.website.push(`id=${s}&type=${i}&task=true`);break;case'vk_community_sub':'undo'===e&&o&&this.socialTasks.vk.nameLinks.push(o),'do'===e&&!c&&o&&this.undoneTasks.vk.nameLinks.push(o);break;case'vk_post_like':'undo'===e&&o&&this.socialTasks.vk.nameLinks.push(`${o}&action=like`),'do'===e&&!c&&o&&this.undoneTasks.vk.nameLinks.push(`${o}&action=like`);break;case'discord_server_sub':'undo'===e&&o&&this.socialTasks.discord.serverLinks.push(o),'do'===e&&!c&&o&&this.undoneTasks.discord.serverLinks.push(o);break;case'youtube_channel_sub':'undo'===e&&o&&this.socialTasks.youtube.channelLinks.push(o),'do'===e&&!c&&o&&this.undoneTasks.youtube.channelLinks.push(o);break;case'steam_game_playtime':'undo'===e&&o&&this.socialTasks.steam.playTimeLinks.push(`${r.match(/(\d+)\s*min/)?.[1]||'0'}-${o}`),'do'===e&&!c&&o&&this.undoneTasks.steam.playTimeLinks.push(`${r.match(/(\d+)\s*min/)?.[1]||'0'}-${o}`);break;case'telegram_channel_sub':b('跳过 Telegram 任务'),E({}).warning(`${f('tgTaskNotice')}`);break;case'none':b('跳过未连接的任务',{type:i}),E({}).warning(`${f('notConnect',i)}`);break;default:b('未知任务类型',{type:i}),E({}).warning(`${f('unKnownTaskType',i)}`)}}catch(t){b('处理任务失败',{error:t}),S(t,'FreeAnyWhere.processTask')}}async verifyTask(){try{if(b('开始验证任务'),!this.initialized&&!await this.init()){return b('未初始化'),!1}if(0===this.tasks.length&&!await this.classifyTask('verify')){return b('任务列表为空',this.tasks),!1}b('开始验证任务列表',{tasks:this.tasks});const t=[];for(const e of this.tasks){t.push(this.#jt(e)),await P(1e3)}const e=await Promise.allSettled(t);return b('任务验证结果',{result:e}),E({}).success(f('allTasksComplete')),!!e.every((t=>'fulfilled'===t.status&&!0===t.value))&&!!await this.getKey(!0)}catch(t){return b('验证任务失败',{error:t}),S(t,'Freeanywhere.verifyTask'),!1}}async extraDoTask(t){let{website:e}=t;try{b('执行额外任务',{website:e});const t=e.map((t=>this.#Ht(t))),s=await Promise.allSettled(t);return b('额外任务执行结果',{results:s}),!0}catch(t){return b('执行额外任务失败',{error:t}),S(t,'FreeAnyWhere.extraDoTask'),!1}}async#Ht(t){try{b('访问网站',{link:t});const e=E({text:f('visitingLink')}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://freeanywhere.net/php/task_site_visit_done.php',method:'POST',headers:{'content-type':'application/x-www-form-urlencoded; charset=UTF-8'},data:t});return'Success'!==s?(b('访问失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):-1!==i?.responseText.indexOf('bad')||i?.responseText.length>50?(b('访问响应异常',{responseText:i?.responseText}),e.error(i?.responseText),!1):(b('访问成功'),e.success(),!0)}catch(t){return b('访问网站失败',{error:t}),S(t,'FreeAnyWhere.doVisitWebsite'),!1}}async getKey(t){try{if(b('开始获取密钥',{initialized:t}),!t&&!this.initialized&&!await this.init()){return b('未初始化'),!1}const e=E({text:f('gettingKey')}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://freeanywhere.net/php/user_get_key.php',method:'POST'});return'Success'!==s?(b('获取密钥失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):-1!==i?.responseText.indexOf('bad')||i?.responseText.length>50?(b('密钥响应异常',{responseText:i?.responseText}),e.error(i?.responseText),!1):(b('获取密钥成功',{key:i.responseText}),e.success(),E({}).success(i.responseText),i.responseText)}catch(t){return b('获取密钥失败',{error:t}),S(t,'FreeAnyWhere.getKey'),!1}}async#jt(t){try{return $('.task-check-extension').length>0?this.#Nt(t):this.#Kt(t)}catch(t){return b('验证任务失败',{error:t}),S(t,'Freeanywhere.verify'),!1}}async#Nt(t){try{await this.#Wt(),b('验证任务',{task:t});const e=E({text:`${f('verifyingTask')}${t.title.trim()}...`}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://freeanywhere.net/php/extension/user_task_update.php',method:'POST',headers:{'content-type':'application/x-www-form-urlencoded; charset=UTF-8'},data:`id=${t.id}&type=${t.type}${t.data&&'none'!==t.data?`&data=${t.data}`:''}`});if('Success'!==s||!i?.responseText){return b('验证请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1}const o=i.responseText.trim();return'good'!==o?(b('验证响应异常',{response:o,statusText:i?.statusText,status:i?.status}),e.error(`Error:${i?.statusText}(${i?.status})`),!1):(b('验证成功'),e.success(),!0)}catch(t){return b('验证任务失败',{error:t}),S(t,'Freeanywhere.verifyWithExtension'),!1}}async#Kt(t){try{b('验证任务',{task:t});const e=E({text:`${f('verifyingTask')}${t.title.trim()}...`}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://freeanywhere.net/php/user_task_update.php',method:'POST',headers:{'content-type':'application/x-www-form-urlencoded; charset=UTF-8'},data:`id=${t.id}&type=${t.type}${t.data&&'none'!==t.data?`&data=${t.data}`:''}`});if('Success'!==s||!i?.responseText){return b('验证请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1}const o=i.responseText.trim();return'good'!==o?(b('验证响应异常',{response:o,statusText:i?.statusText,status:i?.status}),e.error(`Error:${i?.statusText}(${i?.status})`),!1):(b('验证成功'),e.success(),!0)}catch(t){return b('验证任务失败',{error:t}),S(t,'Freeanywhere.verifyWithoutExtension'),!1}}async#Wt(){try{let t='';const e=GM_getValue('FAW_STORAGE')||{};if(0!==Object.keys(e).length&&e.tasks&&e.user&&e.games&&e.settings){t=`extension=${encodeURIComponent(JSON.stringify(e))}`}else{if(this.games||await this.#zt(),!this.games){return b('获取用户游戏失败'),!1}t=`extension=${encodeURIComponent(JSON.stringify({games:this.games,settings:{game_update:Math.floor(Date.now()/1e3)},tasks:{},user:{avatar:$('header.games_for_farm_site').attr('data-avatar'),lang:$('header.games_for_farm_site').attr('data-lang'),name:$('header.games_for_farm_site').attr('data-name'),steam:$('header.games_for_farm_site').attr('data-steam')}}))}`}b('更新用户数据');const s=E({text:`${f('updatingUserData')}`}),{result:a,statusText:r,status:i,data:o}=await I({url:'https://freeanywhere.net/php/extension/user_data_update.php',method:'POST',headers:{'content-type':'application/x-www-form-urlencoded; charset=UTF-8'},data:t});return 200!==o?.status?(b('验证请求失败',{result:a,statusText:r,status:i,data:o}),s.error(`${a}:${r}(${i})`),!1):(b('验证成功'),s.success(),!0)}catch(t){return b('验证任务失败',{error:t}),S(t,'Freeanywhere.updateUserData'),!1}}async#zt(){try{b('获取用户游戏');const t=E({text:`${f('gettingUserGames')}`}),{result:e,statusText:s,status:a,data:r}=await I({url:'https://freeanywhere.net/php/extension/user_games_get.php',method:'POST',headers:{'content-type':'application/x-www-form-urlencoded; charset=UTF-8'},data:`steam=${$('header.games_for_farm_site').attr('data-steam')}`,dataType:'json'});return'Success'===e&&200===r?.status&&r?.responseText?(b('验证成功'),this.games=r.response,t.success(),!0):(b('验证请求失败',{result:e,statusText:s,status:a,data:r}),t.error(`${e}:${s}(${a})`),!1)}catch(t){return b('验证任务失败',{error:t}),S(t,'Freeanywhere.userGamesGet'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=$('div.card-info__lable-info').text()?.includes('Giveaway ended');if(b('Giveaway状态',{giveawayStatus:e}),!e){return!0}b('没有剩余密钥，显示确认对话框');const{value:s}=await t.fire({icon:'warning',title:f('notice'),text:f('giveawayEnded'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return s&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'FreeAnyWhere.checkLeftKey'),!1}}#Bt(){try{b('开始获取抽奖ID');const t=$('link[rel="canonical"]').attr('href')?.match(/n=([\d]+)/)?.[1];return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({}).error(f('getFailed','GiveawayId')),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'FreeAnyWhere.getGiveawayId'),!1}}},rt,class{name='Indiedb';buttons=['doTask'];static test(){const{host:t}=window.location,e='www.indiedb.com'===t;return b('检查网站匹配',{host:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('检查登录失败'),E({}).warning(f('checkLoginFailed'))),await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed')))}catch(t){b('后续操作失败',{error:t}),S(t,'Indiedb.after')}}async doTask(){try{return b('开始执行任务'),await this.#qt()?await this.#Jt():(b('加入抽奖失败'),!1)}catch(t){return b('执行任务失败',{error:t}),S(t,'Indiedb.doTask'),!1}}async#qt(){try{if(b('开始加入抽奖'),$('a.buttonenter:contains(Register to join)').length>0){return b('需要登录'),E({}).error(f('needLogin')),!1}const t=$('a.buttonenter.buttongiveaway'),e=t.text();if(b('检查按钮状态',{buttonText:e}),/success/gim.test($('a.buttonenter.buttongiveaway').text())){return b('已成功加入抽奖'),!0}if(!/join giveaway/gim.test(e)){return b('需要加入抽奖'),E({}).warning(f('needJoinGiveaway')),!1}const s=E({text:`${f('joiningGiveaway')}...`});b('发送加入请求');const{result:a,statusText:r,status:i,data:o}=await I({url:t.attr('href'),method:'POST',data:'ajax=t',dataType:'json',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8',Accept:'application/json, text/javascript, */*; q=0.01',Origin:window.location.origin,referer:window.location.href}});return'Success'!==a?(b('请求失败',{result:a,statusText:r,status:i}),s.error(`${a}:${r}(${i})`),!1):200!==o?.status?(b('尝试备用加入方法'),await this.#Xt()?(b('备用加入方法成功'),s.success('Success'),!0):(b('加入失败',{status:o?.status,statusText:o?.statusText}),s.error(`Error:${o?.statusText}(${o?.status})`),!1)):o.response?.success?(b('加入成功'),t.addClass('buttonentered').text('Success - Giveaway joined'),$('#giveawaysjoined').slideDown(),$('#giveawaysrecommend').slideDown(),s.success('Success'+(o.response?.text?`:${o.response?.text}`:'')),!0):(b('响应失败',{text:o.response?.text}),s.error('Error'+(o.response?.text?`:${o.response?.text}`:'')),!1)}catch(t){return b('加入抽奖失败',{error:t}),S(t,'Indiedb.join'),!1}}async#Xt(){try{return b('开始备用加入方法'),await new Promise((t=>{const e=document.getElementById('giveawaysjoined'),s=new MutationObserver((()=>{$('#giveawaysjoined').is(':visible')&&(b('检测到加入成功'),t(!0),s.disconnect())}));s.observe(e,{attributes:!0}),b('点击加入按钮'),$('a.buttonenter.buttongiveaway')[0]?.click(),setTimeout((()=>{b('加入超时'),t(!1),s.disconnect()}),3e4)}))}catch(t){return b('备用加入方法失败',{error:t}),S(t,'Indiedb.join2'),!1}}async#Jt(){try{b('开始执行任务');const t=$('script').map(((t,e)=>/\$\(document\)/gim.test(e.innerHTML)?[e.innerHTML.match(/"\/[\d]+"/gim)?.[0]?.match(/[\d]+/)?.[0],e.innerHTML.match(/"\/newsletter\/ajax\/subscribeprofile\/optin\/[\d]+"/gim)?.[0]?.match(/[\d]+/)?.[0]]:null));if(t.length<2){return b('获取任务ID失败'),E({}).error(f('getFailed','TaskId')),!1}const e=[],s=$('#giveawaysjoined a[class*=promo]');b('找到任务',{count:s.length});for(const a of s){const s=$(a);if(s.hasClass('buttonentered')){b('跳过已完成任务');continue}const r=s.parents('p').text();b('处理任务',{taskText:r});const i=E({text:`${f('doing')}:${r}...`});if(/the-challenge-of-adblock/gim.test(s.attr('href'))){b('跳过未知任务类型'),i.error(`Error:${f('unKnownTaskType')}`)}else if(/facebookpromo|twitterpromo|visitpromo/gim.test(a.className)){let a='';a=s.hasClass('facebookpromo')?'facebookpromo':s.hasClass('twitterpromo')?'twitterpromo':'visitpromo',b('处理社交媒体任务',{type:a}),e.push(this.#$t(a,t[0],i,s))}else{s.hasClass('emailoptinpromo')?(b('处理邮件订阅任务'),e.push(this.#Zt(t[1],i,s))):s.hasClass('watchingpromo')?(b('处理关注任务'),e.push(this.#_t(s,i))):(b('处理默认任务'),e.push(this.#te(s,i)))}}return await Promise.all(e),b('所有任务完成'),E({}).success(f('allTasksComplete')),!0}catch(t){return b('执行任务失败',{error:t}),S(t,'Indiedb.do'),!1}}async#$t(t,e,s,a){try{return b('处理社交媒体任务',{text:t,id:e}),await new Promise((r=>{$.ajax({type:'POST',url:urlPath(`/giveaways/ajax/${t}/${e}`),timeout:6e4,dataType:'json',data:{ajax:'t'},error(t,e,a){b('请求失败',{response:t,error:e,exception:a}),window.DEBUG&&console.log('%cAuto-Task[Debug]:','color:red',{response:t,error:e,exception:a}),s.error('Error:An error has occurred performing the action requested. Please try again shortly.'),r(!0)},success(t){t.success?(b('任务完成',{response:t}),s.success(`Success:${t.text}`),a.addClass('buttonentered').closest('p').html(a.closest('p').find('span').html())):(b('任务失败',{response:t}),s.error(`Error:${t.text}`)),r(!0)}})}))}catch(t){return b('处理社交媒体任务失败',{error:t}),S(t,'Indiedb.handleSocialPromo'),!1}}async#Zt(t,e,s){try{return b('处理邮件订阅任务',{id:t}),await new Promise((a=>{$.ajax({type:'POST',url:urlPath(`/newsletter/ajax/subscribeprofile/optin/${t}`),timeout:6e4,dataType:'json',data:{ajax:'t',emailsystoggle:4},error(t,s,r){b('请求失败',{response:t,error:s,exception:r}),window.DEBUG&&console.log('%cAuto-Task[Debug]:','color:red',{response:t,error:s,exception:r}),e.error('Error:An error has occurred performing the action requested. Please try again shortly.'),a(!0)},success(t){t.success?(b('任务完成',{response:t}),e.success(`Success:${t.text}`),s.toggleClass('buttonentered').closest('p').html(s.closest('p').find('span').html())):(b('任务失败',{response:t}),e.error(`Error:${t.text}`)),a(!0)}})}))}catch(t){return b('处理邮件订阅任务失败',{error:t}),S(t,'Indiedb.handleEmailPromo'),!1}}async#_t(t,e){try{return b('处理关注任务'),await new Promise((s=>{const a=t.attr('href');if(!a){return b('无效的链接'),e.error('Error: Invalid href'),void s(!0)}const r=(t=>{try{b('开始解析URL查询参数',{url:t||window.location.href});const e=t?new URL(t,window.location.origin).searchParams:new URLSearchParams(window.location.search),s={};for(const[t,a]of e.entries()){s[t]=a}return b('URL查询参数解析结果',s),s}catch(t){return S(t,'getUrlQuery'),{}}})(a);r.ajax='t';const[i]=a.split(/[?#]/);if(!i){return b('无效的URL'),e.error('Error: Invalid URL'),void s(!0)}b('发送请求',{url:i,data:r}),$.ajax({type:'POST',url:urlPath(i),timeout:6e4,dataType:'json',data:r,error(t,a,r){b('请求失败',{response:t,error:a,exception:r}),window.DEBUG&&console.log('%cAuto-Task[Debug]:','color:red',{response:t,error:a,exception:r}),e.error('Error:An error has occurred performing the action requested. Please try again shortly.'),s(!0)},success(a){a.success?(b('任务完成',{response:a}),e.success(`Success:${a.text}`),t.toggleClass('buttonentered').closest('p').html(t.closest('p').find('span').html())):(b('任务失败',{response:a}),e.error(`Error:${a.text}`)),s(!0)}})}))}catch(t){return b('处理关注任务失败',{error:t}),S(t,'Indiedb.handleWatchingPromo'),!1}}async#te(t,e){try{return b('处理默认任务'),await new Promise((s=>{const a=t.attr('href');if(!a){return b('无效的链接'),e.error('Error: Invalid href'),void s(!0)}b('发送请求',{url:a}),$.ajax({type:'POST',url:urlPath(a),timeout:6e4,dataType:'json',data:{ajax:'t'},error(t,a,r){b('请求失败',{response:t,error:a,exception:r}),window.DEBUG&&console.log('%cAuto-Task[Debug]:','color:red',{response:t,error:a,exception:r}),e.error('Error:An error has occurred performing the action requested. Please try again shortly.'),s(!0)},success(a){a.success?(b('任务完成',{response:a}),e.success(`Success:${a.text}`),t.toggleClass('buttonentered').closest('p').html(t.closest('p').find('span').html())):(b('任务失败',{response:a}),e.error(`Error:${a.text}`)),s(!0)}})}))}catch(t){return b('处理默认任务失败',{error:t}),S(t,'Indiedb.handleDefaultPromo'),!1}}#Lt(){try{return b('检查登录状态'),g.other.checkLogin?($('a.buttonenter:contains(Register to join)').length>0&&(b('未登录，重定向到登录页面'),window.open('/members/login','_self')),b('登录检查完成'),!0):(b('跳过登录检查'),!0)}catch(t){return b('检查登录失败',{error:t}),S(t,'Indiedb.checkLogin'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=$('a.buttonenter:contains("next time"), a.buttonenter:contains("Giveaway is closed")').length>0;if(b('检查抽奖状态',{hasEndedButton:e}),!e){return!0}b('抽奖已结束，显示确认对话框');const{value:s}=await t.fire({icon:'warning',title:f('notice'),text:f('giveawayEnded'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return s&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'Indiedb.checkLeftKey'),!1}}},class extends et{name='Keyhub';socialTasks=(()=>JSON.parse(it))();undoneTasks=(()=>JSON.parse(it))();buttons=['doTask','undoTask'];static test(){const{host:t}=window.location,e='key-hub.eu'===t;return b('检查网站匹配',{host:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('检查登录失败'),E({}).warning(f('checkLoginFailed'))),await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed'))),b('隐藏 NSFW 内容'),$('.NSFW').hide()}catch(t){b('后续操作失败',{error:t}),S(t,'Keyhub.after')}}init(){try{b('开始初始化');const t=E({text:f('initing')});return $('a[href*="/connect/steam"]').length>0?(b('需要登录 Steam'),window.open('/connect/steam','_self'),t.warning(f('needLogin')),!1):this.#Bt()?(b('隐藏 VPN 覆盖层'),$('#VPNoverlay').hide(),$('#mainArticleSection').show(),this.initialized=!0,b('初始化完成'),t.success(),!0):(b('获取抽奖ID失败'),!1)}catch(t){return b('初始化失败',{error:t}),S(t,'Keyhub.init'),!1}}async classifyTask(t){try{b('开始分类任务',{action:t});const e=E({text:f('getTasksInfo')});'undo'===t&&(b('恢复已保存的任务信息'),this.socialTasks=GM_getValue(`khTasks-${this.giveawayId}`)?.tasks||JSON.parse(it));const s=$('.task:not(".googleads")').filter(((e,s)=>'do'!==t||0===$(s).find('i.fa-check-circle:visible').length)).find('a');b('找到任务',{count:s.length});for(const e of s){let s=$(e).attr('href');const a=$(e).text().trim();if(b('处理任务',{taskDes:a,link:s}),s){if((/\/away\?data=/.test(s)||/steamcommunity\.com\/gid\//.test(s))&&(b('获取重定向链接'),s=await F(s)||s),/https?:\/\/key-hub\.eu\/connect\/discord/.test(s)){b('处理 Discord 连接任务'),GM_openInTab(s,{active:!0})}else if(/steamcommunity\.com\/groups\//.test(s)){b('处理 Steam 组任务'),'undo'===t&&this.socialTasks.steam.groupLinks.push(s),'do'===t&&this.undoneTasks.steam.groupLinks.push(s)}else if(/steamcommunity\.com\/games\/[\d]+/.test(s)){b('处理 Steam 官方组任务'),'undo'===t&&this.socialTasks.steam.officialGroupLinks.push(s),'do'===t&&this.undoneTasks.steam.officialGroupLinks.push(s)}else if(/store\.steampowered\.com\/app\//.test(s)&&/wishlist/gim.test(a)){b('处理 Steam 愿望单任务'),'undo'===t&&this.socialTasks.steam.wishlistLinks.push(s),'do'===t&&this.undoneTasks.steam.wishlistLinks.push(s)}else if(/store\.steampowered\.com\/curator\//.test(s)){b('处理 Steam 鉴赏家任务'),'undo'===t&&this.socialTasks.steam.curatorLinks.push(s),'do'===t&&this.undoneTasks.steam.curatorLinks.push(s)}else if(/^https?:\/\/discord\.com\/invite\//.test(s)){b('处理 Discord 服务器任务'),'undo'===t&&this.socialTasks.discord.serverLinks.push(s),'do'===t&&this.undoneTasks.discord.serverLinks.push(s)}else if(/^javascript:videoTask.+/.test(s)){if(b('处理视频任务'),'do'===t){const t=s.match(/javascript:videoTask\('.+?','(.+?)'/)?.[1];t&&(b('添加视频任务',{taskData:t}),this.undoneTasks.extra.videoTasks.push(t))}}else{this.#ee(s)?b('跳过可忽略的链接',{link:s}):(b('未知任务类型',{taskDes:a,link:s}),E({}).warning(`${f('unKnownTaskType')}: ${a}(${s})`))}}else{b('跳过无链接任务')}}return b('任务分类完成'),e.success(),this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.uniqueTasks(this.socialTasks),window.DEBUG&&console.log('%cAuto-Task[Debug]:','color:blue',JSON.stringify(this)),b('保存任务信息'),GM_setValue(`khTasks-${this.giveawayId}`,{tasks:this.socialTasks,time:(new Date).getTime()}),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'Keyhub.classifyTask'),!1}}#ee(t){return/^https?:\/\/www\.instagram\.com\/.*/.test(t)||/^https?:\/\/twitter\.com\/.*/.test(t)||/^https?:\/\/www\.twitch\.tv\/.*/.test(t)||/^https?:\/\/www\.facebook\.com\/.*/.test(t)||/^https?:\/\/www\.youtube\.com\/.*/.test(t)||/^https?:\/\/store\.steampowered\.com\/developer\//.test(t)||/^https?:\/\/.*?\.itch\.io\/.*/.test(t)||/^https?:\/\/key-hub\.eu.*/.test(t)||/^https?:\/\/store\.steampowered\.com\/app\/.*/.test(t)||/^https?:\/\/qr\.streamelements\.com\/.*/.test(t)||/^https?:\/\/store\.steampowered\.com\/news\/app\/.*/.test(t)}async#se(t){try{b('执行脚本任务',{data:t});const e=E({text:f('doingKeyhubTask')}),{result:s,statusText:a,status:r,data:i}=await I({url:`/away?data=${t}`,method:'GET',headers:{origin:'https://key-hub.eu',referer:'https://key-hub.eu/'}});return'Success'!==s?(b('请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1):200!==i?.status?(b('响应错误',{status:i?.status,statusText:i?.statusText}),e.error(`Error:${i?.statusText}(${i?.status})`),!1):(b('任务完成'),e.success(),!0)}catch(t){return b('执行脚本任务失败',{error:t}),S(t,'Keyhub.doScriptTask'),!1}}async extraDoTask(t){let{videoTasks:e}=t;try{b('开始执行额外任务',{count:e.length});const t=[];for(const s of e){t.push(this.#se(s))}return Promise.all(t).then((()=>(b('所有额外任务完成'),!0)))}catch(t){return b('执行额外任务失败',{error:t}),S(t,'Keyhub.extraDoTask'),!1}}#Bt(){try{b('获取抽奖ID');const t=window.location.href.match(/giveaway\/([\d]+)/)?.[1];return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({}).error(f('getFailed','GiveawayId')),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'Keyhub.getGiveawayId'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=$('#keysleft').text().trim();if(b('检查剩余密钥数量',{leftKey:e}),'0'!==e){return!0}b('没有剩余密钥，显示确认对话框');const{value:s}=await t.fire({icon:'warning',title:f('notice'),text:f('noKeysLeft'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return s&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'Keyhub.checkLeftKey'),!1}}#Lt(){try{return b('检查登录状态'),g.other.checkLogin?($('a[href*="/connect/steam"]').length>0&&(b('未登录，重定向到 Steam 登录页面'),window.open('/connect/steam','_self')),b('登录检查完成'),!0):(b('跳过登录检查'),!0)}catch(t){return b('检查登录失败',{error:t}),S(t,'Keyhub.checkLogin'),!1}}},class extends et{name='Givekey';tasks=[];socialTasks=(()=>JSON.parse(ot))();undoneTasks=(()=>JSON.parse(ot))();userId;buttons=['doTask','undoTask','verifyTask'];static test(){const t=window.location.host,e='givekey.ru'===t;return b('检查网站匹配',{url:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),await new Promise((t=>{const e=setInterval((()=>{$('#navbarDropdown').length>0&&(b('导航栏元素已加载'),clearInterval(e),t(!0))}),500)})),await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed')))}catch(t){b('后续操作失败',{error:t}),S(t,'Givekey.after')}}init(){try{b('初始化 Givekey');const t=E({text:f('initing')});if($('a[href*="/auth/steam"]').length>0){return b('未登录，重定向到 Steam 登录页面'),window.open('/auth/steam','_self'),t.warning(f('needLogin')),!1}if(!this.#Bt()){return b('获取抽奖ID失败'),!1}const e=$('meta[name="user-id"]').attr('content');return e?(this.userId=e,this.initialized=!0,b('初始化完成',{userId:e}),t.success(),!0):(b('获取用户ID失败'),t.error(f('getFailed',f('userId'))),!1)}catch(t){return b('初始化失败',{error:t}),S(t,'Givekey.init'),!1}}async classifyTask(t){try{b('开始分类任务',{action:t});const e=E({text:f('getTasksInfo')});'undo'===t&&(b('恢复已保存的任务信息'),this.socialTasks=GM_getValue(`gkTasks-${this.giveawayId}`)?.tasks||JSON.parse(ot));const s=$('.card-body:has("button") .row');b('找到任务元素',{count:s.length});for(const e of s){const s=$(e),a=s.find('button'),r=/Complete/i.test(a.text().trim());if(b('处理任务',{isSuccess:r}),r&&'undo'!==t){b('跳过已完成的任务');continue}const i=s.find('#task_check').attr('data-id');if(i&&(b('添加任务ID',{taskId:i}),this.tasks.push(i)),'verify'===t){continue}const o=s.find('a');let n=o.attr('href');if(!n){b('任务链接为空');continue}const c=o.text().trim();if(!c){b('任务描述为空');continue}if(/^https?:\/\/givekey\.ru\/giveaway\/[\d]+\/execution_task/.test(n)&&(b('获取重定向链接',{href:n}),n=await F(n)),!n){b('获取重定向链接失败');continue}const u=s.find('i');await this.#Pt(n,c,u,r,t)}return b('任务分类完成'),e.success(),this.tasks=B(this.tasks),this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.uniqueTasks(this.socialTasks),b('保存任务信息'),GM_setValue(`gkTasks-${this.giveawayId}`,{tasks:this.socialTasks,time:(new Date).getTime()}),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'Givekey.classifyTask'),!1}}async verifyTask(){try{if(b('开始验证任务'),!this.initialized&&!this.init()){return b('初始化失败'),!1}if(0===this.tasks.length&&!await this.classifyTask('verify')){return b('任务分类失败'),!1}E({}).warning(f('giveKeyNoticeBefore'));const t=this.tasks.length;b('开始验证任务',{taskCount:t});for(let e=0;e<t;e++){await this.#jt(this.tasks[e]),e<t-1&&(b('等待15秒'),await P(15e3))}return b('所有任务验证完成'),E({}).success(f('allTasksComplete')),E({html:`<li><font class="warning">${f('giveKeyNoticeAfter')}</font></li>`}),!0}catch(t){return b('任务验证失败',{error:t}),S(t,'Givekey.verifyTask'),!1}}async#jt(t){try{b('验证任务',{taskId:t});const e=E({html:`<li>${f('verifyingTask')}${t}...<font></font></li>`}),s=$('meta[name="csrf-token"]').attr('content');if(!s){return b('CSRF token 未找到'),e.error('CSRF token not found'),!1}b('发送验证请求');const a=await $.ajax({url:'https://givekey.ru/giveaway/task',method:'POST',data:`id=${t}&user_id=${this.userId}`,dataType:'json',headers:{'X-CSRF-TOKEN':s}});return a?(b('处理响应',{response:a}),a.btn&&$(`button[data-id=${this.userId}]`).html(a.btn),'ok'===a.status?($(`.task_check_${a.id}`).html(`<button class="btn btn-success mb-2 btn-block" disabled>${a.btn}</button>`),b('任务验证成功'),e.success(),!0):'end'===a.status?(b('获得密钥'),e.success(),E({}).success(a.key),!0):(b('验证失败',{error:a.msg}),e.error(`Error:${a.msg}`),!1)):(b('未收到响应'),e.error('No response received'),!1)}catch(t){return b('验证过程出错',{error:t}),S(t,'Givekey.verify'),!1}}#Bt(){try{b('从URL获取抽奖ID');const t=window.location.href.match(/giveaway\/([\d]+)/)?.[1];return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({text:f('getFailed','GiveawayId')}),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'Givekey.getGiveawayId'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=$('#keys_count').text();if(b('检查密钥数量',{keysCount:e}),e){return!0}b('没有剩余密钥，显示确认对话框');const{value:s}=await t.fire({icon:'warning',title:f('notice'),text:f('noKeysLeft'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return s&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'Givekey.checkLeftKey'),!1}}async#Pt(t,e,s,a,r){try{if(b('开始分类任务类型',{href:t,text:e,isSuccess:a,action:r}),/^https?:\/\/vk\.com\//.test(t)){return b('添加 VK 任务'),this.socialTasks.vk.nameLinks.push(t),void('do'!==r||a||this.undoneTasks.vk.nameLinks.push(t))}if(/^https?:\/\/steamcommunity\.com\/groups/.test(t)){return b('添加 Steam 组任务'),this.socialTasks.steam.groupLinks.push(t),void('do'!==r||a||this.undoneTasks.steam.groupLinks.push(t))}if(/^https?:\/\/store\.steampowered\.com\/app\//.test(t)){return b('添加 Steam 愿望单任务'),this.socialTasks.steam.wishlistLinks.push(t),void('do'!==r||a||this.undoneTasks.steam.wishlistLinks.push(t))}if(/Subscribe/gi.test(e)&&s.hasClass('fa-steam-square')){return void(/^https?:\/\/store\.steampowered\.com\/curator\//.test(t)?(b('添加 Steam 鉴赏家关注任务'),this.socialTasks.steam.curatorLinks.push(t),'do'!==r||a||this.undoneTasks.steam.curatorLinks.push(t)):(b('添加 Steam 鉴赏家点赞任务'),this.socialTasks.steam.curatorLikeLinks.push(t),'do'!==r||a||this.undoneTasks.steam.curatorLikeLinks.push(t)))}if(/^https?:\/\/twitter\.com\//.test(t)&&/Subscribe/gi.test(e)){return b('添加 Twitter 关注任务'),this.socialTasks.twitter.userLinks.push(t),void('do'!==r||a||this.undoneTasks.twitter.userLinks.push(t))}if(s.hasClass('fa-discord')||/^https?:\/\/discord\.com\/invite\//.test(t)){return b('添加 Discord 服务器任务'),this.socialTasks.discord.serverLinks.push(t),void('do'!==r||a||this.undoneTasks.discord.serverLinks.push(t))}b('未识别的任务类型',{href:t,text:e}),E({}).warning(`${f('unKnownTaskType')}: ${e}(${t})`)}catch(t){b('任务类型分类失败',{error:t}),S(t,'Givekey.classifyTaskByType')}}},class extends rt{name='GiveeClub';buttons=['doTask','undoTask','verifyTask'];static test(){const t=window.location.href,e=/^https?:\/\/givee\.club\/.*?\/event\/[\d]+/.test(t);return b('检查网站匹配',{url:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('登录检查失败'),E({}).warning(f('checkLoginFailed'))),await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed')))}catch(t){b('后续操作失败',{error:t}),S(t,'GiveeClub.after')}}init(){try{b('初始化 GiveeClub');const t=E({text:f('initing')});if(!this.#Lt()){return b('登录检查失败'),t.warning(f('needLogin')),!1}return this.#Bt()?(this.initialized=!0,b('初始化完成'),t.success(),!0):(b('获取抽奖ID失败'),!1)}catch(t){return b('初始化失败',{error:t}),S(t,'GiveeClub.init'),!1}}async classifyTask(t){try{b('开始分类任务',{action:t});const e=E({text:f('getTasksInfo')});if('undo'===t){return b('恢复已保存的任务信息'),this.socialTasks=GM_getValue(`gcTasks-${this.giveawayId}`)?.tasks||at,!0}b('初始化未完成任务列表'),this.undoneTasks=at;const s=$('.event-actions tr'),a=async t=>{const e=$(t).find('.event-action-label a'),s=$(t).find('.event-action-icon i').attr('class')||'',a=e.text().trim(),r=$(t).find('button[data-type]')?.attr('data-type')||'',i=$(t).find('.event-action-buttons .btn-success')?.length,o=e.attr('data-steam-wishlist-appid');if(b('处理任务',{taskName:a,taskType:r,taskIcon:s,taskFinished:i,appId:o}),s.includes('ban')||/AdBlock/i.test(a)||s.includes('envelope')||i){return b('跳过无效或已完成任务'),!0}const n=e.attr('href');if(!n){return b('任务链接为空'),!1}try{b('获取重定向链接',{taskHref:n});const t=await F(n,r.includes('steam'));return t?'steam.game.wishlist'===r&&o?(b('添加 Steam 愿望单任务',{appId:o}),this.undoneTasks.steam.wishlistLinks.push(`https://store.steampowered.com/app/${o}`),!0):(b('分类任务',{taskLink:t,taskType:r}),this.#Pt(t,r,s,a,e),!0):(b('获取重定向链接失败'),!1)}catch(t){return b('获取重定向链接失败',{error:t}),S(t,'GiveeClub.classifyTask->getRedirectLink'),!1}};return b('开始处理所有任务'),await Promise.all(Array.from(s).map(a)),b('任务处理完成'),e.success(),this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.undoneTasks,b('保存任务信息'),GM_setValue(`gcTasks-${this.giveawayId}`,{tasks:this.socialTasks,time:(new Date).getTime()}),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'GiveeClub.classifyTask'),!1}}#Pt(t,e,s,a,r){try{if(b('开始分类任务',{taskLink:t,taskType:e,taskIcon:s,taskName:a}),'steam.group.join'===e&&/^https?:\/\/steamcommunity\.com\/groups/.test(t)){return b('添加 Steam 组任务'),void this.undoneTasks.steam.groupLinks.push(t)}if(/like.*announcement/gi.test(a)){return b('添加 Steam 公告任务'),void this.undoneTasks.steam.announcementLinks.push(t)}if('steam.game.wishlist'===e&&/^https?:\/\/store\.steampowered\.com\/app\//.test(t)){return b('添加 Steam 愿望单任务'),void this.undoneTasks.steam.wishlistLinks.push(t)}if('steam.game.wishlist'===e&&r.attr('data-steam-wishlist-appid')){return b('添加 Steam 愿望单任务（通过 appId）'),void this.undoneTasks.steam.wishlistLinks.push(`https://store.steampowered.com/app/${r.attr('data-steam-wishlist-appid')}`)}if('steam.game.follow'===e&&/^https?:\/\/store\.steampowered\.com\/app\//.test(t)){return b('添加 Steam 游戏关注任务'),void this.undoneTasks.steam.followLinks.push(t)}if(/^https?:\/\/store\.steampowered\.com\/curator\//.test(t)){return b('添加 Steam 鉴赏家关注任务'),void this.undoneTasks.steam.curatorLinks.push(t)}if(s.includes('steam')&&/follow|subscribe/gim.test(a)){return b('添加 Steam 鉴赏家点赞任务'),void this.undoneTasks.steam.curatorLikeLinks.push(t)}if(/subscribe.*steam.*forum/gim.test(a)){return b('添加 Steam 论坛任务'),void this.undoneTasks.steam.forumLinks.push(t)}if('steam.game.playtime'===e&&/^https?:\/\/store\.steampowered\.com\/app\//.test(t)){const e=r.text().match(/(\d+)(?:\.\d+)?/gim)?.[0]||'0';return b('添加 Steam 游戏时长任务',{time:e}),void this.undoneTasks.steam.playTimeLinks.push(`${e}-${t}`)}if(s.includes('discord')){return b('添加 Discord 服务器任务'),void this.undoneTasks.discord.serverLinks.push(t)}if(s.includes('instagram')){return void b('跳过 Instagram 任务')}if(s.includes('twitch')){return b('添加 Twitch 频道任务'),void this.undoneTasks.twitch.channelLinks.push(t)}if(s.includes('reddit')){return b('添加 Reddit 任务'),void this.undoneTasks.reddit.redditLinks.push(t)}if(/watch.*art/gim.test(a)){return b('添加创意工坊物品任务'),void this.undoneTasks.steam.workshopVoteLinks.push(t)}if(/subscribe.*youtube.*channel/gim.test(a)){return b('添加 YouTube 频道任务'),void this.undoneTasks.youtube.channelLinks.push(t)}if(/(watch|like).*youtube.*video/gim.test(a)||(s.includes('youtube')||s.includes('thumbs-up'))&&/(watch|like).*video/gim.test(a)){return b('添加 YouTube 视频任务'),void this.undoneTasks.youtube.likeLinks.push(t)}if(s.includes('vk')||/join.*vk.*group/gim.test(a)){return b('添加 VK 任务'),void this.undoneTasks.vk.nameLinks.push(t)}if(s.includes('twitter')){if(/https?:\/\/(twitter|x)\.com\/[^/]+\/?$/gim.test(t)){return b('添加 Twitter 用户关注任务'),void this.undoneTasks.twitter.userLinks.push(t)}if(/https?:\/\/(twitter|x)\.com\/[^/]+?\/status\/[\d]+/gim.test(t)){return b('添加 Twitter 转发任务'),void this.undoneTasks.twitter.retweetLinks.push(t)}}if(/(on twitter)|(Follow.*on.*Facebook)/gim.test(a)){return void b('跳过 Twitter/Facebook 任务')}if(/follow.*button/gim.test(a)){return b('添加 Steam 关注任务'),void this.undoneTasks.steam.followLinks.push(t)}b('未识别的任务类型',{taskLink:t,taskType:e,taskIcon:s,taskName:a})}catch(t){return b('任务分类失败',{error:t}),void S(t,'GiveeClub.classifyTaskByType')}}async verifyTask(){try{b('开始验证任务');const t=E({text:f('giveeClubVerifyNotice')}),e=$('.event-actions tr button').has('i.glyphicon-refresh').not('[data-type="user.adblock"]');b('找到需要验证的任务按钮',{count:e.length});for(const t of e){b('点击验证按钮',{type:$(t).attr('data-type')}),t.click(),'steam.game.wishlist'!==$(t).attr('data-type')&&(b('等待1秒'),await P(1e3))}return b('任务验证完成'),t.warning(f('giveeClubVerifyFinished')),!0}catch(t){return b('任务验证失败',{error:t}),S(t,'Givekey.verifyTask'),!1}}#Lt(){try{if(b('检查登录状态'),!g.other.checkLogin){return b('跳过登录检查'),!0}const t=$('a[href*="/account/auth"]').length>0;return t&&(b('未登录，重定向到登录页面'),window.open($('a[href*="/account/auth"]').attr('href'),'_self')),b('登录检查完成',{needLogin:t}),!0}catch(t){return b('登录检查失败',{error:t}),S(t,'GiveeClub.checkLogin'),!1}}#Bt(){try{b('从URL获取抽奖ID');const t=window.location.href.match(/\/event\/([\d]+)/)?.[1];return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({text:f('getFailed','GiveawayId')}),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'GiveeClub.getGiveawayId'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=$('.event-ended').length>0,s=0===$('.event-winner').length;if(b('检查抽奖状态',{isEnded:e,hasNoWinner:s}),!e||!s){return!0}b('没有剩余密钥，显示确认对话框');const{value:a}=await t.fire({icon:'warning',title:f('notice'),text:f('giveawayEnded'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return a&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'GiveeClub.checkLeftKey'),!1}}},class{name='OpiumPulses';options={...nt,...GM_getValue('OpiumPulsesOptions')};maxPoints=99999999;myPoints=0;buttons=['doFreeTask','doPointTask'];static test(){const{host:t}=window.location,e='www.opiumpulses.com'===t;return b('检查网站匹配',{host:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('检查登录失败'),E({}).warning(f('checkLoginFailed'))),b('解析最大积分',{maxPoint:this.options.maxPoint}),this.maxPoints=parseInt(this.options.maxPoint,10)}catch(t){b('后续操作失败',{error:t}),S(t,'OpiumPulses.after')}}async doFreeTask(){try{b('开始执行免费任务'),this.#p('FREE')}catch(t){b('执行免费任务失败',{error:t}),S(t,'OpiumPulses.doFreeTask')}}async doPointTask(){try{b('开始执行积分任务');const t=$('.page-header__nav-func-user-nav-items.points-items').text(),e=t.match(/[\d]+/gim)?.[0]||'0';this.myPoints=parseInt(e,10),b('获取当前积分',{pointsText:t,pointsMatch:e,myPoints:this.myPoints}),this.#p('points')}catch(t){b('执行积分任务失败',{error:t}),S(t,'OpiumPulses.doPointTask')}}async#p(t){try{b('开始切换任务',{type:t});const e=$(`.giveaways-page-item:contains('${t}'):not(:contains('ENTERED'))`);b('找到未参与的抽奖项目',{count:e.length});for(const s of e){const e=$(s).find('.giveaways-page-item-header-points').text(),a=parseInt(e.match(/[\d]+/gim)?.[0]||'999999',10),r=$(s).find('.giveaways-page-item-footer-name').text().trim();if(b('处理抽奖项目',{name:r,needPoints:a}),'points'===t){if(a>this.myPoints){b('积分不足',{needPoints:a,myPoints:this.myPoints}),E({}).warning(`${f('noPoints')}: ${r}`);continue}if(!a){b('获取所需积分失败'),E({}).warning(`${f('getNeedPointsFailed')}: ${r}`);continue}if(a>this.maxPoints){b('超过最大积分限制',{needPoints:a,maxPoints:this.maxPoints});continue}}const i=E({text:`${f('joiningLottery')}<a href="${$(s).find('a.giveaways-page-item-img-btn-more').attr('href')}" target="_blank">${r}</a>...`}),o=$(s).find('a.giveaways-page-item-img-btn-enter:contains(\'enter\')');if(o?.attr('onclick')?.includes('checkUser')){const t=o.attr('onclick')?.match(/[\d]+/)?.[0];t&&(b('执行用户检查',{giveawayId:t}),checkUser(t))}if(!o.attr('href')){b('无效的链接'),i.error('Error: No "href".');continue}b('发送加入请求',{url:o.attr('href')});const{result:n,statusText:c,status:u,data:l}=await I({url:o.attr('href'),method:'GET'});if('Success'!==n){b('请求失败',{result:n,statusText:c,status:u}),i.error(`${n}:${c}(${u})`);continue}b('发送最终请求',{url:l?.finalUrl});const{result:d,statusText:h,status:p,data:g}=await I({url:l?.finalUrl,method:'GET'});if(g?.responseText){if(/You're not eligible to enter/gim.test(g.responseText)){b('用户不符合参与条件'),i.error('You\'re not eligible to enter')}else if(/You've entered this giveaway/gim.test(g.responseText)){if(b('加入抽奖成功'),i.success(),'points'===t){const t=g.responseText.match(/Points:[\s]*?([\d]+)/)?.[1];t&&(b('更新用户积分',{points:t}),this.myPoints=parseInt(t,10))}}else{b('加入抽奖失败',{result:d,statusText:h,status:p}),i.error(`${d}:${h}(${p})`)}}else{b('响应无效',{result:d,statusText:h,status:p}),i.error(`${d}:${h}(${p})`)}}b('任务处理完成'),E({text:'-----END-----'})}catch(t){b('切换任务失败',{error:t}),S(t,'OpiumPulses.toggleTask')}}init(){return b('初始化完成'),!0}classifyTask(){return b('任务分类完成'),!0}#Lt(){try{return b('检查登录状态'),g.other.checkLogin?($('a[href*="/site/login"]').length>1&&(b('未登录，重定向到登录页面'),window.open('/site/login','_self')),b('登录检查完成'),!0):(b('跳过登录检查'),!0)}catch(t){return b('检查登录失败',{error:t}),S(t,'OpiumPulses.checkLogin'),!1}}},lt,class extends et{name='Opquests';undoneTasks={...dt};buttons=['doTask','verifyTask','getKey'];static test(){const{host:t}=window.location,e='opquests.com'===t;return b('检查网站匹配',{host:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('检查登录失败'),E({}).warning(f('checkLoginFailed')));const t=GM_getValue('opquestsVerifyTasks')||[];if(b('获取待验证任务',{count:t.length}),t.length>0){const e=t.pop();b('处理任务',{taskId:e}),GM_setValue('opquestsVerifyTasks',t);const[s]=$(`#task_id[value="${e}"]`).parent().find('button[type="button"],button[type="submit"]').has('i.fa-check');return s?(b('点击验证按钮'),void s.click()):(b('未找到验证按钮，继续处理下一个任务'),void this.after())}GM_getValue('opquestsVerifyTasks')&&(b('清除验证任务缓存'),GM_deleteValue('opquestsVerifyTasks'))}catch(t){b('后续操作失败',{error:t}),S(t,'Opquests.after')}}init(){try{b('开始初始化');const t=E({text:f('initing')});return $('a[href*="/auth/redirect"]').length>0?(b('需要登录'),window.open('/auth/redirect','_self'),t.warning(f('needLogin')),!1):this.#Bt()?(this.initialized=!0,b('初始化完成'),t.success(),!0):(b('获取抽奖ID失败'),!1)}catch(t){return b('初始化失败',{error:t}),S(t,'Opquests.init'),!1}}async classifyTask(t){try{if(b('开始分类任务',{action:t}),'undo'===t){return b('不支持撤销操作'),E({text:f('cannotUndo')}),!1}const e=E({text:f('getTasksInfo')}),s=$('.w-full:contains("Validate") .items-center');b('找到任务',{count:s.length});for(const t of s){const e=$(t).find('a:contains("Open")').attr('href');if(!e){b('跳过无链接任务');continue}const s=$(t).find('div').eq(1).text().trim();if(b('处理任务',{taskDes:s,link:e}),/steamcommunity\.com\/groups\//.test(e)){b('添加 Steam 组任务'),this.undoneTasks.steam.groupLinks.push(e)}else if(/store\.steampowered\.com\/app\//.test(e)){if(/wishlist/gim.test(s)){b('添加 Steam 愿望单任务'),this.undoneTasks.steam.wishlistLinks.push(e)}else if(/follow/gim.test(s)){b('添加 Steam 关注任务'),this.undoneTasks.steam.followLinks.push(e)}else if(/play/gim.test(s)){const t=60*parseInt(s.replace(/\s/gim,'').match(/(\d+)hours/im)?.[1]||'0',10);b('添加 Steam 游戏时长任务',{time:t}),this.undoneTasks.steam.playTimeLinks.push(`${t}-${e}`)}}else if(/store\.steampowered\.com\/(publisher|developer|curator)\//.test(e)&&/follow/gim.test(s)){b('添加 Steam 鉴赏家关注任务'),this.undoneTasks.steam.curatorLikeLinks.push(e)}else{if(e.includes('//x.com/')){if(/follow/gim.test(s)){b('添加 Twitter 关注任务'),this.undoneTasks.twitter.userLinks.push(e);continue}if(e.includes('status')&&/Repost/gim.test(s)){b('添加 Twitter 转发任务'),this.undoneTasks.twitter.retweetLinks.push(e);continue}}e.includes('//discord.com/')&&/join/gim.test(s)?(b('添加 Discord 加入任务'),this.undoneTasks.discord.serverLinks.push(e)):/clash\.gg/.test(e)?(b('跳过不支持的 Clash.gg 任务'),E({}).warning(`${f('unSupporttedTaskType')}: ${s}(${e})`)):(b('未知任务类型'),E({}).warning(`${f('unKnownTaskType')}: ${s}(${e})`))}}return b('任务分类完成'),e.success(),this.undoneTasks=this.uniqueTasks(this.undoneTasks),window.DEBUG&&console.log('%cAuto-Task[Debug]:','color:blue',JSON.stringify(this)),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'Opquests.classifyTask'),!1}}async verifyTask(){try{b('开始验证任务'),this.initialized||(b('未初始化，执行初始化'),this.init());const t=$.makeArray($('.items-center').has('input[name="task_id"]')).map((t=>$(t).find('input[name="task_id"]').val()));return b('获取待验证任务',{count:t.length}),GM_setValue('opquestsVerifyTasks',t),await this.#ae(),b('执行后续操作'),this.after(),!0}catch(t){return b('验证任务失败',{error:t}),S(t,'Opquests.verifyTask'),!1}}async#ae(){try{b('开始确认任务');const t=E({html:`<li>${f('confirmingTask')}...<font></font></li>`});b('发送确认请求');const{result:e,statusText:s,status:a,data:r}=await I({url:`https://opquests.com/quests/${this.giveawayId}?confirm=1`,method:'GET',nochche:!0,headers:{origin:'https://opquests.com',referer:`https://opquests.com/warning?id=${this.giveawayId}`}});return'Success'!==e?(b('请求失败',{result:e,statusText:s,status:a}),t.error(`${e}:${s}(${a})`),!1):200!==r?.status?(b('响应错误',{status:r?.status,statusText:r?.statusText}),t.error(`Error:${r?.statusText}(${r?.status})`),!1):(b('确认成功'),t.success(),!0)}catch(t){return b('确认任务失败',{error:t}),S(t,'Opquests.confirm'),!1}}async getKey(t){try{if($('[name="task_id"]').length>0){return b('有任务未完成，不获取密钥'),E({}).warning(f('taskNotFinished')),!1}b('开始获取密钥',{isButton:t});const e=E({text:f('gettingKey')});b('发送获取密钥请求');const{result:s,statusText:a,status:r,data:i}=await I({url:'https://opquests.com/keys',method:'GET'});if('Success'!==s){return b('请求失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1}if(!i?.responseText){return b('响应无效',{status:i?.status,statusText:i?.statusText}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}const o=$('h1.font-bold').text().trim().replace(' Quest',''),n=$(i.responseText).find(`div.items-center:contains("${o}")`).find('div.font-bold').next().text();return b('查找密钥',{questTitle:o,hasKey:!!n}),n?(b('获取密钥成功'),e.success(),E({}).success(n),!0):(b('未找到密钥'),e.error('Error: Key was not found'),t&&(b('重定向到密钥页面'),window.open('https://opquests.com/keys','_self')),!1)}catch(t){return b('获取密钥失败',{error:t}),S(t,'Opquests.getKey'),!1}}#Bt(){try{b('开始获取抽奖ID');const t=window.location.href.match(/quests\/([\d]+)/)?.[1];return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({}).error(f('getFailed','GiveawayId')),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'Opquests.getGiveawayId'),!1}}#Lt(){try{return b('检查登录状态'),g.other.checkLogin?($('a[href*="/auth/redirect"]').length>0&&(b('未登录，重定向到登录页面'),window.open('/auth/redirect','_self')),b('登录检查完成'),!0):(b('跳过登录检查'),!0)}catch(t){return b('检查登录失败',{error:t}),S(t,'Opquests.checkLogin'),!1}}},class extends et{name='Gleam';undoneTasks=(()=>JSON.parse(ht))();socialTasks=(()=>JSON.parse(ht))();buttons=['doTask','undoTask','verifyTask'];static test(){const{host:t}=window.location,e='gleam.io'===t;return b('检查网站匹配',{host:t,isMatch:e}),e}before(){try{b('重写全局对话框函数'),unsafeWindow.confirm=()=>{},unsafeWindow.alert=()=>{},unsafeWindow.prompt=()=>{}}catch(t){b('重写全局对话框函数失败',{error:t}),S(t,'Gleam.before')}}async after(){try{if(b('开始执行后续操作'),window.location.search.includes('8b07d23f4bfa65f9')){b('检测到特殊查询参数，开始处理任务');const t=setInterval((()=>{$('.entry-content .entry-method i.fa-check').length>0&&(b('任务已完成，关闭窗口'),clearInterval(t),window.close())}));await this.verifyTask(),E({}).warning(f('gleamTaskNotice'))}else{await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed')))}}catch(t){b('后续操作失败',{error:t}),S(t,'Gleam.after')}}init(){try{b('初始化 Gleam');const t=E({text:f('initing')});return this.#Bt()?(this.initialized=!0,b('初始化完成'),t.success(),!0):(b('获取抽奖ID失败'),!1)}catch(t){return b('初始化失败',{error:t}),S(t,'Gleam.init'),!1}}async classifyTask(t){try{b('开始分类任务',{action:t});const e=E({text:f('getTasksInfo')});'undo'===t&&(b('恢复已保存的任务信息'),this.socialTasks=GM_getValue(`gleamTasks-${this.giveawayId}`)?.tasks||JSON.parse(ht));const s=$('.entry-content .entry-method');b('找到任务元素',{count:s.length});for(const e of s){const s=$(e);if('do'===t&&0===s.find('i.fa-question').length){b('跳过已完成的任务');continue}const a=s.find('.icon-wrapper i'),r=s.find('.user-links').text().trim(),i=s.find('.expandable').find('a.btn');if(b('处理任务',{taskText:r}),i.length>0){b('处理可点击元素',{count:i.length});for(const t of i){const e=$(t),s=e.attr('href');e.removeAttr('href')[0].click(),e.attr('href',s)}}if(a.hasClass('fa-twitter')||a.hasClass('fa-x-twitter')){const e=s.find('a[href^="https://twitter.com/"],a[href^="https://x.com/"]').attr('href');if(!e){continue}if(/follow/gi.test(r)){'undo'===t&&this.socialTasks.twitter.userLinks.push(e),'do'===t&&this.undoneTasks.twitter.userLinks.push(e);continue}if(/retweet/gim.test(r)){'undo'===t&&this.socialTasks.twitter.retweetLinks.push(e),'do'===t&&this.undoneTasks.twitter.retweetLinks.push(e);continue}}if(a.hasClass('fa-twitch')&&/follow/gim.test(r)){const e=s.find('a[href^="https://twitch.tv/"]').attr('href');if(!e){continue}'undo'===t&&this.socialTasks.twitch.channelLinks.push(e),'do'===t&&this.undoneTasks.twitch.channelLinks.push(e)}else if(a.hasClass('fa-discord')&&/join/gim.test(r)){let e=s.find('a[href^="https://discord.com/invite/"]').attr('href');if(!e){const t=s.find('a[href^="https://discord.gg/"]').attr('href')?.match(/discord\.gg\/([^/]+)/)?.[1];if(!t){continue}e=`https://discord.com/invite/${t}`}'undo'===t&&this.socialTasks.discord.serverLinks.push(e),'do'===t&&this.undoneTasks.discord.serverLinks.push(e)}else if(!a.hasClass('fa-external-link-square-alt')){if(a.hasClass('fa-youtube')&&/subscribe/gim.test(r)){const e=s.find('a[href^="https://www.youtube.com/channel/"]').attr('href');if(!e){continue}'undo'===t&&this.socialTasks.youtube.channelLinks.push(e),'do'===t&&this.undoneTasks.youtube.channelLinks.push(e)}else{if(a.attr('class')?.includes('steam')){if(/join.*group/gi.test(r)){const e=s.find('a[href^="https://steamcommunity.com/groups/"]').attr('href');if(!e){continue}'undo'===t&&this.socialTasks.steam.groupLinks.push(e),'do'===t&&this.undoneTasks.steam.groupLinks.push(e);continue}if(/follow.*curator/gi.test(r)){const e=s.find('a[href^="https://store.steampowered.com/curator/"]').attr('href');if(!e){continue}'undo'===t&&this.socialTasks.steam.curatorLinks.push(e),'do'===t&&this.undoneTasks.steam.curatorLinks.push(e);continue}if(/play.*hours/gi.test(r)){const e=s.find('a[href^="https://steamcommunity.com/app/"],a[href^="https://store.steampowered.com/app/"]').attr('href');if(!e){continue}'undo'===t&&this.socialTasks.steam.playTimeLinks.push(e),'do'===t&&this.undoneTasks.steam.playTimeLinks.push(e);continue}if(/Sign up/gi.test(r)){continue}}if(a.hasClass('fa-bullhorn')&&/Complete|Increase/gi.test(r)){if('do'!==t){continue}const e=await this.#re(r);if(!e){continue}this.undoneTasks.extra.gleam.push(e)}else{a.hasClass('fa-question')||a.hasClass('fa-reddit')||a.hasClass('fa-instagram')||a.hasClass('fa-facebook-f')||a.hasClass('fa-telegram-plane')||a.hasClass('fa-telegram')||a.hasClass('fa-vk')||a.hasClass('fa-envelope')||a.hasClass('fa-gift')||a.hasClass('fa-square-up-right')||a.hasClass('fa-gamepad-modern')||a.hasClass('fa-dollar-sign')||a.hasClass('fa-tiktok')||a.hasClass('fa-gamepad-alt')||a.hasClass('fa-bag-shopping')||a.hasClass('fa-swords')||a.hasClass('fa-shield')&&r.includes('one of our giveaways')||a.hasClass('fa-shield')&&r.includes('Check out')||a.hasClass('fa-shield')&&r.includes('vloot.io')||E({}).warning(`${f('unKnownTaskType')}: ${r}`)}}}}return b('任务分类完成'),e.success(),this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.uniqueTasks(this.socialTasks),b('保存任务信息'),GM_setValue(`gleamTasks-${this.giveawayId}`,{tasks:this.socialTasks,time:(new Date).getTime()}),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'Gleam.classifyTask'),!1}}async extraDoTask(t){let{gleam:e}=t;try{b('开始执行额外任务',{count:e.length});const t=[];for(const s of e){t.push(this.#ie(s))}return Promise.all(t).then((()=>!0))}catch(t){return b('执行额外任务失败',{error:t}),S(t,'Gleam.extraDoTask'),!1}}async#oe(){try{let t;return b('检测人机验证'),$('[campaign-key="campaign.key"]').length>0?(t=E({text:f('campaign')}),b('检测到人机验证'),await P(3e3),t.warning(f('retry')),await this.#oe(),!0):(t?.success(),!1)}catch(t){return b('检测人机验证失败',{error:t}),S(t,'Gleam.checkCampaign'),!1}}async verifyTask(){try{b('开始验证任务'),E({text:`${f('verifyingTask')}...`});const t=$('.entry-content .entry-method');unsafeWindow._OxA='_OxA';for(const e of t){if(await this.#oe()){return this.verifyTask()}const t=$(e);if(t.find('i.fa-check').length>0){b('跳过已完成的任务');continue}b('处理任务验证');t.find('.user-links')[0].click();const s=t.find('.expandable').find('a.btn');if(s.length>0){b('处理可点击元素',{count:s.length});for(const t of s){const e=$(t),s=e.attr('href');e.removeAttr('href')[0].click(),e.attr('href',s)}}b('处理计时器'),unsafeWindow.$hookTimer?.setSpeed(1e3);if(t.find('.expandable').find('span:contains(more seconds),button:contains(more seconds)').filter(':visible').length>0&&unsafeWindow.$hookTimer){b('处理访问按钮');const t=GM_openInTab('',{active:!0});await P(1e3),t?.close(),window.focus()}await P(3e3),unsafeWindow.$hookTimer?.setSpeed(1);const a=t.find('.expandable'),[r]=a.find('input');if(r){b('处理输入框');const t=new Event('input',{bubbles:!0,cancelable:!0,composed:!0}),e=[...a.text().matchAll(/"(.+?)"/g)].at(-1)?.[1];r.value=e||'vloot',r.dispatchEvent(t),await P(1e3)}await this.#ne();const i=t.find('.expandable').find('span:contains(Continue),button:contains(Continue),a:contains(Continue)');for(const t of i){b('点击继续按钮'),t.click(),await P(500),await this.#ne()}}return b('任务验证完成'),E({text:f('verifiedGleamTasks')}),!0}catch(t){return b('任务验证失败',{error:t}),S(t,'Gleam.verifyTask'),!1}}async#ne(){try{return b('开始检查同步状态'),await new Promise((t=>{const e=setInterval((()=>{0===$('.entry-content .entry-method i.fa-sync').length&&(b('同步完成'),clearInterval(e),t(!0))}),500)}))}catch(t){return b('检查同步状态失败',{error:t}),S(t,'Gleam.checkSync'),!1}}async#ie(t){try{b('执行 Gleam 任务',{link:t});const e=E({text:f('doingGleamTask')});return await new Promise((s=>{GM_openInTab(`${t}?8b07d23f4bfa65f9`,{active:!0,insert:!0,setParent:!0}).onclose=()=>{b('任务完成'),e.success(),s(!0)}}))}catch(t){return b('执行 Gleam 任务失败',{error:t}),S(t,'Gleam.doGleamTask'),!1}}#Bt(){try{b('获取抽奖ID');const t=window.location.pathname;return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({text:f('getFailed','GiveawayId')}),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'Gleam.getGiveawayId'),!1}}async#re(t){try{b('获取 Gleam 链接',{title:t});const e=E({text:f('gettingGleamLink')}),{result:s,statusText:a,status:r,data:i}=await I({url:'https://www.vloot.io/api/v1/giveaways',method:'GET',responseType:'json'});if('Success'===s){if(200===i?.status&&!0===i?.response?.Success&&i?.response?.Data){const{link:s}=i.response.Data.find((e=>t.replace(/[\s]/g,'').toLowerCase().includes(e.title.replace(/[\s]/g,'').toLowerCase())))||{};return s?(b('获取链接成功',{link:s}),e.success(),s):(b('获取链接失败'),e.error(`Error:${f('getLinkFailed')}`),!1)}return b('API响应错误',{status:i?.status,statusText:i?.statusText}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}return b('请求失败',{result:s,status:r,statusText:a}),e.error(`${s}:${a}(${r})`),!1}catch(t){return b('获取 Gleam 链接失败',{error:t}),S(t,'Gleam.getGleamLink'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=$('div.popup-blocks-container').attr('ng-init')?.match(/initCampaign\(([\w\W]+?)\)$/)?.[1];if(!e){return b('未找到活动配置信息'),!1}const{campaign:s,incentive:a}=JSON.parse(e),r=$('div.campaign.reward').attr('ng-init')?.match(/initContestant\(([\w\W]+?)\);/)?.[1];let i=!1;r&&JSON.parse(r).contestant?.claims?.incentives?.[a.id]?.length&&(b('用户已拥有密钥'),i=!0);const o=s.banned||s.finished&&!i||s.paused||(new Date).getTime()<1e3*s.starts_at;if(b('检查抽奖状态',{banned:s.banned,finished:s.finished,ownedKey:i,paused:s.paused,notStarted:(new Date).getTime()<1e3*s.starts_at}),!o){return!0}b('抽奖无效，显示确认对话框');const{value:n}=await t.fire({icon:'warning',title:f('notice'),text:f('giveawayNotWork'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return n&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'Gleam.checkLeftKey'),!1}}},class extends et{name='SweepWidget';options={...pt,...GM_getValue('SweepWidgetOptions')};buttons=['doTask'];static test(){const{host:t}=window.location,e=/^sweepwidget\.com$/.test(t);return b('检查网站匹配',{host:t,isMatch:e}),/^https?:\/\/sweepwidget\.com\/view\/[\d]+/.test(window.location.href)}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('检查登录失败'),E({}).warning(f('checkLoginFailed')))}catch(t){b('后续操作失败',{error:t}),S(t,'SweepWidget.after')}}init(){try{b('开始初始化');const t=E({text:f('initing')});return this.#Lt()?this.#Bt()?(this.initialized=!0,b('初始化完成'),t.success(),!0):(b('获取抽奖ID失败'),!1):(b('需要登录'),t.warning(f('needLogin')),!1)}catch(t){return b('初始化失败',{error:t}),S(t,'SweepWidget.init'),!1}}classifyTask(){return b('任务分类完成'),!0}async doTask(){try{if(b('开始执行任务'),0===$('#unlock_rewards_main_wrapper').length){b('未显示奖励界面，尝试登录'),$('input[name="sw__login_name"]:visible').length>0&&(b('填写用户名',{username:this.options.username}),$('input[name="sw__login_name"]').val(this.options.username)),$('input[name="sw__login_email"]:visible').length>0&&(b('填写邮箱',{email:this.options.email}),$('input[name="sw__login_email"]').val(this.options.email)),$('#sw_login_button:visible').length>0&&(b('点击登录按钮'),$('#sw_login_button')[0].click());if(!await this.#ce()){return b('进入抽奖失败'),!1}}const t=E({text:f('SweepWidgetNotice')}),e=$('#sw_inner_entry_methods_l2_wrapper>div.sw_entry');b('找到任务列表',{count:e.length});for(const t of e){const e=$(t);if(e.find('i.fa-check:visible').length>0){b('跳过已完成的任务');continue}const s=e.find('.sw_text_inner'),a=e.find('a.sw_link'),r=a.attr('href');if(!r){b('跳过无效链接的任务');continue}b('处理任务',{title:s.text(),link:r}),s[0].click(),a.attr('href','#a').attr('target','_self'),a[0]?.click(),await P(300),a.attr('href',r).attr('target','_blank'),b('填写测试文本'),e.find('input[type="text"]').val('test');!0===e.find('input.sw_verify').prop('disabled')&&(b('验证按钮被禁用，尝试重新激活'),s[0].click(),await P(300),s[0].click(),await P(300)),b('点击验证按钮'),e.find('input.sw_verify').removeAttr('disabled')[0]?.click(),await this.#ue(e);const i=parseInt(''+(2001*Math.random()+1e3),10);b('等待随机延迟',{delay:i}),await P(i)}return b('所有任务执行完成'),t.success(),!0}catch(t){return b('执行任务失败',{error:t}),S(t,'SweepWidget.doTask'),!1}}#Lt(){try{return b('检查登录状态'),$('#twitter_login_button').length>0&&(b('点击 Twitter 登录按钮'),$('#twitter_login_button')[0].click()),b('登录检查完成'),!0}catch(t){return b('检查登录失败',{error:t}),S(t,'SweepWidget.checkLogin'),!1}}#Bt(){try{b('开始获取抽奖ID');const t=window.location.href.match(/\/view\/([\d]+)/)?.[1];return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({text:f('getFailed','GiveawayId')}),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'SweepWidget.getGiveawayId'),!1}}async#ce(){try{return b('开始检查是否进入抽奖'),new Promise((t=>{const e=setInterval((()=>{0!==$('#unlock_rewards_main_wrapper').length?(b('成功进入抽奖'),clearInterval(e),t(!0)):b('等待进入抽奖...')}),500)}))}catch(t){return b('检查进入抽奖失败',{error:t}),S(t,'SweepWidget.checkEnter'),!1}}async#ue(t){try{return b('开始检查任务完成状态'),new Promise((e=>{const s=setInterval((()=>{t.find('i.fa-check:visible').length>0||0===t.find('.sw_entry_input:visible').length?(b('任务完成'),clearInterval(s),e(!0)):b('等待任务完成...')}),500)}))}catch(t){return b('检查任务完成状态失败',{error:t}),S(t,'SweepWidget.checkFinish'),!1}}},class{name='Setting';buttons=['saveGlobalOptions','syncData','tasksHistory'];syncData=(()=>bt)();selectors={body:'body',autoTaskInfo:'#auto-task-info',autoTaskButtons:'#auto-task-buttons',showButtonDiv:'div.show-button-div',positionInputs:'input[name^="position"]',hotKeyInputs:'input[name^="hotKey"]'};tasksHistory(){b('打开任务历史记录页面'),GM_openInTab('https://auto-task.hclonely.com/history.html',{active:!0})}static test(){const{host:t,pathname:e}=window.location,s=['auto-task.hclonely.com','auto-task-doc.js.org'].includes(t)&&'/setting.html'===e;return b('检查设置页面匹配',{host:t,pathname:e,isMatch:s}),s}before(){try{b('开始清空页面内容'),$(this.selectors.body).html('').addClass('auto-task-options'),b('页面内容已清空')}catch(t){b('清空页面内容失败',{error:t}),S(t,'Setting.before')}}async after(){try{b('开始初始化设置页面'),await this.#le(),this.#de(),this.#he(),this.#pe(),this.#ge(),b('设置页面初始化完成')}catch(t){b('设置页面初始化失败',{error:t}),S(t,'Setting.after')}}saveGlobalOptions(){try{b('开始保存全局选项'),mt(),b('全局选项保存完成')}catch(t){b('保存全局选项失败',{error:t}),S(t,'Setting.saveGlobalOptions')}}async#le(){try{b('开始初始化环境信息');const t=await s.getInfo();b('获取用户代理信息',{userAgent:t});const e=this.#me(t);$(this.selectors.body).append(`<h2>${f('environment')}</h2>${e}`),b('环境信息初始化完成')}catch(t){b('初始化环境信息失败',{error:t}),S(t,'Setting.initializeEnvironment')}}#me(t){return`\n      <form id="environmentForm" class="auto-task-form">\n        <table class="auto-task-table">\n          <thead>\n            <tr>\n              <td>${f('type')}</td>\n              <td>${f('name')}</td>\n              <td>${f('version')}</td>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>${f('os')}</td>\n              <td>${t.system}</td>\n              <td>${t.systemVersion}</td>\n            </tr>\n            <tr>\n              <td>${f('browser')}</td>\n              <td>${t.browser}</td>\n              <td>${t.browserVersion}</td>\n            </tr>\n            <tr>\n              <td>${f('scriptManager')}</td>\n              <td>${GM_info.scriptHandler}</td>\n              <td>${GM_info.version}</td>\n            </tr>\n            <tr>\n              <td>${f('script')}</td>\n              <td>${GM_info.script.name}</td>\n              <td>${GM_info.script.version}</td>\n            </tr>\n          </tbody>\n        </table>\n      </form>\n    `}#de(){b('开始初始化全局设置'),wt('page'),yt('page'),b('全局设置初始化完成')}#he(){b('开始设置社交媒体按钮'),this.#we('other.twitterVerifyId','getTwitterUserId','twitterUser'),this.#we('other.youtubeVerifyChannel','getYoutubeChannelId','youtubeChannel'),b('社交媒体按钮设置完成')}#we(t,e,s){b('添加社交媒体按钮',{inputName:t,buttonId:e,socialType:s}),$(`input[name="${t}"]`).after(`<button id="${e}" type="button">${f(`get${e}`)}</button>`),$(`#${e}`).on('click',(()=>this.#L(s))),b('社交媒体按钮添加完成')}#pe(){b('开始设置位置处理器'),$(this.selectors.positionInputs).on('input',(t=>{const e=$(t.target),s=e.attr('name')?.replace('position.','');s?(b('处理位置变化',{type:s}),this.#fe(s)):b('无效的位置类型')})),b('位置处理器设置完成')}#fe(t){b('开始处理位置变化',{type:t});const e=this.#Ae(t);if(!e){return void b('获取位置配置失败')}const{distance:s,sideX:a,sideY:r}=e;if(!this.#ke(s,a,r)){return void b('无效的位置配置',{distance:s,sideX:a,sideY:r})}const[i,o]=s.split(','),n=this.#ye(t);n?(b('更新元素位置',{target:n,sideX:a,sideY:r,x:i,y:o}),this.#Te(n,a,r,i,o)):b('获取目标元素失败')}#Ae(t){b('获取位置配置',{type:t});const e=t.replace(/(?:button|log|show)(?:SideX|SideY|Distance)$/,''),s={distance:$(`input[name="position.${e}Distance"]`).val(),sideX:$(`input[name="position.${e}SideX"]`).val(),sideY:$(`input[name="position.${e}SideY"]`).val()};return b('位置配置',s),s}#ke(t,e,s){const a=vt.includes(e)&&xt.includes(s)&&/^[\d]+?,[\d]+$/.test(t);return b('验证位置配置',{distance:t,sideX:e,sideY:s,isValid:a}),a}#ye(t){return{button:this.selectors.autoTaskButtons,showButton:this.selectors.showButtonDiv,log:this.selectors.autoTaskInfo}[t.replace(/(?:SideX|SideY|Distance)$/,'')]}#Te(t,e,s,a,r){b('更新元素位置',{selector:t,sideX:e,sideY:s,x:a,y:r});const i='right'===e?'left':'right',o='top'===s?'bottom':'top';$(t).css(e,`${a}px`).css(s,`${r}px`).css(i,'').css(o,''),b('元素位置更新完成')}#ge(){b('开始设置热键处理器'),$(this.selectors.hotKeyInputs).attr('readonly','readonly').off('keydown').on('keydown',this.#be),b('热键处理器设置完成')}#be(t){b('处理热键按下事件',{key:t.key});const e=[];t.altKey&&e.push('alt'),t.ctrlKey&&e.push('ctrl'),t.shiftKey&&e.push('shift');const s=1===t.key.length?t.key.toLowerCase():'',a=e.length?`${e.join(' + ')} + ${s}`:s;b('设置热键值',{functionKeys:e,key:s,value:a}),$(t.target).val(a)}async#L(e){try{b('开始获取社交媒体ID',{social:e});(await t.fire({title:f('getId',f(e)),html:this.#ve(e),showCancelButton:!0,cancelButtonText:f('close'),showConfirmButton:!1})).isDismissed?b('用户取消获取ID'):(b('用户确认获取ID'),await this.#xe(e))}catch(t){b('获取社交媒体ID失败',{error:t}),S(t,'Setting.getId')}}#ve(t){return`\n      <input id="socialLink" class="swal2-input" placeholder="在此处输入链接获取id">\n      <button id="link2id" data-type="${t}" class="swal2-confirm swal2-styled">获取id</button>\n    `}async#xe(t){const e=$('#socialLink').val();if(!e){return void b('链接为空')}b('开始处理ID获取',{social:t,link:e});let s='';if('twitterUser'===t){const t=e.match(/https:\/\/twitter\.com\/(.+)/)?.[1]||e;b('获取Twitter用户ID',{name:t}),s=await(new z).userName2id(t)||''}else if('youtubeChannel'===t){const t=this.#Se(e);b('获取YouTube频道信息',{name:t});const a=await J(t,'channel');s=a?.params?.channelId||''}b('ID获取结果',{id:s}),$('#socialLink').val(s)}#Se(t){if(b('提取YouTube URL',{link:t}),/^https:\/\/(www\.)?google\.com.*?\/url\?.*?url=https:\/\/www.youtube.com\/.*/.test(t)){const e=t.match(/url=(https:\/\/www\.youtube\.com\/.*)/)?.[1]||t;return b('从Google搜索结果提取URL',{extractedUrl:e}),e}return t}},class extends lt{name='History';buttons=['doTask','undoTask','selectAll','selectNone','invertSelect','clearHistory'];static test(){try{const{host:t,pathname:e}=window.location,s=['auto-task.hclonely.com','auto-task-doc.js.org'].includes(t)&&'/history.html'===e;return b('检查是否为历史记录页面',{host:t,pathname:e,isMatch:s}),s}catch(t){return b('检查历史记录页面时出错',{error:t}),S(t,'History.test'),!1}}before(){try{b('开始初始化历史记录页面'),$('body').html('<div class="container"></div>').addClass('auto-task-history'),b('页面基础结构已创建');const t=GM_listValues()||[];b('获取存储的所有值',{count:t.length});const e=t.map((t=>/^[\w]+?Tasks-/.test(t)?t:null)).filter((t=>t));b('筛选任务历史记录',{count:e.length}),e.forEach((t=>{b('处理任务项',{item:t}),this.#Ce(t)})),b('历史记录页面初始化完成')}catch(t){b('初始化历史记录页面时出错',{error:t}),S(t,'History.before')}}clearHistory(){try{b('开始清除历史记录');const e=GM_listValues()||[];b('获取存储的所有值',{count:e.length});const s=e.map((t=>/^[\w]+?Tasks-/.test(t)?t:null)).filter((t=>t));b('筛选要清除的任务历史记录',{count:s.length}),s.forEach((t=>{b('删除任务项',{item:t}),GM_deleteValue(t)})),b('历史记录清除完成'),t.fire({title:f('clearHistoryFinished'),icon:'success'})}catch(t){b('清除历史记录时出错',{error:t}),S(t,'History.clearHistory')}}#Ce(t){try{b('开始添加任务项',{item:t});const e=GM_getValue(t);if(!e?.tasks){return void b('任务数据无效',{item:t})}const{title:s,link:a}=this.#Ie(t);if(!s||!a){return void b('获取任务信息失败',{item:t})}b('生成任务HTML',{item:t,title:s,link:a});const r=this.#De(e.tasks);this.#Ge(t,s,a,r,e.time),this.#Le(),b('任务项添加完成',{item:t})}catch(e){b('添加任务项时出错',{error:e,item:t}),S(e,'History.addItem')}}#Ie(t){try{b('开始获取任务信息',{item:t});const[e,s]=t.split('-');b('解析任务标识符',{website:e,id:s});const a={fawTasks:{title:`Freeanywhere[${s}]`,link:`https://freeanywhere.net/#/giveaway/${s}`},gasTasks:{title:`Giveawaysu[${s}]`,link:`https://giveaway.su/giveaway/view/${s}`},gcTasks:{title:`GiveeClub[${s}]`,link:`https://givee.club/event/${s}`},gkTasks:{title:`Givekey[${s}]`,link:`https://givekey.ru/giveaway/${s}`},gleamTasks:{title:`Gleam[${s}]`,link:`https://gleam.io${s}`},khTasks:{title:`keyhub[${s}]`,link:`https://key-hub.eu/giveaway/${s}`},prysTasks:{title:`Prys[${s}]`,link:`https://prys.revadike.com/giveaway/?id=${s}`}}[e]||{title:'',link:''};return b('获取任务信息结果',{result:a}),a}catch(e){return b('获取任务信息时出错',{error:e,item:t}),S(e,'History.getTaskInfo'),{title:'',link:''}}}#De(t){try{b('开始生成任务HTML');let e='';for(const[s,a]of Object.entries(t)){for(const[t,r]of Object.entries(a)){for(const a of r){b('处理任务',{social:s,type:t,task:a});const r=a.length>55?`${a.slice(0,55)}...`:a;e+=`<li>\n              <font class="auto-task-capitalize">${s}.${f(t.replace('Link',''))}: </font>\n              <a href="${a}" target="_blank">${r}</a>\n            </li>`}}}return b('任务HTML生成完成'),e}catch(t){return b('生成任务HTML时出错',{error:t}),S(t,'History.generateTaskHtml'),''}}#Ge(t,e,s,a,i){try{b('开始添加任务到容器',{item:t,title:e,link:s}),$('.container').append(`\n        <div class="card" data-name="${t}">\n          <div class="title">\n            <a href="${s}" target="_blank">${e}</a>\n            <span class="delete-task" data-name="${t}" title="${f('deleteTask')}">\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2734" width="32" height="32">\n                <path d="M607.897867 768.043004c-17.717453 0-31.994625-14.277171-31.994625-31.994625L575.903242 383.935495c0-17.717453 14.277171-31.994625 31.994625-31.994625s31.994625 14.277171 31.994625 31.994625l0 351.94087C639.892491 753.593818 625.61532 768.043004 607.897867 768.043004z" p-id="2735" fill="#d81e06"></path>\n                <path d="M415.930119 768.043004c-17.717453 0-31.994625-14.277171-31.994625-31.994625L383.935495 383.935495c0-17.717453 14.277171-31.994625 31.994625-31.994625 17.717453 0 31.994625 14.277171 31.994625 31.994625l0 351.94087C447.924744 753.593818 433.647573 768.043004 415.930119 768.043004z" p-id="2736" fill="#d81e06"></path>\n                <path d="M928.016126 223.962372l-159.973123 0L768.043004 159.973123c0-52.980346-42.659499-95.983874-95.295817-95.983874L351.94087 63.989249c-52.980346 0-95.983874 43.003528-95.983874 95.983874l0 63.989249-159.973123 0c-17.717453 0-31.994625 14.277171-31.994625 31.994625s14.277171 31.994625 31.994625 31.994625l832.032253 0c17.717453 0 31.994625-14.277171 31.994625-31.994625S945.73358 223.962372 928.016126 223.962372zM319.946246 159.973123c0-17.545439 14.449185-31.994625 31.994625-31.994625l320.806316 0c17.545439 0 31.306568 14.105157 31.306568 31.994625l0 63.989249L319.946246 223.962372 319.946246 159.973123 319.946246 159.973123z" p-id="2737" fill="#d81e06"></path>\n                <path d="M736.048379 960.010751 288.123635 960.010751c-52.980346 0-95.983874-43.003528-95.983874-95.983874L192.139761 383.591466c0-17.717453 14.277171-31.994625 31.994625-31.994625s31.994625 14.277171 31.994625 31.994625l0 480.435411c0 17.717453 14.449185 31.994625 31.994625 31.994625l448.096758 0c17.717453 0 31.994625-14.277171 31.994625-31.994625L768.215018 384.795565c0-17.717453 14.277171-31.994625 31.994625-31.994625s31.994625 14.277171 31.994625 31.994625l0 479.231312C832.032253 916.835209 789.028725 960.010751 736.048379 960.010751z" p-id="2738" fill="#d81e06"></path>\n              </svg>\n            </span>\n          </div>\n          <ul>${a}</ul>\n          <span class="time">${f('lastChangeTime')}: ${r(i).format('YYYY-MM-DD HH:mm:ss')}</span>\n        </div>\n      `),b('任务已添加到容器',{item:t})}catch(e){b('添加任务到容器时出错',{error:e,item:t}),S(e,'History.appendTaskToContainer')}}#Le(){try{b('开始绑定删除事件'),$('span.delete-task').on('click',(function(){const e=$(this).attr('data-name');if(b('点击删除按钮',{itemName:e}),!e){return b('删除失败：未找到任务名称'),void t.fire({title:f('clearTaskFailed'),icon:'error'})}GM_deleteValue(e),$(`div.card[data-name="${e}"]`).remove(),b('任务删除成功',{itemName:e}),t.fire({title:f('clearTaskFinished'),text:e,icon:'success'})})),b('删除事件绑定完成')}catch(t){b('绑定删除事件时出错',{error:t}),S(t,'History.bindDeleteEvent')}}},class extends et{name='GiveawayHopper';undoneTasks=(()=>JSON.parse(St))();socialTasks=(()=>JSON.parse(St))();tasks=[];buttons=['doTask','undoTask','verifyTask'];static test(){const{host:t}=window.location,e='giveawayhopper.com'===t;return b('检查网站匹配',{host:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('登录检查失败'),E({}).warning(f('checkLoginFailed')));const t=this.#Bt();b('获取抽奖ID',{success:t,id:this.giveawayId})}catch(t){b('后续操作失败',{error:t}),S(t,'GiveawayHopper.after')}}async init(){try{b('初始化 GiveawayHopper');const t=E({text:f('initing')});return await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed'))),this.initialized=!0,b('初始化完成'),t.success(),!0}catch(t){return b('初始化失败',{error:t}),S(t,'GiveawayHopper.init'),!1}}async classifyTask(t){try{b('开始分类任务',{action:t}),this.giveawayId||(b('未找到抽奖ID，尝试获取'),await this.#Bt());const e=E({text:f('getTasksInfo')});'undo'===t&&(b('恢复已保存的任务信息'),this.socialTasks=GM_getValue(`giveawayHopperTasks-${this.giveawayId}`)?.tasks||JSON.parse(St)),b('请求任务列表');const{result:s,statusText:a,status:r,data:i}=await I({url:`https://giveawayhopper.com/api/v1/campaigns/${this.giveawayId}/with-auth`,method:'GET',responseType:'json',headers:{authorization:`Bearer ${window.sessionStorage.gw_auth}`,'x-xsrf-token':decodeURIComponent(document.cookie.match(/XSRF-TOKEN=([^;]+)/)?.[1])}});if('Success'!==s){return b('请求任务列表失败',{result:s,statusText:a,status:r}),e.error(`${s}:${a}(${r})`),!1}if(200!==i?.status||!i?.response?.tasks){return b('任务列表数据异常',{status:i?.status,response:i?.response}),e.error(`Error:${i?.statusText}(${i?.status})`),!1}b('获取到任务列表',{count:i.response.tasks.length}),this.tasks=i.response.tasks;for(const e of i.response.tasks){if(e.isDone){b('跳过已完成任务',{taskId:e.id,type:e.type})}else if(b('处理任务',{taskId:e.id,category:e.category,type:e.type}),await I({url:`https://giveawayhopper.com/api/v1/campaigns/${this.giveawayId}/tasks/${e.id}/visited`,method:'GET',responseType:'json',headers:{authorization:`Bearer ${window.sessionStorage.gw_auth}`,'x-xsrf-token':decodeURIComponent(document.cookie.match(/XSRF-TOKEN=([^;]+)/)?.[1])}}),'Steam'!==e.category||'JoinGroup'!==e.type){if('Discord'!==e.category||'JoinServer'!==e.type){['TikTok','YouTube','General'].includes(e.category)?b('跳过特殊任务类型',{category:e.category}):(b('发现未知任务类型',{category:e.category,type:e.type}),E({}).warning(`${f('unKnownTaskType')}: ${e.category}-${e.type}`))}else{const s=`https://discord.gg/${e.invite_code}`;b('添加 Discord 服务器链接',{action:t,link:s}),'undo'===t&&this.socialTasks.discord.serverLinks.push(s),'do'===t&&this.undoneTasks.discord.serverLinks.push(s)}}else{b('处理 Steam 组任务');const s=await F(`https://steamcommunity.com/gid/${e.group_id}`);if(!s){b('获取 Steam 组链接失败');continue}b('添加 Steam 组链接',{action:t,link:s}),'undo'===t&&this.socialTasks.steam.groupLinks.push(s),'do'===t&&this.undoneTasks.steam.groupLinks.push(s)}}return e.success(),this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.uniqueTasks(this.socialTasks),b('任务分类完成',{undoneTasks:this.undoneTasks,socialTasks:this.socialTasks}),GM_setValue(`giveawayHopperTasks-${this.giveawayId}`,{tasks:this.socialTasks,time:(new Date).getTime()}),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'GiveawayHopper.classifyTask'),!1}}async verifyTask(){try{b('开始验证任务');for(const t of this.tasks){if(t.isDone){b('跳过已完成任务',{taskId:t.id});continue}b('验证任务',{taskId:t.id,name:t.displayName?.replace(':target',t.targetName)||t.name});const e=E({text:`${f('verifyingTask')}[${t.displayName?.replace(':target',t.targetName)||t.name}]...`});t.link||(b('获取任务链接'),t.link=this.#Ee(t)),t.link&&(b('访问任务链接',{link:t.link}),await this.#Be(t)),await P(1e3);const s=await this.#Pe(t,e);b('任务验证结果',{taskId:t.id,success:s})}return b('所有任务验证完成'),!0}catch(t){return b('任务验证失败',{error:t}),S(t,'GiveawayHopper.verifyTask'),!1}}#Ee(t){try{b('生成任务链接',{category:t.category,type:t.type});let e='';return'YouTube'===t.category&&'FollowAccount'===t.type?e=`https://www.youtube.com/@${t.targetName}`:'TikTok'===t.category&&'FollowAccount'===t.type?e=`https://www.tiktok.com/@${t.targetName}`:('Steam'===t.category&&'JoinGroup'===t.type||'Discord'===t.category&&'JoinServer'===t.type)&&(e=''),b('生成的任务链接',{link:e}),e}catch(t){return b('生成任务链接失败',{error:t}),S(t,'GiveawayHopper.getTaskLink'),''}}async#Be(t){b('访问任务链接',{taskId:t.id,link:t.link}),await I({url:`https://giveawayhopper.com/fw?url=${encodeURIComponent(t.link)}&src=campaign&src_id=${this.giveawayId}&ref=task&ref_id=${t.id}&token=${window.sessionStorage.gw_auth}`,method:'GET',headers:{authorization:`Bearer ${window.sessionStorage.gw_auth}`,'x-xsrf-token':decodeURIComponent(document.cookie.match(/XSRF-TOKEN=([^;]+)/)?.[1])}})}async#Pe(t,e){b('验证任务',{taskId:t.id,category:t.category,type:t.type});const s={taskcategory:t.category,taskname:t.type};['YouTube','TikTok'].includes(t.category)&&(s.username='1');const{result:a,statusText:r,status:i,data:o}=await I({url:`https://giveawayhopper.com/api/v1/campaigns/${this.giveawayId}/tasks/${t.id}/complete`,method:'POST',headers:{authorization:`Bearer ${window.sessionStorage.gw_auth}`,'x-xsrf-token':decodeURIComponent(document.cookie.match(/XSRF-TOKEN=([^;]+)/)?.[1]),'content-type':'application/json'},dataType:'json',data:JSON.stringify(s)});return'Success'!==a?(b('任务验证请求失败',{result:a,statusText:r,status:i}),e.error(`${a}:${r}(${i})`),!1):200===o?.status&&o?.response?.completed?(b('任务验证成功',{taskId:t.id}),e.success(),!0):(b('任务验证响应异常',{status:o?.status,response:o?.response}),e.error(`Error:${o?.statusText}(${o?.status})`),!1)}#Bt(){try{b('从URL获取抽奖ID');const t=window.location.pathname.split('/').at(-1);return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({text:f('getFailed','GiveawayId')}),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'GiveawayHopper.getGiveawayId'),!1}}#Lt(){try{if(b('检查登录状态'),!g.other.checkLogin){return b('跳过登录检查'),!0}const t=$('div.widget-connections-edit:contains("Log in")').length>0;return t&&(b('未登录，自动点击登录按钮'),$('div.widget-connections-edit:contains("Log in") a')[0].click()),b('登录检查完成',{needLogin:t}),!0}catch(t){return b('登录检查失败',{error:t}),S(t,'GiveawayHopper.checkLogin'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=parseInt($('p.widget-single-prize span').text()?.match(/\d+/)?.[0]||'0',10);if(b('剩余密钥数量',{keyCount:e}),e>0){return!0}b('没有剩余密钥，显示确认对话框');const{value:s}=await t.fire({icon:'warning',title:f('notice'),text:f('noKeysLeft'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return s&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'GiveawayHopper.checkLeftKey'),!1}}},class extends et{name='Prys';socialTasks=(()=>JSON.parse(Ct))();undoneTasks=(()=>JSON.parse(Ct))();buttons=['doTask','undoTask','verifyTask'];static test(){const{host:t}=window.location,e='prys.revadike.com'===t;return b('检查网站匹配',{host:t,isMatch:e}),e}async after(){try{b('开始执行后续操作'),this.#Lt()||(b('检查登录失败'),E({}).warning(f('checkLoginFailed'))),await this.#Et()||(b('检查剩余密钥失败'),E({}).warning(f('checkLeftKeyFailed')))}catch(t){b('后续操作失败',{error:t}),S(t,'Prys.after')}}init(){try{b('开始初始化');const t=E({text:f('initing')});return $('button:contains("Sign")').length>0?(b('需要登录'),t.warning(f('needLogin')),!1):this.#Bt()?(this.initialized=!0,b('初始化完成'),t.success(),!0):(b('获取抽奖ID失败'),!1)}catch(t){return b('初始化失败',{error:t}),S(t,'Prys.init'),!1}}async classifyTask(t){try{b('开始分类任务',{action:t});const e=E({text:f('getTasksInfo')});'undo'===t&&(b('恢复已保存的任务信息'),this.socialTasks=GM_getValue(`prysTasks-${this.giveawayId}`)?.tasks||JSON.parse(Ct));const s=$('#steps tbody tr');b('找到任务步骤',{count:s.length});for(let t=0;t<s.length;t+=1){0===s.eq(t).find('span:contains(Success)').length&&(b('点击检查按钮',{step:t}),checkClick(t))}const a=[];for(const e of s){if($(e).find('span:contains(Success)').length>0&&'do'===t){b('跳过已完成的任务');continue}const s=$(e).find('a[href*=\'store.steampowered.com/app/\']').attr('href');if(s){const a=$(e).find('a[href*=\'store.steampowered.com/app/\']').text().includes('wishlist')?'wishlistLinks':'followLinks';b('添加 Steam 应用任务',{type:a,link:s}),'undo'===t&&this.socialTasks.steam[a].push(s),'do'===t&&this.undoneTasks.steam[a].push(s);continue}const r=$(e).find('a[href*=\'store.steampowered.com/curator/\']').attr('href');if(r){b('添加 Steam 鉴赏家任务',{link:r}),'undo'===t&&this.socialTasks.steam.curatorLinks.push(r),'do'===t&&this.undoneTasks.steam.curatorLinks.push(r);continue}const i=$(e).find('a[href*=\'steamcommunity.com/groups/\']').attr('href');if(i){b('添加 Steam 组任务',{link:i}),'undo'===t&&this.socialTasks.steam.groupLinks.push(i),'do'===t&&this.undoneTasks.steam.groupLinks.push(i);continue}const o=$(e).find('a[href*=\'steamcommunity.com/gid\']').attr('href');o&&(b('处理 Steam GID 链接',{link:o}),a.push(F(o).then((e=>{if(!e||!/^https?:\/\/steamcommunity\.com\/groups\//.test(e)){return b('无效的 Steam 组链接',{finalUrl:e}),!1}b('添加 Steam 组任务（从 GID）',{link:e}),'undo'===t&&this.socialTasks.steam.groupLinks.push(e),'do'===t&&this.undoneTasks.steam.groupLinks.push(e)}))))}return await Promise.allSettled(a),b('任务分类完成'),e.success(),this.undoneTasks=this.uniqueTasks(this.undoneTasks),this.socialTasks=this.uniqueTasks(this.socialTasks),window.DEBUG&&console.log('%cAuto-Task[Debug]:','color:blue',JSON.stringify(this)),GM_setValue(`prysTasks-${this.giveawayId}`,{tasks:this.socialTasks,time:(new Date).getTime()}),!0}catch(t){return b('任务分类失败',{error:t}),S(t,'Prys.classifyTask'),!1}}async verifyTask(){try{b('开始验证任务');const t=$('#steps tbody a[id^=check]');if(0===t.length){return b('没有需要验证的任务'),void E({}).success(f('allTasksComplete'))}const e=[];for(const s of t){const t=$(s).attr('id')?.match(/[\d]+/)?.[0];if(!t){b('跳过无效任务ID');continue}const a=$(s).parent()?.prev()?.html()?.trim();b('验证任务',{id:t,taskDes:a});const r=E({text:`${f('verifyingTask')}${a}...`});e.push(new Promise((e=>{this.#Fe(t,e,r)})))}await Promise.all(e),b('所有任务验证完成'),E({}).success(f('allTasksComplete'))}catch(t){b('验证任务失败',{error:t}),S(t,'Prys.verifyTask')}}#Bt(){try{b('开始获取抽奖ID');const t=window.location.search.match(/id=([\d]+)/)?.[1];return t?(this.giveawayId=t,b('获取抽奖ID成功',{giveawayId:t}),!0):(b('获取抽奖ID失败'),E({}).error(f('getFailed','GiveawayId')),!1)}catch(t){return b('获取抽奖ID出错',{error:t}),S(t,'Prys.getGiveawayId'),!1}}async#Et(){try{if(b('检查剩余密钥'),!g.other.checkLeftKey){return b('跳过密钥检查'),!0}const e=$('#header').text().match(/([\d]+).*?prize.*?left/)?.[1];if(b('检查剩余密钥数量',{leftKey:e}),'0'!==e){return!0}b('没有剩余密钥，显示确认对话框');const{value:s}=await t.fire({icon:'warning',title:f('notice'),text:f('noKeysLeft'),confirmButtonText:f('confirm'),cancelButtonText:f('cancel'),showCancelButton:!0});return s&&(b('用户确认关闭窗口'),window.close()),!0}catch(t){return b('检查剩余密钥失败',{error:t}),S(t,'Prys.checkLeftKey'),!1}}#Lt(){try{return b('检查登录状态'),g.other.checkLogin?($('button:contains("Sign")').length>0&&(b('未登录'),E({}).warning(f('needLogin'))),b('登录检查完成'),!0):(b('跳过登录检查'),!0)}catch(t){return b('检查登录失败',{error:t}),S(t,'Prys.checkLogin'),!1}}#Fe(t,e,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{b('开始检查步骤',{step:t,hasCaptcha:!!a}),'captcha'!==t&&(b('更新步骤状态为检查中'),$(`#check${t}`).replaceWith(`<span id="check${t}"><i class="fa fa-refresh fa-spin fa-fw"></i> Checking...</span>`)),b('发送检查请求'),$.post('/api/check_step',{step:t,id:getURLParameter('id'),'g-recaptcha-response':a},(a=>{e(),b('收到检查响应',{success:a.success}),'captcha'!==t&&(a.success?(b('步骤检查成功'),$(`#check${t}`).replaceWith(`<span class="text-success" id="check${t}"><i class="fa fa-check"></i> Success</span>`),s.success()):(b('步骤检查失败'),$(`#check${t}`).replaceWith(`<a id="check${t}" href="javascript:checkStep(${t})"><i class="fa fa-question"></i> Check</a>`),s.error(a.response?.error||'Error'))),a.response&&(a.response.prize&&(b('获得奖品',{prize:a.response.prize}),showAlert('success',`Here is your prize:<h1 role="button" align="middle" style="word-wrap: break-word;">${a.response.prize}</h2>`)),a.response.captcha&&(b('需要验证码'),a.success?showAlert('info',a.response.captcha):showAlert('warning',a.response.captcha),captchaCheck()))})).fail((()=>{e(),b('请求失败'),$(`#check${t}`).replaceWith(`<a id="check${t}" href="javascript:checkStep(${t})"><i class="fa fa-question"></i> Check</a>`),s.error('Error:0')}))}catch(t){b('检查步骤失败',{error:t}),S(t,'prys.checkStep'),e(!1)}}}],Dt=t=>{b('开始生成网站选项表单HTML',{options:t});const e=Object.entries(t).map((t=>{let[e,s]=t;return`\n      <tr>\n        <td>${e}</td>\n        <td>\n          <input\n            class="editOption"\n            type="text"\n            name="${e}"\n            value="${s}"\n          />\n        </td>\n      </tr>\n    `})).join(''),s=`\n    <form id="websiteOptionsForm" class="auto-task-form">\n      <table class="auto-task-table">\n        <thead>\n          <tr>\n            <td>${f('option')}</td>\n            <td>${f('value')}</td>\n          </tr>\n        </thead>\n        <tbody>\n          ${e}\n        </tbody>\n      </table>\n    </form>\n  `;return b('表单HTML生成完成'),s},Gt=async(e,s)=>{try{if(b('开始设置网站选项',{website:e}),!e||'string'!=typeof e){throw b('无效的网站参数',{website:e}),new Error('Invalid website parameter')}if(!s||'object'!=typeof s){throw b('无效的选项参数',{options:s}),new Error('Invalid options parameter')}b('显示选项编辑对话框');if((await t.fire({title:f('websiteOptions'),html:Dt(s),showConfirmButton:!0,confirmButtonText:f('save'),showCancelButton:!0,cancelButtonText:f('close')})).isConfirmed){b('用户确认保存选项');if(!document.getElementById('websiteOptionsForm')){throw b('未找到表单元素'),new Error('Form element not found')}const a=$('#websiteOptionsForm').serializeArray();b('获取表单数据',{formData:a}),((e,s,a)=>{b('开始保存网站选项',{website:e,formValues:a}),a.forEach((t=>{let{name:e,value:a}=t;s[e]=a,b('更新选项值',{name:e,value:a})})),GM_setValue(`${e}Options`,s),b('选项已保存到存储',{website:e}),t.fire({title:f('changeWebsiteOptionsSuccess'),icon:'success'})})(e,s,a)}else{b('用户取消保存选项')}}catch(t){b('设置网站选项时发生错误',{error:t}),S(t,'websiteOptions')}},Lt={github:'https://github.com/HCLonely/auto-task/raw/main/',jsdelivr:'https://cdn.jsdelivr.net/gh/HCLonely/auto-task@main/',standby:'https://auto-task.hclonely.com/'},Et=async(t,e)=>{try{b('开始检查更新',{updateLink:t,auto:e});const s=`${t}package.json?time=${Date.now()}`;b('构建检查URL',{checkUrl:s});const{result:a,statusText:r,status:i,data:o}=await I({url:s,responseType:'json',method:'GET',timeout:3e4});if('Success'===a&&o?.response?.version){return b('成功获取更新信息',{version:o.response.version}),o.response}if(e){b('自动检查更新失败',{result:a,statusText:r,status:i})}else{const t=o?.response?.version?`${f('checkUpdateFailed')}[${o?.statusText}(${o?.status})]`:`${f('checkUpdateFailed')}[${a}:${r}(${i})]`;b('检查更新失败',{errorMessage:t}),E({}).error(t)}return!1}catch(t){return b('检查更新发生错误',{error:t}),S(t,'checkUpdate'),!1}},Bt=t=>{b('获取更新链接',{updateSource:t});const e=t.toLowerCase(),s=Lt[e]||Lt.github;return b('选择的更新链接',{source:e,link:s}),s},Pt=(t,e,s)=>{if(b('准备显示更新信息',{currentVersion:e,newVersion:t.version}),((t,e)=>{try{b('开始比较版本号',{currentVersion:t,remoteVersion:e});const[s]=t.split('-'),[a,r]=e.split('-');if(r&&!g.other.receivePreview){return b('不接收预览版本',{isPreview:r}),!1}const i=s.split('.').map(Number),o=a.split('.').map(Number);b('版本号解析',{currentVersionParts:i,remoteVersionParts:o});for(let s=0;s<3;s++){if(o[s]>i[s]){return b('发现新版本',{position:s,current:t,remote:e}),!0}if(o[s]<i[s]){return b('远程版本较旧',{position:s,current:t,remote:e}),!1}}return b('版本号相同'),!1}catch(t){return b('比较版本号时发生错误',{error:t}),S(t,'compareVersion'),!1}})(e,t.version)){const e=`${s}dist/${GM_info.script.name}.user.js`;b('发现新版本，显示更新通知',{scriptUrl:e}),E({html:`<li><font>${f('newVersionNotice',t.version,e)}</font></li>`});const a=t.change?.map((t=>`<li>${t}</li>`)).join('')||'';b('显示更新日志',{changeListLength:t.change?.length}),E({html:`<li>${f('updateText',t.version)}</li><ol class="update-text">${a}<li>${f('updateHistory')}</li></ol>`})}else{b('当前已是最新版本')}},Ft=[];for(let t=0;t<256;++t){Ft.push((t+256).toString(16).slice(1))}let Mt;const Ot=new Uint8Array(16);var Rt={randomUUID:'undefined'!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ut(t,e,s){if(Rt.randomUUID&&!t){return Rt.randomUUID()}const a=(t=t||{}).random??t.rng?.()??function(){if(!Mt){if('undefined'==typeof crypto||!crypto.getRandomValues){throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported')}Mt=crypto.getRandomValues.bind(crypto)}return Mt(Ot)}();if(a.length<16){throw new Error('Random bytes length must be >= 16')}return a[6]=15&a[6]|64,a[8]=63&a[8]|128,function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Ft[t[e+0]]+Ft[t[e+1]]+Ft[t[e+2]]+Ft[t[e+3]]+'-'+Ft[t[e+4]]+Ft[t[e+5]]+'-'+Ft[t[e+6]]+Ft[t[e+7]]+'-'+Ft[t[e+8]]+Ft[t[e+9]]+'-'+Ft[t[e+10]]+Ft[t[e+11]]+Ft[t[e+12]]+Ft[t[e+13]]+Ft[t[e+14]]+Ft[t[e+15]]).toLowerCase()}(a)}try{l()}catch(t){console.error('Auto-Task[Warning]: consoleLogHook 初始化失败',t)}window.STYLE=GM_addStyle('.colorful-button,#auto-task-buttons a.auto-task-website-btn,.show-button-div a.auto-task-website-btn,body.auto-task-options .auto-task-form table button{position:relative !important;padding:14px 28px !important;text-align:center !important;color:#fff !important;text-decoration:none !important;background:#2196f3 !important;border-radius:30px !important;text-transform:capitalize !important;font-weight:600 !important;letter-spacing:.5px !important;border:none !important;transition:all .2s ease !important;display:inline-block !important;line-height:1.5 !important;margin:8px !important;margin-bottom:12px !important;box-sizing:border-box !important;min-height:50px !important;min-width:140px !important;outline:none !important;vertical-align:middle !important;white-space:nowrap !important;font-size:18px !important}.colorful-button:hover,#auto-task-buttons a.auto-task-website-btn:hover,.show-button-div a.auto-task-website-btn:hover,body.auto-task-options .auto-task-form table button:hover{background:#1976d2 !important;box-shadow:0 4px 8px rgba(0,0,0,.1) !important;cursor:pointer !important;color:#fff !important;text-decoration:none !important}.colorful-button:active,#auto-task-buttons a.auto-task-website-btn:active,.show-button-div a.auto-task-website-btn:active,body.auto-task-options .auto-task-form table button:active{transform:translateY(1px) !important;color:#fff !important;text-decoration:none !important}.colorful-button:focus,#auto-task-buttons a.auto-task-website-btn:focus,.show-button-div a.auto-task-website-btn:focus,body.auto-task-options .auto-task-form table button:focus{color:#fff !important;text-decoration:none !important;outline:none !important}#auto-task-info{position:fixed;bottom:10px;right:10px;width:60%;max-width:500px;max-height:60%;overflow-y:auto;color:#000;background-color:#fff;padding-left:5px;z-index:999999999 !important;border:solid 2px #add8e6;border-radius:10px;font-size:14px !important}#auto-task-info li{text-align:left;display:block !important;align-items:baseline !important}#auto-task-info li .before-icon{display:inline-block !important;width:14px !important;height:14px !important;position:relative !important;top:2px !important;margin-right:5px !important;background-size:14px !important;background-repeat:no-repeat !important;flex-shrink:0 !important}#auto-task-info li font.before{color:#57bae8;margin-right:5px}#auto-task-info li a.high-light{color:#00aeff;font-weight:bold}#auto-task-info .success{color:green}#auto-task-info .error{color:red}#auto-task-info .warning{color:blue}#auto-task-info .info{color:#ff0}#auto-task-info .update-text{color:green;border:solid 2px #8dcb69;margin:5px 10px 5px 20px;border-radius:10px;padding:5px 20px}.auto-task-keylol{display:inline-block;text-transform:capitalize;margin-left:10px;text-decoration:none !important;border:solid 1px;border-radius:5px;padding:0 2px}.auto-task-keylol[selected=selected]{background-color:blue !important;color:#fff !important}.auto-task-form table{font-family:verdana,arial,sans-serif;font-size:11px;color:#333;border-width:1px;border-color:#999;border-collapse:collapse;width:100%}.auto-task-form table thead td{border-width:1px;padding:8px;border-style:solid;border-color:#a9c6c9;font-weight:bold;background-color:#fff}.auto-task-form table tbody tr{background-color:#d4e3e5}.auto-task-form table tbody tr:hover{background-color:#ff6 !important}.auto-task-form table tbody tr th{background-color:#c3dde0;border-width:1px;padding:8px;border-style:solid;border-color:#a9c6c9;text-transform:capitalize}.auto-task-form table tbody tr td{border-width:1px;padding:8px;border-style:solid;border-color:#a9c6c9}.swal2-modal{width:70% !important;max-width:1000px !important}.swal2-modal #swal2-title{text-align:center !important}body.auto-task-options{padding-top:10px;text-align:center}body.auto-task-options .auto-task-form{width:80%;max-width:1000px;margin:0 auto;padding-bottom:20px}body.auto-task-options .auto-task-form table input.editOption{width:80%}body.auto-task-options .auto-task-form table #getTwitterUserId,body.auto-task-options .auto-task-form table #getYoutubeChannelId{margin-top:5px}body.auto-task-options .auto-task-form table button{z-index:1;position:relative !important;padding:5px 20px !important;text-align:center !important;color:#fff !important;text-decoration:none !important;background:#2196f3 !important;border-radius:30px !important;text-transform:capitalize !important;font-weight:600 !important;letter-spacing:.5px !important;border:none !important;transition:all .2s ease !important;display:inline-block !important;line-height:1 !important;margin:8px !important;box-sizing:border-box !important;min-height:30px !important;min-width:140px !important;outline:none !important;vertical-align:middle !important;white-space:nowrap !important;font-size:15px !important}body.auto-task-options .auto-task-form table input[type=text]{outline-style:none;border:1px solid #ccc;border-radius:3px;padding:5px 10px;font-size:14px}body.auto-task-options .auto-task-form table input[type=text]:focus{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}body.auto-task-options .auto-task-form table label{position:relative;width:160px;height:80px;cursor:pointer;transform:scale(0.25);margin:-25% 0;top:-30px;display:inline-block}body.auto-task-options .auto-task-form table label input{position:relative;z-index:1;appearance:none}body.auto-task-options .auto-task-form table label input:checked~span{background:#05be05;box-shadow:0 15px 25px rgba(5,190,5,.4)}body.auto-task-options .auto-task-form table label input:checked~span i{left:84px}body.auto-task-options .auto-task-form table label input:checked~span i::before{background:#05be05;box-shadow:35px 0 0 #05be05}body.auto-task-options .auto-task-form table label input:checked~span i::after{bottom:12px;height:15px;border-bottom-left-radius:15px;border-bottom-right-radius:15px;background:#05be05}body.auto-task-options .auto-task-form table label span{position:absolute;top:0;left:0;width:100%;height:100%;background:#fe0000;border-radius:80px;transition:.5s;box-shadow:0 15px 25px rgba(254,0,0,.4)}body.auto-task-options .auto-task-form table label span i{position:absolute;top:4px;left:4px;width:72px;height:72px;background:#fff;border-radius:50%}body.auto-task-options .auto-task-form table label span i::before{content:"";position:absolute;top:22px;left:12px;width:12px;height:12px;border-radius:50%;background:#fe0000;box-shadow:35px 0 0 #fe0000;transition:.5s}body.auto-task-options .auto-task-form table label span i::after{content:"";position:absolute;bottom:15px;left:calc(50% - 15px);width:30px;height:6px;border-radius:6px;background:#fe0000;transition:.5s}body.auto-task-history{font-size:15px;font-weight:400;line-height:1.5}body.auto-task-history .container a{color:#007bff;text-decoration:none;background-color:rgba(0,0,0,0)}body.auto-task-history .container .card{width:80%;max-width:800px;border-radius:10px;background:rgba(118,118,118,.1019607843);border-top:1px solid hsla(0,0%,100%,.5019607843);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:0 15px 25px rgba(0,0,0,.1019607843);margin:20px auto;position:relative;display:flex;flex-direction:column;word-wrap:break-word;-webkit-background-clip:border-box;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}body.auto-task-history .container .card .title{text-align:center;font-size:30px;font-weight:bold;margin:5px 0}body.auto-task-history .container .card .title a:hover{text-decoration:none;background:#93e1ff;border-radius:10px;padding:3px}body.auto-task-history .container .card ul{margin-bottom:25px}body.auto-task-history .container .card ul li{margin-bottom:5px;line-height:20px}body.auto-task-history .container .card ul a:hover{text-decoration:underline}body.auto-task-history .container .card .delete-task{right:10px;width:38px;height:35px;position:absolute;font-size:24px;cursor:pointer;border-radius:10px}body.auto-task-history .container .card .delete-task:hover{background:#fff}body.auto-task-history .container .card .time{right:5px;position:absolute;bottom:0;color:#e83e8c;font-family:\'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace\';font-size:15px}#auto-task-buttons,.show-button-div{position:fixed !important;top:30px;right:15px;width:150px !important;z-index:999999999 !important;padding:8px !important;border-radius:12px !important}#auto-task-buttons p,.show-button-div p{line-height:normal !important;height:auto !important;text-align:center !important;margin:8px 0 !important;padding:0 !important;font-size:16px !important;color:#333 !important}#auto-task-buttons a.auto-task-website-btn,.show-button-div a.auto-task-website-btn{width:140px !important;min-height:30px !important;line-height:1.5 !important;font-size:16px !important;display:block !important;margin:0 auto !important;padding:8px 16px !important}.show-button-div{width:40px !important;cursor:pointer !important;padding:4px !important}.show-button-div a.auto-task-website-btn{right:-15px !important}.show-button-div a.auto-task-website-btn::after{content:"✓" !important;position:absolute !important;left:12px !important;top:50% !important;transform:translateY(-50%) !important;font-size:18px !important;font-weight:bold !important;color:#fff !important}.auto-task-capitalize{text-transform:capitalize !important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{box-shadow:inset 0px 0px 4px 1px rgba(100,150,200,.5) !important}.swal2-checkbox-custom{align-items:center;justify-content:center;background:#fff;color:inherit;margin:1em auto}.swal2-checkbox-custom input{flex-shrink:0;margin:0 .4em}.giveaway-actions #getKey{display:none !important}.auto-task-giveaway-status{color:#fff;border-radius:10px;padding:0 5px;margin-left:5px}.auto-task-giveaway-status.active{background-color:#5cb85c}.auto-task-giveaway-status.not-active{background-color:#d9534f}'+GM_getResourceText('style')),window.DEBUG=!!g.other?.debug,window.TRACE=!!g.other?.debug&&'function'==typeof console.trace;const Yt=async()=>{b('开始处理Discord认证');const e=(t=>{try{b('开始将所有LocalStorage转换为对象');const e={};for(let s=0;s<t.length;s++){const a=t.key(s);if(!a){continue}const r=t.getItem(a);try{e[a]=JSON.parse(r)}catch(t){e[a]=r,console.error(t)}}return b('所有LocalStorage转换为对象完成',e),e}catch(t){return b('将所有LocalStorage转换为对象失败',{error:t}),S(t,'getAllLocalStorageAsObjects'),{}}})(window.localStorage),a=e.token;if(a&&a.length>0){const r=await s.getInfo();GM_setValue('discordAuth',{auth:a,xSuperProperties:window.btoa(JSON.stringify({os:r.system,browser:r.browser,device:'',system_locale:r.language,...e.deviceProperties||{},browser_user_agent:navigator.userAgent,browser_version:r.browserVersion,os_version:r.systemVersion,referrer:'',referring_domain:'',referrer_current:'',referring_domain_current:'',release_channel:'stable',client_build_number:unsafeWindow.GLOBAL_ENV.BUILD_NUMBER,client_event_source:null,has_client_mods:!1,client_launch_id:Ut(),client_heartbeat_session_id:e.LAST_CLIENT_HEARTBEAT_SESSION?.uuid,client_app_state:'focused'}))}),window.close(),t.fire('',f('closePageNotice'))}else{t.fire({text:f('getDiscordAuthFailed'),icon:'error'})}},Vt=async()=>{if(b('主程序入口 loadScript 开始'),'ATv4_twitchAuth'===window.name&&'www.twitch.tv'===window.location.hostname){return b('检测到Twitch认证窗口'),void await(async()=>{b('开始处理Twitch认证');const s=e.get('auth-token');if(e.get('login')){const e={authToken:s,clientVersion:window.__twilightBuildID,clientId:window.commonOptions?.headers?.['Client-ID'],deviceId:window.commonOptions?.headers?.['Device-ID'],clientSessionId:window.localStorage.local_storage_app_session_id.replace(/"/g,'')};GM_setValue('twitchAuth',e),window.close(),await t.fire('',f('closePageNotice'))}else{await t.fire('',f('needLogin'))}})()}if('ATv4_redditAuth'===window.name&&'www.reddit.com'===window.location.hostname){return b('检测到Reddit认证窗口'),void await(async()=>{b('开始处理Reddit认证');const e=$('#redesign-beta-optin-btn');e.length>0?e[0].click():(window.close(),await t.fire('',f('closePageNotice')))})()}let s;for(const t of It){if(t.test()){b('识别到支持的网站',{website:t.name}),s=new t;break}}if(!s){return b('未识别到支持的网站，脚本停止加载'),void console.log('%c%s','color:#ff0000','Auto-Task[Warning]: 脚本停止加载，当前网站不支持！')}s.before&&(b('执行网站 before 钩子'),await s.before()),(t=>{b('初始化UI元素',{website:t.name}),$('body').append(`\n    <div id="auto-task-info"\n        style="display:${g.other.defaultShowLog?'block':'none'};\n                ${g.position.logSideX}:${g.position.logDistance.split(',')[0]}px;\n                ${g.position.logSideY}:${g.position.logDistance.split(',')[1]}px;">\n    </div>\n    <div id="auto-task-buttons"\n        style="display:${g.other.defaultShowButton?'block':'none'};\n                ${g.position.buttonSideX}:${g.position.buttonDistance.split(',')[0]}px;\n                ${g.position.buttonSideY}:${g.position.buttonDistance.split(',')[1]}px;">\n    </div>\n    <div class="show-button-div"\n        style="display:${g.other.defaultShowButton?'none':'block'};\n                ${g.position.showButtonSideX}:${g.position.showButtonDistance.split(',')[0]}px;\n                ${g.position.showButtonSideY}:${g.position.showButtonDistance.split(',')[1]}px;">\n      <a class="auto-task-website-btn"\n        href="javascript:void(0);"\n        target="_self"\n        title="${f('showButton')}"> </a>\n    </div>\n  `);const e=$('#auto-task-info'),s=$('#auto-task-buttons'),a=$('div.show-button-div');if(a.on('click',(()=>{s.show(),a.hide()})),t.buttons&&0===s.children().length){s.addClass(`${t.name}-buttons`);for(const e of t.buttons){if(t[e]){const a=$(`<p><a class="auto-task-website-btn ${t.name}-button" href="javascript:void(0);" target="_self">${f(e)}</a></p>`);a.find('a.auto-task-website-btn').on('click',(()=>{t[e]()})),s.append(a)}}}const r=$(`<p><a class="auto-task-website-btn ${t.name}-button" href="javascript:void(0);" target="_self">${f('hideButton')}</a></p>`);r.find('a.auto-task-website-btn').on('click',(()=>{s.hide(),a.show()}));const i=$(`<p><a id="toggle-log" class="auto-task-website-btn ${t.name}-button" href="javascript:void(0);" target="_self" data-status="${g.other.defaultShowLog?'show':'hide'}">${g.other.defaultShowLog?f('hideLog'):f('showLog')}</a></p>`);i.find('a.auto-task-website-btn').on('click',(()=>{const t=$('#toggle-log');'show'===t.attr('data-status')?(e.hide(),t.attr('data-status','hide').text(f('showLog'))):(e.show(),t.attr('data-status','show').text(f('hideLog')))})),s.append(r).append(i),t.options&&GM_registerMenuCommand(f('changeWebsiteOptions'),(()=>{Gt(t.name,t.options)}))})(s),(t=>{b('初始化热键',{website:t.name}),i.bind(g.hotKey.doTaskKey,(()=>{t.doTask&&t.doTask()})),i.bind(g.hotKey.undoTaskKey,(()=>{t.undoTask&&t.undoTask()})),i.bind(g.hotKey.toggleLogKey,(()=>{const t=$('#toggle-log'),e=t.attr('data-status'),s=$('#auto-task-info');'show'===e?(s.hide(),t.attr('data-status','hide').text(f('showLog'))):(s.show(),t.attr('data-status','show').text(f('hideLog')))}))})(s),s.after&&(b('执行网站 after 钩子'),await s.after()),'Setting'!==s.name&&(b('注册全局菜单命令'),GM_registerMenuCommand(f('changeGlobalOptions'),(()=>{wt('swal')})),GM_registerMenuCommand(f('settingPage'),(()=>{GM_openInTab('https://auto-task.hclonely.com/setting.html',{active:!0})}))),b('脚本加载完成'),console.log('%c%s','color:#1bbe1a','Auto-Task[Load]: 脚本加载完成'),window.DEBUG&&E({}).warning(f('debugModeNotice')),await(async()=>{if(b('检查Steam ASF状态'),!g.ASF.AsfEnabled||!g.ASF.AsfIpcUrl||!g.ASF.AsfIpcPassword){return}const e=GM_getValue('stopPlayTime',0)||0;if(0===e||e>=Date.now()){return}const s=Math.floor((Date.now()-e)/6e4);await t.fire({title:f('stopPlayTimeTitle'),text:f('stopPlayTimeText',s.toString()),icon:'warning',confirmButtonText:f('confirm')});let a=new Z(g.ASF);try{if(!await a.init()){return}if(!await a.stopPlayGames()){return}const t=GM_getValue('taskLink',[])||[];for(const e of t){GM_openInTab(e,{active:!0})}GM_setValue('stopPlayTime',0),GM_setValue('playedGames',[]),GM_setValue('taskLink',[])}catch(t){console.error('SteamASF operation failed:',t)}finally{a=null}})(),(()=>{b('检查版本和通知');const{scriptHandler:e}=GM_info;if('Tampermonkey'!==e){return b('未知脚本管理器',{scriptHandler:e}),void E({}).warning(f('unknownScriptHandler'))}const[s,a]=GM_info.version?.split('.')||[];parseInt(s,10)>=5&&parseInt(a,10)>=2||E({}).error(f('versionNotMatched')),GM_getValue('notice')||(t.fire({title:f('swalNotice'),icon:'warning'}).then((()=>{GM_openInTab(f('noticeLink'),{active:!0}),GM_setValue('notice',(new Date).getTime())})),E({html:`<li><font class="warning">${f('echoNotice',f('noticeLink'))}</font></li>`}).font?.find('a').on('click',(()=>{GM_setValue('notice',(new Date).getTime())})))})(),(async()=>{try{b('开始检查更新流程');const t=GM_info.script.version,e=g.other.autoUpdateSource;b('当前配置',{currentVersion:t,updateSource:e});let s=!1;if(['github','jsdelivr','standby'].includes(e.toLowerCase())){b('使用指定的更新源',{updateSource:e});const t=Bt(e);s=await Et(t,!1)}else{b('按优先级尝试不同的更新源');for(const t of['github','jsdelivr','standby']){if(b('尝试更新源',{source:t}),s=await Et(Lt[t],!0),s){b('成功获取更新信息',{source:t});break}}}if(!s){return b('所有更新源检查失败'),void E({}).error(f('checkUpdateFailed'))}Pt(s,t,Bt(e))}catch(t){b('更新检查过程发生错误',{error:t}),S(t,'updateChecker')}})()};try{if(b('主程序入口开始',{hostname:window.location.hostname,windowName:window.name}),['freeanywhere.net','give.gamesforfarm.local','gamesforfarm-testing.ru','store.steampowered.com','steamcommunity.com','www.youtube.com','m.youtube.com','mee6.xyz','gamesforfarm.com'].includes(window.location.hostname)&&$('.task-check-extension').length>0&&(b('检测到freeanywhere.com，加载扩展'),function(){const t=window.location.hostname;function e(t){try{JSON.parse(t)}catch(t){return!1}return!0}if($(window).on('load',(function(){if(console.log('👌 gamesforfarm extension'),'freeanywhere.net'==t||'give.gamesforfarm.local'==t||'gamesforfarm-testing.ru'==t){const a=$('.games_for_farm_site').data('steam'),r=$('.games_for_farm_site').data('avatar'),i=$('.games_for_farm_site').data('name'),o=$('.games_for_farm_site').data('lang');let n=!0;GM_addValueChangeListener('FAW_STORAGE',(function(t,e){0!=n&&GM_getValue('FAW_STORAGE',(function(t){$.ajax({type:'POST',url:'/php/extension/user_data_update.php',data:{extension:JSON.stringify(t)},success:function(t){}})}))}));const c=GM_getValue('FAW_STORAGE')||{};if(!(0!==Object.keys(c).length&&c.tasks&&c.user&&c.games&&c.settings)){GM_deleteValue('FAW_STORAGE');let l={tasks:{},user:{},games:{},settings:{}};a&&(l.user.steam=a),r&&(l.user.avatar=r),i&&(l.user.name=i),o&&(l.user.lang=o),a?$.ajax({type:'POST',url:'/php/extension/user_games_get.php',data:{steam:a},success:function(t){if(''!=t&&e(t)){const e=JSON.parse(t);l.games=e,l.settings.game_update=parseInt(Date.now()/1e3),GM_setValue('FAW_STORAGE',l)}}}):GM_setValue('FAW_STORAGE',l)}if(c.user&&c.settings&&c.user.steam&&(c.settings.game_update||(c.settings.game_update=0),parseInt(Date.now()/1e3)-parseInt(c.settings.game_update)>86400&&$.ajax({type:'POST',url:'/php/extension/user_games_get.php',data:{steam:c.user.steam},success:function(t){if(''!=t&&e(t)){const e=JSON.parse(t);c.games=e,c.settings.game_update=parseInt(Date.now()/1e3),GM_setValue('FAW_STORAGE',c)}}})),a&&c.user&&(c.user.steam||(c.user.steam=a),c.user.steam!=a?$.ajax({type:'POST',url:'/php/extension/user_data_get.php',data:{steam:a},success:function(t){if(!t){return}const e=JSON.parse(t);e&&(GM_deleteValue('FAW_STORAGE'),n=!1,GM_setValue('FAW_STORAGE',e),setTimeout((function(){n=!0}),100))}}):(r&&(c.user.avatar=r),i&&(c.user.name=i),o&&(c.user.lang=o),GM_setValue('FAW_STORAGE',c))),c.tasks){let d=[],h=!1,p=parseInt(Date.now()/1e3);$.each(c.tasks,(function(t,e){e.time&&p-parseInt(e.time)>7200?h=!0:d.push(e)})),1==h&&(c.tasks=d,GM_setValue('FAW_STORAGE',c))}function u(){let t=!0;$('.game__content-tasks__task').each((function(e,s){0==$(this).hasClass('done')&&(t=!1)})),1==t?$('.js-get-key').removeClass('inactive'):$('.js-get-key').addClass('inactive')}c.discord&&c.discord&&c.discord.length>0&&$.ajax({type:'POST',url:'/php/extension/discord_levels_update.php',data:{discord:JSON.stringify(c.discord)},success:function(t){-1!=t.indexOf('success')?(alert('Данные discord уровней обновлены'),delete c.discord,GM_setValue('FAW_STORAGE',c)):(alert('Возникла ошибка при обновлении discord уровней'),delete c.discord,GM_setValue('FAW_STORAGE',c))},error:function(){alert('Возникла ошибка при обновлении discord уровней'),delete c.discord,GM_setValue('FAW_STORAGE',c)}}),$('.games_for_farm_extension.work').length>0&&($('.games_for_farm_extension.not_work').remove(),$('.games_for_farm_extension.work').slideDown(200)),$('.game__content-tasks__task .task-check-extension').length>0&&($('.task-check-extension').removeClass('js-extentions-modal'),$('.game__content-tasks__task[data-extension=\'1\'] .task-link a').removeClass('js-extentions-modal'),$('.game__content-tasks__task .task-check-extension').on('click',(function(t){t.preventDefault();let e=$(this);if(e.hasClass('loading')){return}let s=$(this).parent('.game__content-tasks__task');const a=s.data('type'),r=s.data('id'),i=s.data('data');if(0==s.data('extension')){return}e.addClass('loading');const o=GM_getValue('FAW_STORAGE')||{};$.ajax({type:'POST',url:'/php/extension/user_data_update.php',data:{extension:JSON.stringify(o)},success:function(t){const o=(new Date).getTime();$.ajax({type:'POST',url:'/php/extension/user_task_update.php',data:{id:r,type:a,data:i},success:function(t){const a=(new Date).getTime();console.log('👌 checking task in '+(a-o)+' ms'),-1!=t.indexOf('good')?setTimeout((function(){s.addClass('done'),s.removeClass('error'),e.removeClass('loading'),u()}),1250):-1!=t.indexOf('bad')?setTimeout((function(){s.addClass('error'),s.removeClass('done'),e.removeClass('loading'),u()}),1250):setTimeout((function(){s.removeClass('error'),s.removeClass('done'),e.removeClass('loading'),u()}),1250)},error:function(){setTimeout((function(){s.removeClass('error'),s.removeClass('done'),e.removeClass('loading'),u()}),1250)}})},error:function(){setTimeout((function(){s.removeClass('error'),s.removeClass('done'),e.removeClass('loading'),u()}),1250)}})})))}function s(t,e,s,a){let r=[],i=!1;$.each(t,(function(t,a){a.type&&a.data&&(a.type!=e||a.data!=s?r.push(a):i=!0)}));const o={};switch(a){case'add':if(1==i){return}const t={};t.type=e,t.data=s,t.time=parseInt(Date.now()/1e3),r.push(t),o.tasks=r,GM_setValue('FAW_STORAGE',o);break;case'remove':if(0==i){return}o.tasks=r,GM_setValue('FAW_STORAGE',o)}}if('store.steampowered.com'==t||'steamcommunity.com'==t){if(document.querySelector('span[id^=\'CuratorUnFollowBtn_\']')){const g=$('span[id^=\'CuratorUnFollowBtn_\']').attr('id').split('_')[1],m='#CuratorFollowBtn_'+g,w='#CuratorUnFollowBtn_'+g,f=GM_getValue('FAW_STORAGE')||{};if(!f.tasks){return}const A=$(m).css('display'),k=$(w).css('display');k&&'none'==k&&s(f.tasks,'steam_curator_sub',g,'remove'),A&&'none'==A&&s(f.tasks,'steam_curator_sub',g,'add'),$(m).on('click',(function(t){const e=GM_getValue('FAW_STORAGE')||{};e.tasks&&s(e.tasks,'steam_curator_sub',g,'add')})),$(w).on('click',(function(t){const e=GM_getValue('FAW_STORAGE')||{};e.tasks&&s(e.tasks,'steam_curator_sub',g,'remove')}))}if(document.querySelector('.followStatsBlock')){const y=$('#HeaderUserInfoName a').attr('href').split('/').pop(),T='#FollowUserOptionAdd',b='#FollowUserOptionFollowing, .followOption.remove',v=GM_getValue('FAW_STORAGE')||{};if(!v.tasks){return}const x=$(T).css('visibility'),S=$(b).css('visibility');S&&'hidden'==S&&s(v.tasks,'steam_guides_sub',y,'remove'),x&&'hidden'==x&&s(v.tasks,'steam_guides_sub',y,'add'),$(T).on('click',(function(t){const e=GM_getValue('FAW_STORAGE')||{};e.tasks&&s(e.tasks,'steam_guides_sub',y,'add')})),$(b).on('click',(function(t){const e=GM_getValue('FAW_STORAGE')||{};e.tasks&&s(e.tasks,'steam_guides_sub',y,'remove')}))}if(document.querySelector('#ScrollingItemControls')){const C=$('#PublishedFileFavorite input[name=\'id\']').val(),I='#FavoriteItemOptionAdd',D='#FavoriteItemOptionFavorited, .favoriteOption.removefavorite',G=GM_getValue('FAW_STORAGE')||{};if(!G.tasks){return}const L=$(I).css('visibility'),E=$(D).css('visibility');E&&'hidden'==E&&s(G.tasks,'steam_manual_favourite',C,'remove'),L&&'hidden'==L&&s(G.tasks,'steam_manual_favourite',C,'add'),$(I).on('click',(function(t){const e=GM_getValue('FAW_STORAGE')||{};e.tasks&&s(e.tasks,'steam_manual_favourite',C,'add')})),$(D).on('click',(function(t){const e=GM_getValue('FAW_STORAGE')||{};e.tasks&&s(e.tasks,'steam_manual_favourite',C,'remove')}))}if(document.querySelector('#queueBtnFollow')){const B=$('.game_page_background').data('miniprofile-appid'),P='#queueBtnFollow .queue_btn_inactive',F='#queueBtnFollow .queue_btn_active',M=GM_getValue('FAW_STORAGE')||{};if(!M.tasks){return}const O=$(P).css('display'),R=$(F).css('display');R&&'none'==R&&s(M.tasks,'steam_game_sub',B,'remove'),O&&'none'==O&&s(M.tasks,'steam_game_sub',B,'add'),$(P).on('click',(function(t){const e=GM_getValue('FAW_STORAGE')||{};e.tasks&&s(e.tasks,'steam_game_sub',B,'add')})),$(F).on('click',(function(t){const e=GM_getValue('FAW_STORAGE')||{};e.tasks&&s(e.tasks,'steam_game_sub',B,'remove')}))}}'www.youtube.com'!=t&&'m.youtube.com'!=t||setInterval((function(){if(document.querySelector('yt-subscribe-button-view-model')){const t=$('meta[itemprop="identifier"]').attr('content'),e=['Подписаться','Падпісацца','Підписатися','Abonnieren','Subscribe','Suscribirse','Mag-subscribe','S\'abonner','Iscriviti','Subskrybuj','Subscrever','Abonează-te','订阅','チャンネル登録','訂閱'],a=['Вы подписаны','Вы падпісаны','Ви підписалися','Abonniert','Subscribed','Suscrito','Naka-subscribe','Abonné','Iscritto','Subskrybujesz','Subscrito','Abonat(ă)','已订阅','登録済み','已訂閱'],r=$('yt-subscribe-button-view-model'),i=r.text();if(-1!=e.indexOf(i)||-1!=a.indexOf(i)){if(-1!=e.indexOf(i)){const e=GM_getValue('FAW_STORAGE')||{};if(!e.tasks){return}s(e.tasks,'youtube_channel_sub',t,'remove')}if(-1!=a.indexOf(i)){const e=GM_getValue('FAW_STORAGE')||{};if(!e.tasks){return}s(e.tasks,'youtube_channel_sub',t,'add')}}else if(0!=$('.ytSubscribePlusButtonViewModelHost').length){const e=GM_getValue('FAW_STORAGE')||{};if(!e.tasks){return}s(e.tasks,'youtube_channel_sub',t,'add')}else{const e=r.find('button').css('color');if('#0f0f0f'==e||'rgb(15, 15, 15)'==e){const e=GM_getValue('FAW_STORAGE')||{};if(!e.tasks){return}s(e.tasks,'youtube_channel_sub',t,'remove')}if('#f1f1f1'==e||'rgb(241, 241, 241)'==e){const e=GM_getValue('FAW_STORAGE')||{};if(!e.tasks){return}s(e.tasks,'youtube_channel_sub',t,'add')}}}if(document.querySelector('.ytLikeButtonViewModelHost')){let e;if(e='m.youtube.com'==t?$('link[rel="canonical"]').attr('href').split('v=').pop():$('meta[itemprop="identifier"]').attr('content'),'false'==$('.ytLikeButtonViewModelHost button').attr('aria-pressed')){const t=GM_getValue('FAW_STORAGE')||{};if(!t.tasks){return}s(t.tasks,'youtube_video_like',e,'remove')}if('true'==$('.ytLikeButtonViewModelHost button').attr('aria-pressed')){const t=GM_getValue('FAW_STORAGE')||{};if(!t.tasks){return}s(t.tasks,'youtube_video_like',e,'add')}}}),600)})),'mee6.xyz'==t){var s=!1;$(document).on('keydown','',(function(t){if('End'==t.code){let t=[];$('.md\\:block').each((function(e,a){const r={};if(r.name=$(this).find('.justify-start p').text(),r.level=$(this).find('.leaderboardPlayerStat .items-center').text(),t.push(r),0==r.level){const e={};return e.discord=t,GM_setValue('FAW_STORAGE',e),0==s&&(alert('Можно переходить на freeanywhere.net'),s=!0),!1}}))}}))}if('gamesforfarm.com'==t){const t=GM_getValue('FAW_STORAGE')||{};if(!t.settings){return}if(!t.games){return}t.settings.hide_games&&1==t.settings.hide_games&&$('.product__item').each((function(e,s){const a=$(this).find('.product__box-image img').data('src'),r=$(this).find('.product__box-props a').attr('href');if(a&&-1!=a.indexOf('/apps/')){const e=parseInt(a.split('/apps/')[1].split('/')[0]);e&&0==isNaN(e)&&t.games[e]&&$(this).css('opacity','.2')}else if(r&&-1!=r.indexOf('/app/')){const e=parseInt(r.split('/app/')[1].split('/')[0]);e&&0==isNaN(e)&&t.games[e]&&$(this).css('opacity','.2')}}))}}()),'discord.com'===window.location.hostname){if('ATv4_discordAuth'===window.name){b('检测到Discord认证窗口'),Yt()}else{b('检测到Discord主站');const t=window.localStorage?.getItem('token')?.replace(/^"|"$/g,'');t&&t.length>0&&(b('获取到Discord认证token'),GM_setValue('discordAuth',{auth:t}))}}else{'opquests.com'===window.location.hostname?(b('检测到opquests.com，加载主脚本'),Vt()):'ATv4_updateStoreAuth'!==window.name&&!GM_getValue('ATv4_updateStoreAuth')||'store.steampowered.com'!==window.location.host?'ATv4_updateCommunityAuth'!==window.name&&!GM_getValue('ATv4_updateCommunityAuth')||'steamcommunity.com'!==window.location.host?('key-hub.eu'===window.location.hostname&&(b('检测到key-hub.eu，设置全局变量'),unsafeWindow.keyhubtracker=1,unsafeWindow.gaData={}),b('加载主脚本'),$(Vt)):(b('检测到Steam社区认证窗口'),$((()=>{(async()=>{b('开始处理Steam社区认证');const e=document.body.innerHTML.match(/g_steamID = "(.+?)";/)?.[1],s=document.body.innerHTML.match(/g_sessionID = "(.+?)";/)?.[1];e&&s?(GM_deleteValue('ATv4_updateCommunityAuth'),GM_setValue('steamCommunityAuth',{steam64Id:e,communitySessionID:s}),window.close(),await t.fire('',f('closePageNotice'))):setTimeout((async()=>{await t.fire({title:'Error: Get "sessionID" failed',icon:'error'})}),3e3)})()}))):(b('检测到Steam商店认证窗口'),$((()=>{0!==$('[data-miniprofile]').length&&(async()=>{b('开始处理Steam商店认证');const e=document.body.innerHTML.match(/g_sessionID = "(.+?)";/)?.[1];e?(GM_deleteValue('ATv4_updateStoreAuth'),GM_setValue('steamStoreAuth',{storeSessionID:e}),window.close(),await t.fire('',f('closePageNotice'))):await t.fire({title:'Error: Get "sessionID" failed',icon:'error'})})()})))}}catch(t){b('主程序入口发生异常',{error:t})}}(Swal,Cookies,browser,util,dayjs,keyboardJS);
