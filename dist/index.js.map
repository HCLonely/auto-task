{"version":3,"sources":["webpack://auto-task-new/webpack/bootstrap","webpack://auto-task-new/webpack/runtime/make namespace object","webpack://auto-task-new/./src/scripts/tools/throwError.ts","webpack://auto-task-new/./src/scripts/tools/tools.ts","webpack://auto-task-new/./src/scripts/social/Social.ts","webpack://auto-task-new/./src/scripts/tools/httpRequest.ts","webpack://auto-task-new/./src/scripts/i18n/i18n.ts","webpack://auto-task-new/./src/scripts/echoLog.ts","webpack://auto-task-new/./src/scripts/social/Discord.ts","webpack://auto-task-new/./src/scripts/social/Instagram.ts","webpack://auto-task-new/./src/scripts/social/Reddit.ts","webpack://auto-task-new/./src/scripts/social/Twitch.ts","webpack://auto-task-new/./src/scripts/social/Twitter.ts","webpack://auto-task-new/./src/index.ts"],"names":["__webpack_require__","r","Symbol","toStringTag","Object","defineProperty","exports","value","throwError","error","name","console","log","stack","__read","o","n","m","iterator","i","call","ar","e","next","done","push","__spreadArray","to","from","pack","arguments","length","l","Array","prototype","slice","concat","unique","array","Set","delay","time","Promise","resolve","setTimeout","Social","getRealParams","params","links","doTask","link2param","realParams","map","link","filter","this","tasks","__assign","assign","t","s","p","hasOwnProperty","apply","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","step","rejected","result","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","v","op","TypeError","pop","httpRequest","options","times","error_1","_a","dataType","responseType","requestObj","timeout","ontimeout","data","statusText","status","onabort","onerror","onload","GM_xmlhttpRequest","errorMsg","getI18n","argvs","_i","join","echoLog","_b","type","text","url","id","ele","$","includes","replace","addClass","append","scrollIntoView","font","find","status_1","success","html","_c","attr","warning","info","view","status_2","__extends","extendStatics","d","b","setPrototypeOf","__proto__","String","__","constructor","create","__values","Discord","_super","_this","GM_getValue","servers","whiteList","discord","cache","auth","init","isVerified","updateAuth","verifyAuth","GM_setValue","logStatus","error_2","method","headers","authorization","logStatus_1","error_3","newTab","GM_openInTab","active","insert","setParent","onclose","joinServer","inviteId","guild","error_4","_d","response","addId","leaveServer","status_3","error_5","getGuild","status_4","guild_1","error_6","getId","responseText","match","toggleServers","serverLinks","prom","realServers","realServers_1","realServers_1_1","server","e_1_1","error_7","e_1","_e","_f","return","all","Instagram","users","instagram","getUserInfo","csrftoken","hash","finalUrl","followUser","origin","referer","feedback_message","unfollowUser","toggle","userLinks","realUsers","realUsers_1","realUsers_1_1","username","Reddit","reddits","reddit","updateToken","accessToken","nochche","token","toggleTask","test","param","action","sr_name","api_type","redditLinks","realReddits","realReddits_1","realReddits_1_1","name_1","userName","Twitch","channels","twitch","authToken","Authorization","clientId","currentUser","toggleChannel","channelId","followData","unfollowData","getChannelId","user","channelLinks","realChannels","realChannels_1","realChannels_1_1","channel","Twitter","verifyId","retweets","likes","twitter","ct0","toggleUser","verify","userId","_g","_h","_j","getUserId","include_profile_interstitial_type","include_blocking","include_blocked_by","include_followed_by","include_want_retweets","include_mute_edge","include_can_dm","include_can_media_tag","skip_status","errors","code","anonymous","JSON","parse","rest_id","toggleRetweet","retweetId","tweet_mode","retweetLinks","realRetweets","realRetweets_1","realRetweets_1_1","retweet","e_2_1","e_2","window","location","hostname","localStorage","getItem","close","Cookies","get","isLogin","commonOptions","unsafeWindow"],"mappings":"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","file":"index.js","sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-13 14:08:18\r\n * @LastEditTime : 2021-10-13 14:11:51\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/tools/throwError.ts\r\n * @Description  : 错误处理函数\r\n */\r\nexport default function throwError(error, name) {\r\n    console.log('%c%s', 'color:white;background:red', name + \"\\n\" + error.stack);\r\n}\r\n","var __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\n/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-26 14:58:11\r\n * @LastEditTime : 2021-10-30 12:22:52\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/tools/tools.ts\r\n * @Description  :\r\n */\r\nimport throwError from './throwError';\r\nvar unique = function (array) {\r\n    try {\r\n        return __spreadArray([], __read(new Set(array)), false);\r\n    }\r\n    catch (error) {\r\n        throwError(error, 'unique');\r\n        return [];\r\n    }\r\n};\r\nvar delay = function (time) {\r\n    if (time === void 0) { time = 1000; }\r\n    return new Promise(function (resolve) {\r\n        setTimeout(function () { resolve(true); }, time);\r\n    });\r\n};\r\nexport { unique, delay };\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-15 10:48:42\r\n * @LastEditTime : 2021-10-30 11:12:16\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/social/Social.ts\r\n * @Description  :\r\n */\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport throwError from '../tools/throwError';\r\nimport { unique } from '../tools/tools';\r\nvar Social = /** @class */ (function () {\r\n    function Social() {\r\n    }\r\n    // 通用\r\n    Social.prototype.getRealParams = function (name, params, links, doTask, link2param) {\r\n        try {\r\n            var realParams = [];\r\n            if (params.length > 0) {\r\n                realParams = __spreadArray([], __read(params), false);\r\n            }\r\n            if (links.length > 0) {\r\n                realParams = __spreadArray(__spreadArray([], __read(realParams), false), __read(links\r\n                    .map(function (link) { return link2param(link); })\r\n                    .filter(function (link) { return link; })), false);\r\n            }\r\n            if (!doTask && this.tasks[name].length > 0) {\r\n                realParams = __spreadArray(__spreadArray([], __read(realParams), false), __read(this.tasks[name]), false);\r\n            }\r\n            return unique(realParams);\r\n        }\r\n        catch (error) {\r\n            throwError(error, 'Social.getRealParams');\r\n            return [];\r\n        }\r\n    };\r\n    return Social;\r\n}());\r\nexport default Social;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-13 13:55:36\r\n * @LastEditTime : 2021-10-30 10:28:39\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/tools/httpRequest.ts\r\n * @Description  : http请求函数封装\r\n */\r\nimport throwError from './throwError';\r\nvar httpRequest = function (options, times) {\r\n    if (times === void 0) { times = 0; }\r\n    return __awaiter(void 0, void 0, void 0, function () {\r\n        var result, error_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 4, , 5]);\r\n                    return [4 /*yield*/, new Promise(function (resolve) {\r\n                            if (options.dataType) {\r\n                                options.responseType = options.dataType;\r\n                            }\r\n                            var requestObj = __assign({\r\n                                timeout: 30000,\r\n                                ontimeout: function (data) {\r\n                                    resolve({ result: 'Error', statusText: 'Timeout', status: 601, data: data, options: options });\r\n                                },\r\n                                onabort: function (data) {\r\n                                    resolve({ result: 'Error', statusText: 'Aborted', status: 602, data: data, options: options });\r\n                                },\r\n                                onerror: function (data) {\r\n                                    resolve({ result: 'Error', statusText: 'Error', status: 603, data: data, options: options });\r\n                                },\r\n                                onload: function (data) {\r\n                                    resolve({ result: 'Success', statusText: 'Load', status: 600, data: data, options: options });\r\n                                }\r\n                            }, options);\r\n                            GM_xmlhttpRequest(requestObj); // eslint-disable-line new-cap\r\n                        })];\r\n                case 1:\r\n                    result = _a.sent();\r\n                    console.log('发送请求:', result);\r\n                    if (!(result.status !== 600 && times < 2)) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, httpRequest(options, times + 1)];\r\n                case 2: return [2 /*return*/, _a.sent()];\r\n                case 3: return [2 /*return*/, result];\r\n                case 4:\r\n                    error_1 = _a.sent();\r\n                    throwError(error_1, 'httpRequest');\r\n                    console.log('发送请求:', { errorMsg: error_1, options: options });\r\n                    return [2 /*return*/, { result: 'JsError', statusText: 'Error', status: 604, error: error_1, options: options }];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\nexport default httpRequest;\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-26 15:18:09\r\n * @LastEditTime : 2021-10-26 15:20:04\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/i18n/i18n.ts\r\n * @Description  : i18n\r\n ! 测试用\r\n */\r\nfunction getI18n() {\r\n    var argvs = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        argvs[_i] = arguments[_i];\r\n    }\r\n    return argvs.join(' ');\r\n}\r\nexport default getI18n;\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-26 15:03:26\r\n * @LastEditTime : 2021-10-30 12:28:47\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/echoLog.ts\r\n * @Description  :\r\n */\r\nimport throwError from './tools/throwError';\r\nimport getI18n from './i18n/i18n';\r\nvar echoLog = function (_a) {\r\n    var _b = _a.type, type = _b === void 0 ? 'text' : _b, text = _a.text, url = _a.url, id = _a.id;\r\n    try {\r\n        var ele = void 0;\r\n        switch (type) {\r\n            case 'updateSteamCommunity':\r\n                ele = $(\"<li>\" + getI18n('updateCommunityId') + \"<font></font></li>\");\r\n                break;\r\n            case 'updateSteamStore':\r\n                ele = $(\"<li>\" + getI18n('updateStoreId') + \"<font></font></li>\");\r\n                break;\r\n            case 'joinSteamGroup':\r\n            case 'leaveSteamGroup':\r\n            case 'getSteamGroupId':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://steamcommunity.com/groups/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'subscribeForum':\r\n            case 'unsubscribeForum':\r\n            case 'getForumId':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://steamcommunity.com/app/\" + text + \"/discussions/\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'followCurator':\r\n            case 'unfollowCurator':\r\n            case 'getCuratorId':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://store.steampowered.com/\" + ((text === null || text === void 0 ? void 0 : text.includes('/')) ? text : \"curator/\" + text) + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'getDeveloperId':\r\n            case 'followDeveloper':\r\n            case 'unfollowDeveloper':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://store.steampowered.com/developer/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'getPublisherId':\r\n            case 'followPublisher':\r\n            case 'unfollowPublisher':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://store.steampowered.com/publisher/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'getFranchiseId':\r\n            case 'followFranchise':\r\n            case 'unfollowFranchise':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://store.steampowered.com/franchise/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'addWishlist':\r\n            case 'removeWishlist':\r\n            case 'followGame':\r\n            case 'unfollowGame':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://store.steampowered.com/app/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'favoriteWorkshop':\r\n            case 'unfavoriteWorkshop':\r\n            case 'getWorkshopAppId':\r\n            case 'voteupWorkshop':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://steamcommunity.com/sharedfiles/filedetails/?id=\" + text + \"\\\" target=\\\"_blank\\\">\\n      \" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'likeAnnouncements':\r\n                ele = $(\"<li>\" + getI18n('likeAnnouncements') + \"<a href=\\\"\" + url + \"\\\" target=\\\"_blank\\\">\" + id + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'changeCountry':\r\n                ele = $(\"<li>\" + getI18n('changeCountry') + text + \"...<font></font></li>\");\r\n                break;\r\n            case 'joinDiscordServer':\r\n            case 'leaveDiscordServer':\r\n            case 'getDiscordGuild':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://discord.com/invite/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'updateDiscordAuth':\r\n                ele = $(\"<li style=\\\"color:red;\\\">\" + getI18n('updateDiscordAuth') + \"</li>\");\r\n                break;\r\n            case 'followTwitchChannel':\r\n            case 'unfollowTwitchChannel':\r\n            case 'getTwitchChannelId':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://www.twitch.tv/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'getInsInfo':\r\n                ele = $(\"<li>\" + getI18n('getInsInfo') + \"<a href=\\\"https://www.instagram.com/\" + text + \"/\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'followIns':\r\n            case 'unfollowIns':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://www.instagram.com/\" + text + \"/\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'getTwitterUserId':\r\n            case 'followTwitterUser':\r\n            case 'unfollowTwitterUser':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://twitter.com/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'retweet':\r\n            case 'unretweet':\r\n                ele = $(\"<li>\" + getI18n(type) + text + \"...<font></font></li>\");\r\n                break;\r\n            case 'joinReddit':\r\n            case 'leaveReddit':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://www.reddit.com/r/\" + text + \"/\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'followRedditUser':\r\n            case 'unfollowRedditUser':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://www.reddit.com/user/\" + (text === null || text === void 0 ? void 0 : text.replace('u_', '')) + \"\\\" target=\\\"_blank\\\">\\n      \" + (text === null || text === void 0 ? void 0 : text.replace('u_', '')) + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'followYtbChannel':\r\n            case 'unfollowYtbChannel':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://www.youtube.com/channel/\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'likeYtbVideo':\r\n            case 'unlikeYtbVideo':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://www.youtube.com/watch?v=\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'getVkId':\r\n            case 'joinVkGroup':\r\n            case 'leaveVkGroup':\r\n            case 'joinVkPublic':\r\n            case 'leaveVkPublic':\r\n            case 'repostVkWall':\r\n                ele = $(\"<li>\" + getI18n(type) + \"<a href=\\\"https://vk.com/\" + text + \"/\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'visitLink':\r\n                ele = $(\"<li>\" + getI18n('visitLink') + \"<a href=\\\"\" + text + \"\\\" target=\\\"_blank\\\">\" + text + \"</a>...<font></font></li>\");\r\n                break;\r\n            case 'text':\r\n                ele = $(\"<li>\" + getI18n(text) + \"<font></font></li>\");\r\n                break;\r\n            case 'html':\r\n                ele = $(text);\r\n                break;\r\n            default:\r\n                ele = $(\"<li>\" + getI18n('unknown') + \":\" + type + \"...<font></font></li>\");\r\n                break;\r\n        }\r\n        ele.addClass('card-text');\r\n        $('#fuck-task-info').append(ele);\r\n        ele[0].scrollIntoView();\r\n        var font = ele.find('font');\r\n        var status_1 = {\r\n            font: font,\r\n            success: function (text, html) {\r\n                var _a, _b, _c;\r\n                if (text === void 0) { text = 'Success'; }\r\n                if (html === void 0) { html = false; }\r\n                (_a = this.font) === null || _a === void 0 ? void 0 : _a.attr('class', '').addClass('success');\r\n                html ? (_b = this.font) === null || _b === void 0 ? void 0 : _b.html(text) : (_c = this.font) === null || _c === void 0 ? void 0 : _c.text(text);\r\n                return this;\r\n            },\r\n            error: function (text, html) {\r\n                var _a, _b, _c;\r\n                if (text === void 0) { text = 'Error'; }\r\n                if (html === void 0) { html = false; }\r\n                (_a = this.font) === null || _a === void 0 ? void 0 : _a.attr('class', '').addClass('error');\r\n                html ? (_b = this.font) === null || _b === void 0 ? void 0 : _b.html(text) : (_c = this.font) === null || _c === void 0 ? void 0 : _c.text(text);\r\n                return this;\r\n            },\r\n            warning: function (text, html) {\r\n                var _a, _b, _c;\r\n                if (text === void 0) { text = 'Warning'; }\r\n                if (html === void 0) { html = false; }\r\n                (_a = this.font) === null || _a === void 0 ? void 0 : _a.attr('class', '').addClass('warning');\r\n                html ? (_b = this.font) === null || _b === void 0 ? void 0 : _b.html(text) : (_c = this.font) === null || _c === void 0 ? void 0 : _c.text(text);\r\n                return this;\r\n            },\r\n            info: function (text, html) {\r\n                var _a, _b, _c;\r\n                if (text === void 0) { text = 'Info'; }\r\n                if (html === void 0) { html = false; }\r\n                (_a = this.font) === null || _a === void 0 ? void 0 : _a.attr('class', '').addClass('info');\r\n                html ? (_b = this.font) === null || _b === void 0 ? void 0 : _b.html(text) : (_c = this.font) === null || _c === void 0 ? void 0 : _c.text(text);\r\n                return this;\r\n            },\r\n            view: function () {\r\n                var _a;\r\n                (_a = this.font) === null || _a === void 0 ? void 0 : _a[0].scrollIntoView();\r\n                return this;\r\n            }\r\n        };\r\n        return status_1;\r\n    }\r\n    catch (error) {\r\n        throwError(error, 'echoLog');\r\n        var status_2 = {\r\n            success: function () { return status_2; },\r\n            error: function () { return status_2; },\r\n            warning: function () { return status_2; },\r\n            info: function () { return status_2; },\r\n            view: function () { return status_2; }\r\n        };\r\n        return status_2;\r\n    }\r\n};\r\nexport default echoLog;\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-09-28 15:03:10\r\n * @LastEditTime : 2021-10-30 12:49:12\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/social/Discord.ts\r\n * @Description  : Discord 加入&移除服务器\r\n ! 白名单处理\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nimport Social from './Social';\r\nimport httpRequest from '../tools/httpRequest';\r\nimport throwError from '../tools/throwError';\r\nimport { unique, delay } from '../tools/tools';\r\nimport echoLog from '../echoLog';\r\nvar Discord = /** @class */ (function (_super) {\r\n    __extends(Discord, _super);\r\n    // TODO: 任务识别\r\n    function Discord(id) {\r\n        var _a;\r\n        var _this = _super.call(this) || this;\r\n        _this.tasks = GM_getValue(\"Discord-\" + id) || { servers: [] }; // eslint-disable-line new-cap\r\n        _this.whiteList = ((_a = GM_getValue('whiteList')) === null || _a === void 0 ? void 0 : _a.discord) || { servers: [] }; // eslint-disable-line new-cap\r\n        _this.cache = GM_getValue('discordCache') || {}; // eslint-disable-line new-cap\r\n        _this.auth = GM_getValue('discordAuth') || {}; // eslint-disable-line new-cap\r\n        return _this;\r\n    }\r\n    // TODO:优化\r\n    Discord.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isVerified, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        if (!!this.auth.auth) return [3 /*break*/, 2];\r\n                        echoLog({ type: 'updateDiscordAuth' });\r\n                        return [4 /*yield*/, this.updateAuth()];\r\n                    case 1:\r\n                        if (!(_a.sent())) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [2 /*return*/, true];\r\n                    case 2: return [4 /*yield*/, this.verifyAuth()];\r\n                    case 3:\r\n                        isVerified = _a.sent();\r\n                        if (isVerified) {\r\n                            echoLog({ text: 'Init discord success!' });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        GM_setValue('discordAuth', { auth: null }); // eslint-disable-line new-cap\r\n                        return [4 /*yield*/, this.updateAuth()];\r\n                    case 4:\r\n                        if (_a.sent()) {\r\n                            echoLog({ text: 'Init discord success!' });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        echoLog({ text: 'Init discord failed!' });\r\n                        return [2 /*return*/, false];\r\n                    case 5:\r\n                        error_1 = _a.sent();\r\n                        throwError(error_1, 'Discord.init');\r\n                        return [2 /*return*/, false];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    // 验证discord凭证是否失效\r\n    Discord.prototype.verifyAuth = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, _a, result, statusText, status_1, data, error_2;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 2, , 3]);\r\n                        logStatus = echoLog({ type: 'text', text: 'verifyDiscordAuth' });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: 'https://discord.com/api/v6/users/@me',\r\n                                method: 'HEAD',\r\n                                headers: { authorization: this.auth.auth }\r\n                            })];\r\n                    case 1:\r\n                        _a = _b.sent(), result = _a.result, statusText = _a.statusText, status_1 = _a.status, data = _a.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                                logStatus.success();\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_1 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_2 = _b.sent();\r\n                        throwError(error_2, 'Discord.verifyAuth');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Discord.prototype.updateAuth = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus_1, error_3;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        logStatus_1 = echoLog({ type: 'text', text: 'updateDiscordAuth' });\r\n                        return [4 /*yield*/, new Promise(function (resolve) {\r\n                                var newTab = GM_openInTab('https://discord.com/channels/@me#auth', // eslint-disable-line new-cap\r\n                                { active: true, insert: true, setParent: true });\r\n                                newTab.onclose = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                    var auth, _a;\r\n                                    var _b;\r\n                                    return __generator(this, function (_c) {\r\n                                        switch (_c.label) {\r\n                                            case 0:\r\n                                                auth = (_b = GM_getValue('discordAuth')) === null || _b === void 0 ? void 0 : _b.auth;\r\n                                                if (!auth) return [3 /*break*/, 2];\r\n                                                this.auth = { auth: auth };\r\n                                                logStatus_1.success();\r\n                                                _a = resolve;\r\n                                                return [4 /*yield*/, this.verifyAuth()];\r\n                                            case 1:\r\n                                                _a.apply(void 0, [_c.sent()]);\r\n                                                return [3 /*break*/, 3];\r\n                                            case 2:\r\n                                                logStatus_1.error('Error: Update discord auth failed!');\r\n                                                resolve(false);\r\n                                                _c.label = 3;\r\n                                            case 3: return [2 /*return*/];\r\n                                        }\r\n                                    });\r\n                                }); };\r\n                            })];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2:\r\n                        error_3 = _a.sent();\r\n                        throwError(error_3, 'Discord.updateAuth');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Discord.prototype.joinServer = function (inviteId) {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, _c, result, statusText, status_2, data, guild, error_4;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        _d.trys.push([0, 2, , 3]);\r\n                        logStatus = echoLog({ type: 'joinDiscordServer', text: inviteId });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: \"https://discord.com/api/v6/invites/\" + inviteId,\r\n                                method: 'POST',\r\n                                dataType: 'json',\r\n                                headers: { authorization: this.auth.auth }\r\n                            })];\r\n                    case 1:\r\n                        _c = _d.sent(), result = _c.result, statusText = _c.statusText, status_2 = _c.status, data = _c.data;\r\n                        if (result === 'Success' && (data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                            logStatus.success();\r\n                            guild = String((_b = (_a = data.response) === null || _a === void 0 ? void 0 : _a.guild) === null || _b === void 0 ? void 0 : _b.id);\r\n                            if (guild) {\r\n                                // TODO: 优化\r\n                                this.addId(inviteId, guild);\r\n                                this.tasks.servers = unique(__spreadArray(__spreadArray([], __read(this.tasks.servers), false), [inviteId], false));\r\n                            }\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_2 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_4 = _d.sent();\r\n                        throwError(error_4, 'Discord.joinServer');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Discord.prototype.leaveServer = function (inviteId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var guild, logStatus, _a, result, statusText, status_3, data, error_5;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 3, , 4]);\r\n                        if (this.whiteList.servers.includes(inviteId)) {\r\n                            // TODO: 直接echo\r\n                            echoLog({ type: 'whiteList', text: inviteId });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        return [4 /*yield*/, this.getGuild(inviteId)];\r\n                    case 1:\r\n                        guild = _b.sent();\r\n                        if (!guild) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus = echoLog({ type: 'leaveDiscordServer', text: inviteId });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: \"https://discord.com/api/v6/users/@me/guilds/\" + guild,\r\n                                method: 'DELETE',\r\n                                headers: { authorization: this.auth.auth }\r\n                            })];\r\n                    case 2:\r\n                        _a = _b.sent(), result = _a.result, statusText = _a.statusText, status_3 = _a.status, data = _a.data;\r\n                        if (result === 'Success' && (data === null || data === void 0 ? void 0 : data.status) === 204) {\r\n                            logStatus.success();\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_3 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 3:\r\n                        error_5 = _b.sent();\r\n                        throwError(error_5, 'Discord.leaveServer');\r\n                        return [2 /*return*/, false];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Discord.prototype.getGuild = function (inviteId) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, guild, _b, result, statusText, status_4, data, guild_1, error_6;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        _c.trys.push([0, 2, , 3]);\r\n                        logStatus = echoLog({ type: 'getDiscordGuild', text: inviteId });\r\n                        guild = this.getId(inviteId);\r\n                        if (guild) {\r\n                            logStatus.success();\r\n                            return [2 /*return*/, guild];\r\n                        }\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: \"https://discord.com/invite/\" + inviteId,\r\n                                method: 'GET'\r\n                            })];\r\n                    case 1:\r\n                        _b = _c.sent(), result = _b.result, statusText = _b.statusText, status_4 = _b.status, data = _b.data;\r\n                        if (result === 'Success' && (data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                            guild_1 = (_a = data.responseText.match(/https?:\\/\\/cdn\\.discordapp\\.com\\/icons\\/([\\d]+?)\\//)) === null || _a === void 0 ? void 0 : _a[1];\r\n                            if (guild_1) {\r\n                                logStatus.success();\r\n                                this.addId(inviteId, guild_1);\r\n                                return [2 /*return*/, guild_1];\r\n                            }\r\n                            logStatus.error(result + \":\" + statusText + \"(\" + status_4 + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_4 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_6 = _c.sent();\r\n                        throwError(error_6, 'Discord.getGuild');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    // TODO:返回类型定义\r\n    Discord.prototype.toggleServers = function (_a) {\r\n        var _b = _a.doTask, doTask = _b === void 0 ? true : _b, _c = _a.servers, servers = _c === void 0 ? [] : _c, _d = _a.serverLinks, serverLinks = _d === void 0 ? [] : _d;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var prom, realServers, realServers_1, realServers_1_1, server, e_1_1, error_7;\r\n            var e_1, _e;\r\n            return __generator(this, function (_f) {\r\n                switch (_f.label) {\r\n                    case 0:\r\n                        _f.trys.push([0, 10, , 11]);\r\n                        prom = [];\r\n                        realServers = this.getRealParams('servers', servers, serverLinks, doTask, function (link) { var _a; return (_a = link.match(/invite\\/(.+)/)) === null || _a === void 0 ? void 0 : _a[1]; });\r\n                        if (!(realServers.length > 0)) return [3 /*break*/, 8];\r\n                        _f.label = 1;\r\n                    case 1:\r\n                        _f.trys.push([1, 6, 7, 8]);\r\n                        realServers_1 = __values(realServers), realServers_1_1 = realServers_1.next();\r\n                        _f.label = 2;\r\n                    case 2:\r\n                        if (!!realServers_1_1.done) return [3 /*break*/, 5];\r\n                        server = realServers_1_1.value;\r\n                        prom.push(this[doTask ? 'joinServer' : 'leaveServer'](server));\r\n                        return [4 /*yield*/, delay(1000)];\r\n                    case 3:\r\n                        _f.sent();\r\n                        _f.label = 4;\r\n                    case 4:\r\n                        realServers_1_1 = realServers_1.next();\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 8];\r\n                    case 6:\r\n                        e_1_1 = _f.sent();\r\n                        e_1 = { error: e_1_1 };\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (realServers_1_1 && !realServers_1_1.done && (_e = realServers_1.return)) _e.call(realServers_1);\r\n                        }\r\n                        finally { if (e_1) throw e_1.error; }\r\n                        return [7 /*endfinally*/];\r\n                    case 8: return [4 /*yield*/, Promise.all(prom).then(function () { return true; })];\r\n                    case 9: \r\n                    // TODO: 返回值处理\r\n                    return [2 /*return*/, _f.sent()];\r\n                    case 10:\r\n                        error_7 = _f.sent();\r\n                        throwError(error_7, 'Discord.toggleServers');\r\n                        return [2 /*return*/, false];\r\n                    case 11: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Discord.prototype.addId = function (inviteId, guild) {\r\n        this.cache[inviteId] = guild;\r\n        GM_setValue('discordCache', this.cache); // eslint-disable-line new-cap\r\n    };\r\n    Discord.prototype.getId = function (inviteId) {\r\n        return this.cache[inviteId];\r\n    };\r\n    return Discord;\r\n}(Social));\r\nexport default Discord;\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-09-29 12:54:16\r\n * @LastEditTime : 2021-10-30 10:49:01\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/social/Instagram.ts\r\n * @Description  : Instagram 关注&取关用户\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nimport Social from './Social';\r\nimport echoLog from '../echoLog';\r\nimport throwError from '../tools/throwError';\r\nimport httpRequest from '../tools/httpRequest';\r\nimport getI18n from '../i18n/i18n';\r\nimport { unique, delay } from '../tools/tools';\r\nvar Instagram = /** @class */ (function (_super) {\r\n    __extends(Instagram, _super);\r\n    // TODO: 任务识别\r\n    function Instagram(id) {\r\n        var _a;\r\n        var _this = _super.call(this) || this;\r\n        _this.tasks = GM_getValue(\"Instagram-\" + id) || { users: [] }; // eslint-disable-line new-cap\r\n        _this.whiteList = ((_a = GM_getValue('whiteList')) === null || _a === void 0 ? void 0 : _a.instagram) || { users: [] }; // eslint-disable-line new-cap\r\n        return _this;\r\n    }\r\n    Instagram.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isVerified, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.getUserInfo()];\r\n                    case 1:\r\n                        isVerified = _a.sent();\r\n                        if (isVerified) {\r\n                            echoLog({ text: 'Init instagram success!' });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        echoLog({ text: 'Init instagram failed!' });\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_1 = _a.sent();\r\n                        throwError(error_1, 'Instagram.init');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Instagram.prototype.getUserInfo = function (name) {\r\n        var _a, _b, _c;\r\n        if (name === void 0) { name = 'instagram'; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, _d, result, statusText, status_1, data, csrftoken, hash, id, error_2;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        _e.trys.push([0, 2, , 3]);\r\n                        logStatus = echoLog({ type: name === 'instagram' ? 'getInsInfo' : 'getInsUserId', text: name });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: \"https://www.instagram.com/\" + name + \"/\",\r\n                                method: 'GET'\r\n                            })];\r\n                    case 1:\r\n                        _d = _e.sent(), result = _d.result, statusText = _d.statusText, status_1 = _d.status, data = _d.data;\r\n                        if (result === 'Success') {\r\n                            if (data === null || data === void 0 ? void 0 : data.finalUrl.includes('accounts/login')) {\r\n                                logStatus.error(\"Error:\" + getI18n('loginIns'), true);\r\n                                return [2 /*return*/, false];\r\n                            }\r\n                            else if (data === null || data === void 0 ? void 0 : data.finalUrl.includes('www.instagram.com/challenge')) {\r\n                                logStatus.error(\"Error:\" + getI18n('insBanned'));\r\n                                return [2 /*return*/, false];\r\n                            }\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                                csrftoken = (_a = data.responseText.match(/\"csrf_token\":\"(.+?)\"/)) === null || _a === void 0 ? void 0 : _a[1];\r\n                                hash = (_b = data.responseText.match(/\"rollout_hash\":\"(.+?)\"/)) === null || _b === void 0 ? void 0 : _b[1];\r\n                                if (name === 'instagram') {\r\n                                    if (csrftoken && hash) {\r\n                                        this.auth = { csrftoken: csrftoken, hash: hash };\r\n                                        return [2 /*return*/, true];\r\n                                    }\r\n                                    return [2 /*return*/, false];\r\n                                }\r\n                                this.auth.csrftoken = csrftoken || this.auth.csrftoken;\r\n                                this.auth.hash = csrftoken || this.auth.hash;\r\n                                id = (_c = data.responseText.match(/\"profilePage_([\\d]+?)\"/)) === null || _c === void 0 ? void 0 : _c[1];\r\n                                if (id) {\r\n                                    logStatus.success();\r\n                                    return [2 /*return*/, id];\r\n                                }\r\n                                logStatus.error('Error: Get ins data error!');\r\n                                return [2 /*return*/, false];\r\n                            }\r\n                            logStatus.error(result + \":\" + statusText + \"(\" + status_1 + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_2 = _e.sent();\r\n                        throwError(error_2, 'Instagram.getUserInfo');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Instagram.prototype.followUser = function (name) {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var id, logStatus, _c, result, statusText, status_2, data, error_3;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        _d.trys.push([0, 3, , 4]);\r\n                        return [4 /*yield*/, this.getUserInfo(name)];\r\n                    case 1:\r\n                        id = _d.sent();\r\n                        if (!id)\r\n                            return [2 /*return*/, false];\r\n                        logStatus = echoLog({ type: 'followIns', text: name });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: \"https://www.instagram.com/web/friendships/\" + id + \"/follow/\",\r\n                                method: 'POST',\r\n                                dataType: 'json',\r\n                                headers: {\r\n                                    'x-csrftoken': this.auth.csrftoken,\r\n                                    origin: 'https://www.instagram.com',\r\n                                    referer: \"https://www.instagram.com/\" + name + \"/\",\r\n                                    'content-type': 'application/x-www-form-urlencoded',\r\n                                    'sec-fetch-site': 'same-origin',\r\n                                    'x-instagram-ajax': this.auth.hash\r\n                                }\r\n                            })];\r\n                    case 2:\r\n                        _c = _d.sent(), result = _c.result, statusText = _c.statusText, status_2 = _c.status, data = _c.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200 && ((_a = data.response) === null || _a === void 0 ? void 0 : _a.result) === 'following') {\r\n                                logStatus.success();\r\n                                this.tasks.users = unique(__spreadArray(__spreadArray([], __read(this.tasks.users), false), [name], false));\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (((_b = data === null || data === void 0 ? void 0 : data.response) === null || _b === void 0 ? void 0 : _b.feedback_message) || ((data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\"))); // eslint-disable-line camelcase\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_2 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 3:\r\n                        error_3 = _d.sent();\r\n                        throwError(error_3, 'Instagram.followUser');\r\n                        return [2 /*return*/, false];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Instagram.prototype.unfollowUser = function (name) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var id, logStatus, _b, result, statusText, status_3, data, error_4;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        _c.trys.push([0, 3, , 4]);\r\n                        if (this.whiteList.users.includes(name)) {\r\n                            // TODO: 直接echo\r\n                            echoLog({ type: 'whiteList', text: name });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        return [4 /*yield*/, this.getUserInfo(name)];\r\n                    case 1:\r\n                        id = _c.sent();\r\n                        if (!id)\r\n                            return [2 /*return*/, false];\r\n                        logStatus = echoLog({ type: 'unfollowIns', text: name });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: \"https://www.instagram.com/web/friendships/\" + id + \"/unfollow/\",\r\n                                method: 'POST',\r\n                                dataType: 'json',\r\n                                headers: {\r\n                                    'x-csrftoken': this.auth.csrftoken,\r\n                                    origin: 'https://www.instagram.com',\r\n                                    referer: \"https://www.instagram.com/\" + name + \"/\",\r\n                                    'content-type': 'application/x-www-form-urlencoded',\r\n                                    'sec-fetch-site': 'same-origin',\r\n                                    'x-instagram-ajax': this.auth.hash\r\n                                }\r\n                            })];\r\n                    case 2:\r\n                        _b = _c.sent(), result = _b.result, statusText = _b.statusText, status_3 = _b.status, data = _b.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200 && ((_a = data.response) === null || _a === void 0 ? void 0 : _a.status) === 'ok') {\r\n                                logStatus.success();\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_3 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 3:\r\n                        error_4 = _c.sent();\r\n                        throwError(error_4, 'Instagram.unfollowUser');\r\n                        return [2 /*return*/, false];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    // 改成处理任务\r\n    Instagram.prototype.toggle = function (_a) {\r\n        var _b = _a.doTask, doTask = _b === void 0 ? true : _b, _c = _a.users, users = _c === void 0 ? [] : _c, _d = _a.userLinks, userLinks = _d === void 0 ? [] : _d;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var prom, realUsers, realUsers_1, realUsers_1_1, username, e_1_1, error_5;\r\n            var e_1, _e;\r\n            return __generator(this, function (_f) {\r\n                switch (_f.label) {\r\n                    case 0:\r\n                        _f.trys.push([0, 10, , 11]);\r\n                        prom = [];\r\n                        realUsers = this.getRealParams('users', users, userLinks, doTask, function (link) { var _a; return (_a = link.match(/https:\\/\\/www\\.instagram\\.com\\/(.+)?\\//)) === null || _a === void 0 ? void 0 : _a[1]; });\r\n                        if (!(realUsers.length > 0)) return [3 /*break*/, 8];\r\n                        _f.label = 1;\r\n                    case 1:\r\n                        _f.trys.push([1, 6, 7, 8]);\r\n                        realUsers_1 = __values(realUsers), realUsers_1_1 = realUsers_1.next();\r\n                        _f.label = 2;\r\n                    case 2:\r\n                        if (!!realUsers_1_1.done) return [3 /*break*/, 5];\r\n                        username = realUsers_1_1.value;\r\n                        prom.push(this[doTask ? 'followUser' : 'unfollowUser'](username));\r\n                        return [4 /*yield*/, delay(1000)];\r\n                    case 3:\r\n                        _f.sent();\r\n                        _f.label = 4;\r\n                    case 4:\r\n                        realUsers_1_1 = realUsers_1.next();\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 8];\r\n                    case 6:\r\n                        e_1_1 = _f.sent();\r\n                        e_1 = { error: e_1_1 };\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (realUsers_1_1 && !realUsers_1_1.done && (_e = realUsers_1.return)) _e.call(realUsers_1);\r\n                        }\r\n                        finally { if (e_1) throw e_1.error; }\r\n                        return [7 /*endfinally*/];\r\n                    case 8: return [4 /*yield*/, Promise.all(prom).then(function () { return true; })];\r\n                    case 9: \r\n                    // TODO: 返回值处理\r\n                    return [2 /*return*/, _f.sent()];\r\n                    case 10:\r\n                        error_5 = _f.sent();\r\n                        throwError(error_5, 'Instagram.toggleUsers');\r\n                        return [2 /*return*/, false];\r\n                    case 11: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Instagram;\r\n}(Social));\r\nexport default Instagram;\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-09-30 09:43:32\r\n * @LastEditTime : 2021-10-30 12:43:41\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/social/Reddit.ts\r\n * @Description  : Reddit 订阅&取消订阅\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nimport Social from './Social';\r\nimport echoLog from '../echoLog';\r\nimport throwError from '../tools/throwError';\r\nimport httpRequest from '../tools/httpRequest';\r\nimport getI18n from '../i18n/i18n';\r\nimport { unique, delay } from '../tools/tools';\r\nvar Reddit = /** @class */ (function (_super) {\r\n    __extends(Reddit, _super);\r\n    // TODO: 任务识别\r\n    function Reddit(id) {\r\n        var _a;\r\n        var _this = _super.call(this) || this;\r\n        _this.tasks = GM_getValue(\"Reddit-\" + id) || { reddits: [] }; // eslint-disable-line new-cap\r\n        _this.whiteList = ((_a = GM_getValue('whiteList')) === null || _a === void 0 ? void 0 : _a.reddit) || { reddits: [] }; // eslint-disable-line new-cap\r\n        _this.auth = GM_getValue('redditAuth') || {}; // eslint-disable-line new-cap\r\n        return _this;\r\n    }\r\n    // 通用化\r\n    Reddit.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isVerified, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.updateToken()];\r\n                    case 1:\r\n                        isVerified = _a.sent();\r\n                        if (isVerified) {\r\n                            echoLog({ text: 'Init reddit success!' });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        echoLog({ text: 'Init reddit failed!' });\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_1 = _a.sent();\r\n                        throwError(error_1, 'Reddit.init');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Reddit.prototype.updateToken = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, _a, result, statusText, status_1, data, _b, accessToken, error_2;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        _c.trys.push([0, 2, , 3]);\r\n                        logStatus = echoLog({ type: 'text', text: 'updateRedditInfo' });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: 'https://www.reddit.com/',\r\n                                method: 'GET',\r\n                                nochche: true,\r\n                                headers: {\r\n                                    'Cache-Control': 'no-cache'\r\n                                }\r\n                            })];\r\n                    case 1:\r\n                        _a = _c.sent(), result = _a.result, statusText = _a.statusText, status_1 = _a.status, data = _a.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                                if (data.responseText.includes('www.reddit.com/login/')) {\r\n                                    logStatus.error(\"Error:\" + getI18n('loginReddit'), true);\r\n                                    return [2 /*return*/, false];\r\n                                }\r\n                                _b = __read(data.responseText.match(/\"accessToken\":\"(.*?)\",\"expires\":\"(.*?)\"/) || [], 2), accessToken = _b[1];\r\n                                if (accessToken) {\r\n                                    this.auth.token = accessToken;\r\n                                    logStatus.success();\r\n                                    return [2 /*return*/, true];\r\n                                }\r\n                                logStatus.error('Error: Parameter \"accessToken\" not found!');\r\n                                return [2 /*return*/, false];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_1 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_2 = _c.sent();\r\n                        throwError(error_2, 'Reddit.updateToken');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Reddit.prototype.toggleTask = function (_a) {\r\n        var name = _a.name, _b = _a.doTask, doTask = _b === void 0 ? true : _b;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var type, logStatus, _c, result, statusText, status_2, data, error_3;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        _d.trys.push([0, 2, , 3]);\r\n                        if (!doTask && this.whiteList.reddits.includes(name)) {\r\n                            // TODO: 直接echo\r\n                            echoLog({ type: 'whiteList', text: name });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        type = doTask ? 'joinReddit' : 'leaveReddit';\r\n                        if (/^u_/.test(name)) {\r\n                            type = doTask ? 'followRedditUser' : 'unfollowRedditUser';\r\n                        }\r\n                        logStatus = echoLog({ type: type, text: name });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: 'https://oauth.reddit.com/api/subscribe?redditWebClient=desktop2x&app=desktop2x-client-production&raw_json=1&gilding_detail=1',\r\n                                method: 'POST',\r\n                                headers: { authorization: \"Bearer \" + this.auth.token, 'content-type': 'application/x-www-form-urlencoded' },\r\n                                data: $.param({\r\n                                    action: doTask ? 'sub' : 'unsub',\r\n                                    sr_name: name,\r\n                                    api_type: 'json' // eslint-disable-line camelcase\r\n                                })\r\n                            })];\r\n                    case 1:\r\n                        _c = _d.sent(), result = _c.result, statusText = _c.statusText, status_2 = _c.status, data = _c.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                                logStatus.success();\r\n                                if (doTask)\r\n                                    this.tasks.reddits = unique(__spreadArray(__spreadArray([], __read(this.tasks.reddits), false), [name], false));\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_2 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_3 = _d.sent();\r\n                        throwError(error_3, 'Reddit.toggleTask');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Reddit.prototype.toggle = function (_a) {\r\n        var _b = _a.doTask, doTask = _b === void 0 ? true : _b, _c = _a.reddits, reddits = _c === void 0 ? [] : _c, _d = _a.redditLinks, redditLinks = _d === void 0 ? [] : _d;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var prom, realReddits, realReddits_1, realReddits_1_1, name_1, e_1_1, error_4;\r\n            var e_1, _e;\r\n            return __generator(this, function (_f) {\r\n                switch (_f.label) {\r\n                    case 0:\r\n                        _f.trys.push([0, 10, , 11]);\r\n                        prom = [];\r\n                        realReddits = this.getRealParams('reddits', reddits, redditLinks, doTask, function (link) {\r\n                            var _a, _b;\r\n                            var name = (_a = link.match(/https?:\\/\\/www\\.reddit\\.com\\/r\\/([^/]*)/)) === null || _a === void 0 ? void 0 : _a[1];\r\n                            var userName = (_b = link.match(/https?:\\/\\/www\\.reddit\\.com\\/user\\/([^/]*)/)) === null || _b === void 0 ? void 0 : _b[1];\r\n                            if (userName) {\r\n                                return name || userName;\r\n                            }\r\n                            return name;\r\n                        });\r\n                        if (!(realReddits.length > 0)) return [3 /*break*/, 8];\r\n                        _f.label = 1;\r\n                    case 1:\r\n                        _f.trys.push([1, 6, 7, 8]);\r\n                        realReddits_1 = __values(realReddits), realReddits_1_1 = realReddits_1.next();\r\n                        _f.label = 2;\r\n                    case 2:\r\n                        if (!!realReddits_1_1.done) return [3 /*break*/, 5];\r\n                        name_1 = realReddits_1_1.value;\r\n                        prom.push(this.toggleTask({ name: name_1, doTask: doTask }));\r\n                        return [4 /*yield*/, delay(1000)];\r\n                    case 3:\r\n                        _f.sent();\r\n                        _f.label = 4;\r\n                    case 4:\r\n                        realReddits_1_1 = realReddits_1.next();\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 8];\r\n                    case 6:\r\n                        e_1_1 = _f.sent();\r\n                        e_1 = { error: e_1_1 };\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (realReddits_1_1 && !realReddits_1_1.done && (_e = realReddits_1.return)) _e.call(realReddits_1);\r\n                        }\r\n                        finally { if (e_1) throw e_1.error; }\r\n                        return [7 /*endfinally*/];\r\n                    case 8: return [4 /*yield*/, Promise.all(prom).then(function () { return true; })];\r\n                    case 9: \r\n                    // TODO: 返回值处理\r\n                    return [2 /*return*/, _f.sent()];\r\n                    case 10:\r\n                        error_4 = _f.sent();\r\n                        throwError(error_4, 'Reddit.toggle');\r\n                        return [2 /*return*/, false];\r\n                    case 11: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Reddit;\r\n}(Social));\r\nexport default Reddit;\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-04 10:00:41\r\n * @LastEditTime : 2021-10-30 12:49:01\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/social/Twitch.ts\r\n * @Description  : Twitch 关注/取关频道\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nimport Social from './Social';\r\nimport echoLog from '../echoLog';\r\nimport throwError from '../tools/throwError';\r\nimport httpRequest from '../tools/httpRequest';\r\nimport { unique, delay } from '../tools/tools';\r\nvar Twitch = /** @class */ (function (_super) {\r\n    __extends(Twitch, _super);\r\n    // TODO: 任务识别\r\n    function Twitch(id) {\r\n        var _a;\r\n        var _this = _super.call(this) || this;\r\n        _this.tasks = GM_getValue(\"Twitch-\" + id) || { channels: [] }; // eslint-disable-line new-cap\r\n        _this.whiteList = ((_a = GM_getValue('whiteList')) === null || _a === void 0 ? void 0 : _a.twitch) || { channels: [] }; // eslint-disable-line new-cap\r\n        _this.auth = GM_getValue('twitchAuth') || {}; // eslint-disable-line new-cap\r\n        return _this;\r\n    }\r\n    // 通用化,log\r\n    Twitch.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isVerified, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        if (!!this.auth.authToken) return [3 /*break*/, 2];\r\n                        echoLog({ type: 'updateTwitchAuth' });\r\n                        return [4 /*yield*/, this.updateAuth()];\r\n                    case 1:\r\n                        if (!(_a.sent())) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [2 /*return*/, true];\r\n                    case 2: return [4 /*yield*/, this.verifyAuth()];\r\n                    case 3:\r\n                        isVerified = _a.sent();\r\n                        if (isVerified) {\r\n                            echoLog({ text: 'Init twitch success!' });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        GM_setValue('twitchAuth', { auth: null }); // eslint-disable-line new-cap\r\n                        return [4 /*yield*/, this.updateAuth()];\r\n                    case 4:\r\n                        if (_a.sent()) {\r\n                            echoLog({ text: 'Init twitch success!' });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        echoLog({ text: 'Init twitch failed!' });\r\n                        return [2 /*return*/, false];\r\n                    case 5:\r\n                        error_1 = _a.sent();\r\n                        throwError(error_1, 'Twitch.init');\r\n                        return [2 /*return*/, false];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitch.prototype.verifyAuth = function () {\r\n        var _a, _b, _c;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, _d, result, statusText, status_1, data, error_2;\r\n            return __generator(this, function (_e) {\r\n                switch (_e.label) {\r\n                    case 0:\r\n                        _e.trys.push([0, 2, , 3]);\r\n                        logStatus = echoLog({ type: 'text', text: 'verifyTwitchAuth' });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: 'https://gql.twitch.tv/gql',\r\n                                method: 'POST',\r\n                                dataType: 'json',\r\n                                headers: { Authorization: \"OAuth \" + this.auth.authToken, 'Client-Id': this.auth.clientId },\r\n                                data: ('[{\"operationName\":\"FrontPageNew_User\",\"variables\":{\"limit\":1},\"extensions\":{\"persistedQuery\":{\"version\":1,' +\r\n                                    '\"sha256Hash\":\"64bd07a2cbaca80699d62636d966cf6395a5d14a1f0a14282067dcb28b13eb11\"}}}]')\r\n                            })];\r\n                    case 1:\r\n                        _d = _e.sent(), result = _d.result, statusText = _d.statusText, status_1 = _d.status, data = _d.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200 && ((_c = (_b = (_a = data.response) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.currentUser)) {\r\n                                logStatus.success();\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_1 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_2 = _e.sent();\r\n                        throwError(error_2, 'Twitch.verifyAuth');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitch.prototype.updateAuth = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus_1, error_3;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        logStatus_1 = echoLog({ type: 'text', text: 'updateTwitchAuth' });\r\n                        return [4 /*yield*/, new Promise(function (resolve) {\r\n                                var newTab = GM_openInTab('https://www.twitch.tv/#auth', // eslint-disable-line new-cap\r\n                                { active: true, insert: true, setParent: true });\r\n                                newTab.onclose = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                    var auth, _a;\r\n                                    return __generator(this, function (_b) {\r\n                                        switch (_b.label) {\r\n                                            case 0:\r\n                                                auth = GM_getValue('twitchAuth');\r\n                                                if (!auth) return [3 /*break*/, 2];\r\n                                                this.auth = auth;\r\n                                                logStatus_1.success();\r\n                                                _a = resolve;\r\n                                                return [4 /*yield*/, this.verifyAuth()];\r\n                                            case 1:\r\n                                                _a.apply(void 0, [_b.sent()]);\r\n                                                return [3 /*break*/, 3];\r\n                                            case 2:\r\n                                                logStatus_1.error('Error: Update twitch auth failed!');\r\n                                                resolve(false);\r\n                                                _b.label = 3;\r\n                                            case 3: return [2 /*return*/];\r\n                                        }\r\n                                    });\r\n                                }); };\r\n                            })];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2:\r\n                        error_3 = _a.sent();\r\n                        throwError(error_3, 'Twitch.updateAuth');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitch.prototype.toggleChannel = function (_a) {\r\n        var name = _a.name, _b = _a.doTask, doTask = _b === void 0 ? true : _b;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var channelId, logStatus, followData, unfollowData, _c, result, statusText, status_2, data, error_4;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        _d.trys.push([0, 3, , 4]);\r\n                        if (!doTask && this.whiteList.channels.includes(name)) {\r\n                            // TODO: 直接echo\r\n                            echoLog({ type: 'whiteList', text: name });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        return [4 /*yield*/, this.getChannelId(name)];\r\n                    case 1:\r\n                        channelId = _d.sent();\r\n                        if (!channelId)\r\n                            return [2 /*return*/, false];\r\n                        logStatus = echoLog({ type: (doTask ? '' : 'un') + \"followTwitchChannel\", text: name });\r\n                        followData = (\"[{\\\"operationName\\\":\\\"FollowButton_FollowUser\\\",\\\"variables\\\":{\\\"input\\\":{\\\"disableNotifications\\\":false,\\\"targetID\\\":\\\"\" + channelId +\r\n                            '\"}},\"extensions\":{\"persistedQuery\":{\"version\":1,\"sha256Hash\":\"3efee1acda90efdff9fef6e6b4a29213be3ee490781c5b54469717b6131ffdfe\"}}}]');\r\n                        unfollowData = (\"[{\\\"operationName\\\":\\\"FollowButton_UnfollowUser\\\",\\\"variables\\\":{\\\"input\\\":{\\\"targetID\\\":\\\"\" + channelId + \"\\\"}},\" +\r\n                            '\"extensions\":{\"persistedQuery\":{\"version\":1,\"sha256Hash\":\"d7fbdb4e9780dcdc0cc1618ec783309471cd05a59584fc3c56ea1c52bb632d41\"}}}]');\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: 'https://gql.twitch.tv/gql',\r\n                                method: 'POST',\r\n                                dataType: 'json',\r\n                                headers: { Authorization: \"OAuth \" + this.auth.authToken },\r\n                                data: doTask ? followData : unfollowData\r\n                            })];\r\n                    case 2:\r\n                        _c = _d.sent(), result = _c.result, statusText = _c.statusText, status_2 = _c.status, data = _c.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                                logStatus.success();\r\n                                if (doTask) {\r\n                                    this.tasks.channels = unique(__spreadArray(__spreadArray([], __read(this.tasks.channels), false), [name], false));\r\n                                }\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_2 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 3:\r\n                        error_4 = _d.sent();\r\n                        throwError(error_4, 'Twitch.toggleChannel');\r\n                        return [2 /*return*/, false];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitch.prototype.getChannelId = function (name) {\r\n        var _a, _b, _c, _d;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, _e, result, statusText, status_3, data, channelId, error_5;\r\n            return __generator(this, function (_f) {\r\n                switch (_f.label) {\r\n                    case 0:\r\n                        _f.trys.push([0, 2, , 3]);\r\n                        logStatus = echoLog({ type: 'getTwitchChannelId', text: name });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: 'https://gql.twitch.tv/gql',\r\n                                method: 'POST',\r\n                                headers: { Authorization: \"OAuth \" + this.auth.authToken, 'Client-Id': this.auth.clientId },\r\n                                responseType: 'json',\r\n                                data: (\"[{\\\"operationName\\\":\\\"ActiveWatchParty\\\",\\\"variables\\\":{\\\"channelLogin\\\":\\\"\" + name + \"\\\"},\" +\r\n                                    '\"extensions\":{\"persistedQuery\":{\"version\":1,\"sha256Hash\":\"4a8156c97b19e3a36e081cf6d6ddb5dbf9f9b02ae60e4d2ff26ed70aebc80a30\"}}}]')\r\n                            })];\r\n                    case 1:\r\n                        _e = _f.sent(), result = _e.result, statusText = _e.statusText, status_3 = _e.status, data = _e.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                                channelId = String((_d = (_c = (_b = (_a = data.response) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c.user) === null || _d === void 0 ? void 0 : _d.id);\r\n                                if (channelId) {\r\n                                    logStatus.success();\r\n                                    return [2 /*return*/, channelId];\r\n                                }\r\n                                logStatus.error(\"Error:\" + data.statusText + \"(\" + data.status + \")\");\r\n                                return [2 /*return*/, false];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_3 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_5 = _f.sent();\r\n                        throwError(error_5, 'Twitch.getChannelId');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitch.prototype.toggle = function (_a) {\r\n        var _b = _a.doTask, doTask = _b === void 0 ? true : _b, _c = _a.channels, channels = _c === void 0 ? [] : _c, _d = _a.channelLinks, channelLinks = _d === void 0 ? [] : _d;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var prom, realChannels, realChannels_1, realChannels_1_1, channel, e_1_1, error_6;\r\n            var e_1, _e;\r\n            return __generator(this, function (_f) {\r\n                switch (_f.label) {\r\n                    case 0:\r\n                        _f.trys.push([0, 9, , 10]);\r\n                        prom = [];\r\n                        realChannels = this.getRealParams('channels', channels, channelLinks, doTask, function (link) { var _a; return (_a = link.match(/https:\\/\\/www\\.twitch\\.tv\\/(.+)/)) === null || _a === void 0 ? void 0 : _a[1]; });\r\n                        if (!(realChannels.length > 0)) return [3 /*break*/, 8];\r\n                        _f.label = 1;\r\n                    case 1:\r\n                        _f.trys.push([1, 6, 7, 8]);\r\n                        realChannels_1 = __values(realChannels), realChannels_1_1 = realChannels_1.next();\r\n                        _f.label = 2;\r\n                    case 2:\r\n                        if (!!realChannels_1_1.done) return [3 /*break*/, 5];\r\n                        channel = realChannels_1_1.value;\r\n                        prom.push(this.toggleChannel({ name: channel, doTask: doTask }));\r\n                        return [4 /*yield*/, delay(1000)];\r\n                    case 3:\r\n                        _f.sent();\r\n                        _f.label = 4;\r\n                    case 4:\r\n                        realChannels_1_1 = realChannels_1.next();\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 8];\r\n                    case 6:\r\n                        e_1_1 = _f.sent();\r\n                        e_1 = { error: e_1_1 };\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (realChannels_1_1 && !realChannels_1_1.done && (_e = realChannels_1.return)) _e.call(realChannels_1);\r\n                        }\r\n                        finally { if (e_1) throw e_1.error; }\r\n                        return [7 /*endfinally*/];\r\n                    case 8: \r\n                    // TODO: 返回值处理\r\n                    return [2 /*return*/, Promise.all(prom).then(function () { return true; })];\r\n                    case 9:\r\n                        error_6 = _f.sent();\r\n                        throwError(error_6, 'Twitch.toggle');\r\n                        return [2 /*return*/, false];\r\n                    case 10: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Twitch;\r\n}(Social));\r\nexport default Twitch;\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-04 10:36:57\r\n * @LastEditTime : 2021-10-30 13:02:33\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/scripts/social/Twitter.ts\r\n * @Description  : Twitter 关注/取关用户,转推/取消转推推文\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __values = (this && this.__values) || function(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n};\r\nimport Social from './Social';\r\nimport echoLog from '../echoLog';\r\nimport throwError from '../tools/throwError';\r\nimport httpRequest from '../tools/httpRequest';\r\nimport { unique, delay } from '../tools/tools';\r\nvar Twitter = /** @class */ (function (_super) {\r\n    __extends(Twitter, _super);\r\n    // TODO: 任务识别\r\n    function Twitter(id, verifyId) {\r\n        var _a;\r\n        var _this = _super.call(this) || this;\r\n        _this.verifyId = '783214';\r\n        _this.tasks = GM_getValue(\"Twitter-\" + id) || { users: [], retweets: [], likes: [] }; // eslint-disable-line new-cap\r\n        _this.whiteList = ((_a = GM_getValue('whiteList')) === null || _a === void 0 ? void 0 : _a.twitter) || { users: [], retweets: [], likes: [] }; // eslint-disable-line new-cap\r\n        _this.auth = GM_getValue('twitterAuth') || {}; // eslint-disable-line new-cap\r\n        if (verifyId) {\r\n            _this.verifyId = verifyId;\r\n        }\r\n        return _this;\r\n    }\r\n    // 通用化,log\r\n    Twitter.prototype.init = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var isVerified, error_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 5, , 6]);\r\n                        if (!!this.auth.ct0) return [3 /*break*/, 2];\r\n                        echoLog({ type: 'updateTwitterAuth' });\r\n                        return [4 /*yield*/, this.updateAuth()];\r\n                    case 1:\r\n                        if (!(_a.sent())) {\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [2 /*return*/, true];\r\n                    case 2: return [4 /*yield*/, this.verifyAuth()];\r\n                    case 3:\r\n                        isVerified = _a.sent();\r\n                        if (isVerified) {\r\n                            echoLog({ text: 'Init twitter success!' });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        GM_setValue('twitterAuth', { auth: null }); // eslint-disable-line new-cap\r\n                        return [4 /*yield*/, this.updateAuth()];\r\n                    case 4:\r\n                        if (_a.sent()) {\r\n                            echoLog({ text: 'Init twitter success!' });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        echoLog({ text: 'Init twitter failed!' });\r\n                        return [2 /*return*/, false];\r\n                    case 5:\r\n                        error_1 = _a.sent();\r\n                        throwError(error_1, 'Twitter.init');\r\n                        return [2 /*return*/, false];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitter.prototype.verifyAuth = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4 /*yield*/, this.toggleUser({ name: 'verify', doTask: true, verify: true })];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2:\r\n                        error_2 = _a.sent();\r\n                        throwError(error_2, 'Twitter.verifyAuth');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    // TODO: 添加跳转\r\n    Twitter.prototype.updateAuth = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus_1, ct0, error_3;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        logStatus_1 = echoLog({ type: 'text', text: 'updateTwitchAuth' });\r\n                        return [4 /*yield*/, new Promise(function (resolve) {\r\n                                var newTab = GM_openInTab('https://twitter.com/settings/account?k#auth', // eslint-disable-line new-cap\r\n                                { active: true, insert: true, setParent: true });\r\n                                newTab.onclose = function () { return __awaiter(_this, void 0, void 0, function () {\r\n                                    var auth, _a;\r\n                                    return __generator(this, function (_b) {\r\n                                        switch (_b.label) {\r\n                                            case 0:\r\n                                                auth = GM_getValue('twitterAuth');\r\n                                                if (!auth) return [3 /*break*/, 2];\r\n                                                this.auth = auth;\r\n                                                logStatus_1.success();\r\n                                                _a = resolve;\r\n                                                return [4 /*yield*/, this.verifyAuth()];\r\n                                            case 1:\r\n                                                _a.apply(void 0, [_b.sent()]);\r\n                                                return [3 /*break*/, 3];\r\n                                            case 2:\r\n                                                logStatus_1.error('Error: Update twitter auth failed!');\r\n                                                resolve(false);\r\n                                                _b.label = 3;\r\n                                            case 3: return [2 /*return*/];\r\n                                        }\r\n                                    });\r\n                                }); };\r\n                            })];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                    case 2:\r\n                        error_3 = _a.sent();\r\n                        throwError(error_3, 'Twitter.updateToken');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitter.prototype.toggleUser = function (_a) {\r\n        var _b, _c, _d;\r\n        var name = _a.name, _e = _a.doTask, doTask = _e === void 0 ? true : _e, _f = _a.verify, verify = _f === void 0 ? false : _f;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var userId, _g, logStatus, _h, result, statusText, status_1, data, error_4;\r\n            return __generator(this, function (_j) {\r\n                switch (_j.label) {\r\n                    case 0:\r\n                        _j.trys.push([0, 5, , 6]);\r\n                        if (!doTask && !verify && this.whiteList.users.includes(name)) {\r\n                            // TODO: 直接echo\r\n                            echoLog({ type: 'whiteList', text: name });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        if (!verify) return [3 /*break*/, 1];\r\n                        _g = this.verifyId;\r\n                        return [3 /*break*/, 3];\r\n                    case 1: return [4 /*yield*/, this.getUserId(name)];\r\n                    case 2:\r\n                        _g = (_j.sent());\r\n                        _j.label = 3;\r\n                    case 3:\r\n                        userId = _g;\r\n                        if (!userId)\r\n                            return [2 /*return*/, false];\r\n                        logStatus = verify ?\r\n                            echoLog({ type: 'text', text: 'verifyTwitterAuth' }) :\r\n                            echoLog({ type: (doTask ? '' : 'un') + \"followTwitterUser\", text: name });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: \"https://api.twitter.com/1.1/friendships/\" + (doTask ? 'create' : 'destroy') + \".json\",\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    authorization: 'Bearer AAAAAAAAAAAAAAAAAAAAANRILgAAAAAAnNwIzUejRCOuH5E6I8xnZz4puTs%3D1Zv7ttfk8LF81IUq16cHjhLTvJu4FA33AGWWjCpTnA',\r\n                                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                                    'x-csrf-token': this.auth.ct0\r\n                                },\r\n                                responseType: 'json',\r\n                                /* eslint-disable camelcase */\r\n                                data: $.param({\r\n                                    include_profile_interstitial_type: 1,\r\n                                    include_blocking: 1,\r\n                                    include_blocked_by: 1,\r\n                                    include_followed_by: 1,\r\n                                    include_want_retweets: 1,\r\n                                    include_mute_edge: 1,\r\n                                    include_can_dm: 1,\r\n                                    include_can_media_tag: 1,\r\n                                    skip_status: 1,\r\n                                    id: userId\r\n                                })\r\n                                /* eslint-enable camelcase */\r\n                            })];\r\n                    case 4:\r\n                        _h = _j.sent(), result = _h.result, statusText = _h.statusText, status_1 = _h.status, data = _h.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                                logStatus.success();\r\n                                if (doTask && !verify) {\r\n                                    this.tasks.users = unique(__spreadArray(__spreadArray([], __read(this.tasks.users), false), [name], false));\r\n                                }\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            if (verify && (data === null || data === void 0 ? void 0 : data.status) === 403 && ((_d = (_c = (_b = data.response) === null || _b === void 0 ? void 0 : _b.errors) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d.code) === 158) {\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_1 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 5:\r\n                        error_4 = _j.sent();\r\n                        throwError(error_4, 'Twitter.toggleUser');\r\n                        return [2 /*return*/, false];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitter.prototype.getUserId = function (name) {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, _c, result, statusText, status_2, data, response, userId, error_5;\r\n            return __generator(this, function (_d) {\r\n                switch (_d.label) {\r\n                    case 0:\r\n                        _d.trys.push([0, 2, , 3]);\r\n                        logStatus = echoLog({ type: 'getTwitterUserId', text: name });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: ('https://api.twitter.com/graphql/-xfUfZsnR_zqjFd-IfrN5A/UserByScreenName' +\r\n                                    (\"?variables=%7B%22screen_name%22%3A%22\" + name + \"%22%2C%22withHighlightedLabel%22%3Atrue%7D\")),\r\n                                method: 'GET',\r\n                                headers: {\r\n                                    authorization: 'Bearer AAAAAAAAAAAAAAAAAAAAANRILgAAAAAAnNwIzUejRCOuH5E6I8xnZz4puTs%3D1Zv7ttfk8LF81IUq16cHjhLTvJu4FA33AGWWjCpTnA',\r\n                                    'content-type': 'application/json'\r\n                                },\r\n                                responseType: 'json',\r\n                                anonymous: true\r\n                            })];\r\n                    case 1:\r\n                        _c = _d.sent(), result = _c.result, statusText = _c.statusText, status_2 = _c.status, data = _c.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200) {\r\n                                response = data.response || (typeof data.responseText === 'object' ? data.responseText : null);\r\n                                if (!response) {\r\n                                    try {\r\n                                        response = JSON.parse(data.responseText);\r\n                                    }\r\n                                    catch (error) {\r\n                                        response = null;\r\n                                    }\r\n                                }\r\n                                userId = String((_b = (_a = response === null || response === void 0 ? void 0 : response.data) === null || _a === void 0 ? void 0 : _a.user) === null || _b === void 0 ? void 0 : _b.rest_id);\r\n                                if (userId) {\r\n                                    logStatus.success();\r\n                                    return [2 /*return*/, userId];\r\n                                }\r\n                                logStatus.error(\"Error:\" + data.statusText + \"(\" + data.status + \")\");\r\n                                return [2 /*return*/, false];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_2 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_5 = _d.sent();\r\n                        throwError(error_5, 'Twitter.getUserId');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitter.prototype.toggleRetweet = function (_a) {\r\n        var _b, _c, _d;\r\n        var retweetId = _a.retweetId, _e = _a.doTask, doTask = _e === void 0 ? true : _e;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var logStatus, _f, result, statusText, status_3, data, error_6;\r\n            return __generator(this, function (_g) {\r\n                switch (_g.label) {\r\n                    case 0:\r\n                        _g.trys.push([0, 2, , 3]);\r\n                        if (!doTask && this.whiteList.retweets.includes(retweetId)) {\r\n                            // TODO: 直接echo\r\n                            echoLog({ type: 'whiteList', text: retweetId });\r\n                            return [2 /*return*/, true];\r\n                        }\r\n                        logStatus = echoLog({ type: (doTask ? '' : 'un') + \"retweet\", text: retweetId });\r\n                        return [4 /*yield*/, httpRequest({\r\n                                url: \"https://api.twitter.com/1.1/statuses/\" + (doTask ? '' : 'un') + \"retweet.json\",\r\n                                method: 'POST',\r\n                                headers: {\r\n                                    authorization: 'Bearer AAAAAAAAAAAAAAAAAAAAANRILgAAAAAAnNwIzUejRCOuH5E6I8xnZz4puTs%3D1Zv7ttfk8LF81IUq16cHjhLTvJu4FA33AGWWjCpTnA',\r\n                                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                                    'x-csrf-token': this.auth.ct0\r\n                                },\r\n                                data: $.param({\r\n                                    tweet_mode: 'extended',\r\n                                    id: retweetId\r\n                                }),\r\n                                responseType: 'json'\r\n                            })];\r\n                    case 1:\r\n                        _f = _g.sent(), result = _f.result, statusText = _f.statusText, status_3 = _f.status, data = _f.data;\r\n                        if (result === 'Success') {\r\n                            if ((data === null || data === void 0 ? void 0 : data.status) === 200 || ((data === null || data === void 0 ? void 0 : data.status) === 403 && ((_d = (_c = (_b = data.response) === null || _b === void 0 ? void 0 : _b.errors) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d.code) === 327)) {\r\n                                logStatus.success();\r\n                                if (doTask)\r\n                                    this.tasks.retweets = unique(__spreadArray(__spreadArray([], __read(this.tasks.retweets), false), [retweetId], false));\r\n                                return [2 /*return*/, true];\r\n                            }\r\n                            logStatus.error(\"Error:\" + (data === null || data === void 0 ? void 0 : data.statusText) + \"(\" + (data === null || data === void 0 ? void 0 : data.status) + \")\");\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        logStatus.error(result + \":\" + statusText + \"(\" + status_3 + \")\");\r\n                        return [2 /*return*/, false];\r\n                    case 2:\r\n                        error_6 = _g.sent();\r\n                        throwError(error_6, 'Twitter.toggleRetweet');\r\n                        return [2 /*return*/, false];\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Twitter.prototype.toggle = function (_a) {\r\n        var _b = _a.doTask, doTask = _b === void 0 ? true : _b, _c = _a.users, users = _c === void 0 ? [] : _c, _d = _a.userLinks, userLinks = _d === void 0 ? [] : _d, _e = _a.retweets, retweets = _e === void 0 ? [] : _e, _f = _a.retweetLinks, retweetLinks = _f === void 0 ? [] : _f;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var prom, realUsers, realRetweets, realUsers_1, realUsers_1_1, user, e_1_1, realRetweets_1, realRetweets_1_1, retweet, e_2_1, error_7;\r\n            var e_1, _g, e_2, _h;\r\n            return __generator(this, function (_j) {\r\n                switch (_j.label) {\r\n                    case 0:\r\n                        _j.trys.push([0, 17, , 18]);\r\n                        prom = [];\r\n                        realUsers = this.getRealParams('users', users, userLinks, doTask, function (link) { var _a; return (_a = link.match(/https:\\/\\/twitter\\.com\\/(.+)/)) === null || _a === void 0 ? void 0 : _a[1]; });\r\n                        realRetweets = this.getRealParams('retweets', retweets, retweetLinks, doTask, function (link) { var _a; return (_a = link.match(/https:\\/\\/twitter\\.com\\/.*?\\/status\\/([\\d]+)/)) === null || _a === void 0 ? void 0 : _a[1]; });\r\n                        if (!(realUsers.length > 0)) return [3 /*break*/, 8];\r\n                        _j.label = 1;\r\n                    case 1:\r\n                        _j.trys.push([1, 6, 7, 8]);\r\n                        realUsers_1 = __values(realUsers), realUsers_1_1 = realUsers_1.next();\r\n                        _j.label = 2;\r\n                    case 2:\r\n                        if (!!realUsers_1_1.done) return [3 /*break*/, 5];\r\n                        user = realUsers_1_1.value;\r\n                        prom.push(this.toggleUser({ name: user, doTask: doTask }));\r\n                        return [4 /*yield*/, delay(1000)];\r\n                    case 3:\r\n                        _j.sent();\r\n                        _j.label = 4;\r\n                    case 4:\r\n                        realUsers_1_1 = realUsers_1.next();\r\n                        return [3 /*break*/, 2];\r\n                    case 5: return [3 /*break*/, 8];\r\n                    case 6:\r\n                        e_1_1 = _j.sent();\r\n                        e_1 = { error: e_1_1 };\r\n                        return [3 /*break*/, 8];\r\n                    case 7:\r\n                        try {\r\n                            if (realUsers_1_1 && !realUsers_1_1.done && (_g = realUsers_1.return)) _g.call(realUsers_1);\r\n                        }\r\n                        finally { if (e_1) throw e_1.error; }\r\n                        return [7 /*endfinally*/];\r\n                    case 8:\r\n                        if (!(realRetweets.length > 0)) return [3 /*break*/, 16];\r\n                        _j.label = 9;\r\n                    case 9:\r\n                        _j.trys.push([9, 14, 15, 16]);\r\n                        realRetweets_1 = __values(realRetweets), realRetweets_1_1 = realRetweets_1.next();\r\n                        _j.label = 10;\r\n                    case 10:\r\n                        if (!!realRetweets_1_1.done) return [3 /*break*/, 13];\r\n                        retweet = realRetweets_1_1.value;\r\n                        prom.push(this.toggleRetweet({ retweetId: retweet, doTask: doTask }));\r\n                        return [4 /*yield*/, delay(1000)];\r\n                    case 11:\r\n                        _j.sent();\r\n                        _j.label = 12;\r\n                    case 12:\r\n                        realRetweets_1_1 = realRetweets_1.next();\r\n                        return [3 /*break*/, 10];\r\n                    case 13: return [3 /*break*/, 16];\r\n                    case 14:\r\n                        e_2_1 = _j.sent();\r\n                        e_2 = { error: e_2_1 };\r\n                        return [3 /*break*/, 16];\r\n                    case 15:\r\n                        try {\r\n                            if (realRetweets_1_1 && !realRetweets_1_1.done && (_h = realRetweets_1.return)) _h.call(realRetweets_1);\r\n                        }\r\n                        finally { if (e_2) throw e_2.error; }\r\n                        return [7 /*endfinally*/];\r\n                    case 16: \r\n                    // TODO: 返回值处理\r\n                    return [2 /*return*/, Promise.all(prom).then(function () { return true; })];\r\n                    case 17:\r\n                        error_7 = _j.sent();\r\n                        throwError(error_7, 'Twitch.toggle');\r\n                        return [2 /*return*/, false];\r\n                    case 18: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Twitter;\r\n}(Social));\r\nexport default Twitter;\r\n","/*\r\n * @Author       : HCLonely\r\n * @Date         : 2021-10-26 15:44:54\r\n * @LastEditTime : 2021-10-30 12:46:27\r\n * @LastEditors  : HCLonely\r\n * @FilePath     : /auto-task-new/src/index.ts\r\n * @Description  :\r\n */\r\nvar _a;\r\nimport Discord from './scripts/social/Discord';\r\nimport Instagram from './scripts/social/Instagram';\r\nimport Reddit from './scripts/social/Reddit';\r\nimport Twitch from './scripts/social/Twitch';\r\nimport Twitter from './scripts/social/Twitter';\r\n// import Vk from './scripts/social/Vk';\r\n// import Youtube from './scripts/social/Youtube';\r\nif (window.location.hostname === 'discord.com' && window.location.hash === '#auth') { // todo: 登录\r\n    GM_setValue('discordAuth', { auth: (_a = window.localStorage.getItem('token')) === null || _a === void 0 ? void 0 : _a.replace(/^\"|\"$/g, '') }); // eslint-disable-line new-cap\r\n    window.close();\r\n}\r\nwindow.onload = function () {\r\n    var _a;\r\n    if (window.location.hostname === 'www.twitch.tv' && window.location.hash === '#auth') { // todo: 登录\r\n        var authToken = Cookies.get('auth-token');\r\n        var isLogin = !!Cookies.get('login');\r\n        if (isLogin) {\r\n            GM_setValue('twitchAuth', { authToken: authToken, clientId: (_a = commonOptions === null || commonOptions === void 0 ? void 0 : commonOptions.headers) === null || _a === void 0 ? void 0 : _a['Client-ID'] }); // eslint-disable-line new-cap\r\n            window.close();\r\n        }\r\n        else {\r\n            // 需要登录\r\n        }\r\n    }\r\n    if (window.location.hostname === 'twitter.com' && window.location.hash === '#auth') { // todo: 登录\r\n        var ct0 = Cookies.get('ct0');\r\n        if (ct0) {\r\n            GM_setValue('twitterAuth', { ct0: ct0 }); // eslint-disable-line new-cap\r\n            window.close();\r\n        }\r\n        else {\r\n            // 需要登录\r\n        }\r\n    }\r\n    unsafeWindow.Discord = Discord;\r\n    unsafeWindow.Instagram = Instagram;\r\n    unsafeWindow.Reddit = Reddit;\r\n    unsafeWindow.Twitch = Twitch;\r\n    unsafeWindow.Twitter = Twitter;\r\n    // unsafeWindow.Vk = Vk;\r\n    // unsafeWindow.Youtube = Youtube;\r\n    $('body').append('<div id=\"fuck-task-info\" style=\"position:fixed;bottom:10px;right:10px;width:300px;max-width:60%;\"></div>');\r\n};\r\n"],"sourceRoot":""}